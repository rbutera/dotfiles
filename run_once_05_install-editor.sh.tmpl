#!/bin/bash

install_bob() {
  echo "Installing bob (neovim version manager)..."
  cargo install bob-nvim

  echo "Installing latest stable neovim..."
  bob install stable
  bob use stable

  echo "Neovim installed at: $(bob which)"
}

prompt_for_install() {
  read -p "Install bob + neovim? (y/Y) " -n 1 -r
  echo
  if [[ $REPLY =~ ^[Yy]$ ]]; then
    if ! command -v cargo &> /dev/null; then
      echo "Rust/cargo not found. Please run the rust setup script first."
      exit 1
    fi
    install_bob
  else
    echo "Declined. Skipping bob and nvim"
  fi
}

prompt_for_install
