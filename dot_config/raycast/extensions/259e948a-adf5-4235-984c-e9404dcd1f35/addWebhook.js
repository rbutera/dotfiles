var b=Object.create;var d=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var W=Object.getOwnPropertyNames;var w=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var c=o=>d(o,"__esModule",{value:!0});var y=(o,t)=>{for(var n in t)d(o,n,{get:t[n],enumerable:!0})},m=(o,t,n,u)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of W(t))!k.call(o,i)&&(n||i!=="default")&&d(o,i,{get:()=>t[i],enumerable:!(u=C(t,i))||u.enumerable});return o},M=(o,t)=>m(c(d(o!=null?b(w(o)):{},"default",!t&&o&&o.__esModule?{get:()=>o.default,enumerable:!0}:{value:o,enumerable:!0})),o),S=(o=>(t,n)=>o&&o.get(t)||(n=m(c({}),t,1),o&&o.set(t,n),n))(typeof WeakMap!="undefined"?new WeakMap:0);var x={};y(x,{default:()=>g});var l=require("@raycast/api");var r=require("@raycast/api");var h=require("@raycast/api"),a=h.environment.supportPath+"/discord-extension-saved-data.json";var s=M(require("fs"));function p(o){if(console.log(o.name.length),o.name.length<1){(0,r.showToast)({title:"Channel Name is Required!",style:r.Toast.Style.Failure});return}if(!D(o.url)){(0,r.showToast)({title:"Invalid Webhook URL",message:"Please enter a valid webhook URL",style:r.Toast.Style.Failure});return}let t=v();if(t.find(n=>n.name===o.name)){(0,r.showToast)({title:"Webhook already exists",message:"Webhook with that name already exists"});return}t.push(o),s.default.writeFileSync(a,JSON.stringify(t)),(0,r.showToast)({title:"Webhook added",message:"Webhook added successfully"}),(0,r.popToRoot)()}function v(){s.default.existsSync(a)||s.default.writeFileSync(a,JSON.stringify([]));let o=s.default.readFileSync(a,"utf8");return JSON.parse(o)}function D(o){let t=o.split("/");return!(o.length<10||!o.startsWith("http")||t[t.length-1].length!=68)}var e=require("@raycast/api");function f(){return _jsx(e.Form.Dropdown,{id:"color",title:"Color"},_jsx(e.Form.Dropdown.Item,{title:"Blue",value:e.Color.Blue,icon:{source:e.Icon.Message,tintColor:e.Color.Blue}}),_jsx(e.Form.Dropdown.Item,{title:"Green",value:e.Color.Green,icon:{source:e.Icon.Message,tintColor:e.Color.Green}}),_jsx(e.Form.Dropdown.Item,{title:"Brown",value:e.Color.Brown,icon:{source:e.Icon.Message,tintColor:e.Color.Brown}}),_jsx(e.Form.Dropdown.Item,{title:"Magenta",value:e.Color.Magenta,icon:{source:e.Icon.Message,tintColor:e.Color.Magenta}}),_jsx(e.Form.Dropdown.Item,{title:"Orange",value:e.Color.Orange,icon:{source:e.Icon.Message,tintColor:e.Color.Orange}}),_jsx(e.Form.Dropdown.Item,{title:"Purple",value:e.Color.Purple,icon:{source:e.Icon.Message,tintColor:e.Color.Purple}}),_jsx(e.Form.Dropdown.Item,{title:"Red",value:e.Color.Red,icon:{source:e.Icon.Message,tintColor:e.Color.Red}}),_jsx(e.Form.Dropdown.Item,{title:"Yellow",value:e.Color.Yellow,icon:{source:e.Icon.Message,tintColor:e.Color.Yellow}}))}function g(){function o(t){p(t)}return _jsx(l.Form,{actions:_jsx(l.ActionPanel,null,_jsx(l.Action.SubmitForm,{title:"Submit Webhook",icon:l.Icon.Plus,onSubmit:o}))},_jsx(l.Form.TextField,{id:"name",defaultValue:"",placeholder:"Raycast Server, Gaming Server...",title:"Channel Name"}),_jsx(l.Form.TextField,{id:"url",defaultValue:"",placeholder:"https://discord.com/api/webhooks...",title:"Webhook URL"}),_jsx(f,null))}module.exports=S(x);0&&(module.exports={});
