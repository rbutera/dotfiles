var Rc=Object.create;var lr=Object.defineProperty,vc=Object.defineProperties,Tc=Object.getOwnPropertyDescriptor,Ec=Object.getOwnPropertyDescriptors,Cc=Object.getOwnPropertyNames,ta=Object.getOwnPropertySymbols,Pc=Object.getPrototypeOf,na=Object.prototype.hasOwnProperty,Ac=Object.prototype.propertyIsEnumerable;var ra=(t,r,o)=>r in t?lr(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o,H=(t,r)=>{for(var o in r||(r={}))na.call(r,o)&&ra(t,o,r[o]);if(ta)for(var o of ta(r))Ac.call(r,o)&&ra(t,o,r[o]);return t},Te=(t,r)=>vc(t,Ec(r)),oa=t=>lr(t,"__esModule",{value:!0});var cr=(t,r)=>()=>(t&&(r=t(t=0)),r);var O=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports),ia=(t,r)=>{for(var o in r)lr(t,o,{get:r[o],enumerable:!0})},aa=(t,r,o,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of Cc(r))!na.call(t,s)&&(o||s!=="default")&&lr(t,s,{get:()=>r[s],enumerable:!(i=Tc(r,s))||i.enumerable});return t},Ee=(t,r)=>aa(oa(lr(t!=null?Rc(Pc(t)):{},"default",!r&&t&&t.__esModule?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t),Ic=(t=>(r,o)=>t&&t.get(r)||(o=aa(oa({}),r,1),t&&t.set(r,o),o))(typeof WeakMap!="undefined"?new WeakMap:0);var ba=O((cn,pa)=>{(function(t,r){typeof cn=="object"&&typeof pa<"u"?r(cn):typeof define=="function"&&define.amd?define(["exports"],r):(t=typeof globalThis<"u"?globalThis:t||self,r(t.WebStreamsPolyfill={}))})(cn,function(t){"use strict";let r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:e=>`Symbol(${e})`;function o(){}function i(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let s=i();function u(e){return typeof e=="object"&&e!==null||typeof e=="function"}let c=o,m=Promise,h=Promise.prototype.then,d=Promise.resolve.bind(m),y=Promise.reject.bind(m);function R(e){return new m(e)}function g(e){return d(e)}function S(e){return y(e)}function _(e,n,a){return h.call(e,n,a)}function E(e,n,a){_(_(e,n,a),void 0,c)}function T(e,n){E(e,n)}function w(e,n){E(e,void 0,n)}function x(e,n,a){return _(e,n,a)}function M(e){_(e,void 0,c)}let P=(()=>{let e=s&&s.queueMicrotask;if(typeof e=="function")return e;let n=g(void 0);return a=>_(n,a)})();function D(e,n,a){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,n,a)}function A(e,n,a){try{return g(D(e,n,a))}catch(l){return S(l)}}let V=16384;class Z{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(n){let a=this._back,l=a;a._elements.length===V-1&&(l={_elements:[],_next:void 0}),a._elements.push(n),l!==a&&(this._back=l,a._next=l),++this._size}shift(){let n=this._front,a=n,l=this._cursor,f=l+1,p=n._elements,b=p[l];return f===V&&(a=n._next,f=0),--this._size,this._cursor=f,n!==a&&(this._front=a),p[l]=void 0,b}forEach(n){let a=this._cursor,l=this._front,f=l._elements;for(;(a!==f.length||l._next!==void 0)&&!(a===f.length&&(l=l._next,f=l._elements,a=0,f.length===0));)n(f[a]),++a}peek(){let n=this._front,a=this._cursor;return n._elements[a]}}function Y(e,n){e._ownerReadableStream=n,n._reader=e,n._state==="readable"?Gt(e):n._state==="closed"?Ir(e):ye(e,n._storedError)}function nt(e,n){let a=e._ownerReadableStream;return Re(a,n)}function oe(e){e._ownerReadableStream._state==="readable"?Fe(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):Or(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function qe(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function Gt(e){e._closedPromise=R((n,a)=>{e._closedPromise_resolve=n,e._closedPromise_reject=a})}function ye(e,n){Gt(e),Fe(e,n)}function Ir(e){Gt(e),kr(e)}function Fe(e,n){e._closedPromise_reject!==void 0&&(M(e._closedPromise),e._closedPromise_reject(n),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function Or(e,n){ye(e,n)}function kr(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}let wt=r("[[AbortSteps]]"),Rt=r("[[ErrorSteps]]"),Pe=r("[[CancelSteps]]"),ot=r("[[PullSteps]]"),it=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},We=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function Wn(e){return typeof e=="object"||typeof e=="function"}function N(e,n){if(e!==void 0&&!Wn(e))throw new TypeError(`${n} is not an object.`)}function U(e,n){if(typeof e!="function")throw new TypeError(`${n} is not a function.`)}function ie(e){return typeof e=="object"&&e!==null||typeof e=="function"}function ae(e,n){if(!ie(e))throw new TypeError(`${n} is not an object.`)}function te(e,n,a){if(e===void 0)throw new TypeError(`Parameter ${n} is required in '${a}'.`)}function Le(e,n,a){if(e===void 0)throw new TypeError(`${n} is required in '${a}'.`)}function se(e){return Number(e)}function Q(e){return e===0?0:e}function Ae(e){return Q(We(e))}function fe(e,n){let l=Number.MAX_SAFE_INTEGER,f=Number(e);if(f=Q(f),!it(f))throw new TypeError(`${n} is not a finite number`);if(f=Ae(f),f<0||f>l)throw new TypeError(`${n} is outside the accepted range of ${0} to ${l}, inclusive`);return!it(f)||f===0?0:f}function at(e,n){if(!Xe(e))throw new TypeError(`${n} is not a ReadableStream.`)}function ge(e){return new Yt(e)}function He(e,n){e._reader._readRequests.push(n)}function st(e,n,a){let f=e._reader._readRequests.shift();a?f._closeSteps():f._chunkSteps(n)}function Ie(e){return e._reader._readRequests.length}function Vt(e){let n=e._reader;return!(n===void 0||!Ge(n))}class Yt{constructor(n){if(te(n,1,"ReadableStreamDefaultReader"),at(n,"First parameter"),Ke(n))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Y(this,n),this._readRequests=new Z}get closed(){return Ge(this)?this._closedPromise:S(xr("closed"))}cancel(n=void 0){return Ge(this)?this._ownerReadableStream===void 0?S(qe("cancel")):nt(this,n):S(xr("cancel"))}read(){if(!Ge(this))return S(xr("read"));if(this._ownerReadableStream===void 0)return S(qe("read from"));let n,a,l=R((p,b)=>{n=p,a=b});return Qt(this,{_chunkSteps:p=>n({value:p,done:!1}),_closeSteps:()=>n({value:void 0,done:!0}),_errorSteps:p=>a(p)}),l}releaseLock(){if(!Ge(this))throw xr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");oe(this)}}}Object.defineProperties(Yt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Yt.prototype,r.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Ge(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readRequests")?!1:e instanceof Yt}function Qt(e,n){let a=e._ownerReadableStream;a._disturbed=!0,a._state==="closed"?n._closeSteps():a._state==="errored"?n._errorSteps(a._storedError):a._readableStreamController[ot](n)}function xr(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}let Ko=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class Zo{constructor(n,a){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=n,this._preventCancel=a}next(){let n=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?x(this._ongoingPromise,n,n):n(),this._ongoingPromise}return(n){let a=()=>this._returnSteps(n);return this._ongoingPromise?x(this._ongoingPromise,a,a):a()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let n=this._reader;if(n._ownerReadableStream===void 0)return S(qe("iterate"));let a,l,f=R((b,v)=>{a=b,l=v});return Qt(n,{_chunkSteps:b=>{this._ongoingPromise=void 0,P(()=>a({value:b,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,oe(n),a({value:void 0,done:!0})},_errorSteps:b=>{this._ongoingPromise=void 0,this._isFinished=!0,oe(n),l(b)}}),f}_returnSteps(n){if(this._isFinished)return Promise.resolve({value:n,done:!0});this._isFinished=!0;let a=this._reader;if(a._ownerReadableStream===void 0)return S(qe("finish iterating"));if(!this._preventCancel){let l=nt(a,n);return oe(a),x(l,()=>({value:n,done:!0}))}return oe(a),g({value:n,done:!0})}}let Jo={next(){return ei(this)?this._asyncIteratorImpl.next():S(ti("next"))},return(e){return ei(this)?this._asyncIteratorImpl.return(e):S(ti("return"))}};Ko!==void 0&&Object.setPrototypeOf(Jo,Ko);function nl(e,n){let a=ge(e),l=new Zo(a,n),f=Object.create(Jo);return f._asyncIteratorImpl=l,f}function ei(e){if(!u(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof Zo}catch{return!1}}function ti(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}let ri=Number.isNaN||function(e){return e!==e};function Xt(e){return e.slice()}function ni(e,n,a,l,f){new Uint8Array(e).set(new Uint8Array(a,l,f),n)}function _m(e){return e}function Br(e){return!1}function oi(e,n,a){if(e.slice)return e.slice(n,a);let l=a-n,f=new ArrayBuffer(l);return ni(f,0,e,n,l),f}function ol(e){return!(typeof e!="number"||ri(e)||e<0)}function ii(e){let n=oi(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(n)}function Ln(e){let n=e._queue.shift();return e._queueTotalSize-=n.size,e._queueTotalSize<0&&(e._queueTotalSize=0),n.value}function $n(e,n,a){if(!ol(a)||a===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:n,size:a}),e._queueTotalSize+=a}function il(e){return e._queue.peek().value}function Ve(e){e._queue=new Z,e._queueTotalSize=0}class Kt{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!zn(this))throw Nn("view");return this._view}respond(n){if(!zn(this))throw Nn("respond");if(te(n,1,"respond"),n=fe(n,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Br(this._view.buffer),Lr(this._associatedReadableByteStreamController,n)}respondWithNewView(n){if(!zn(this))throw Nn("respondWithNewView");if(te(n,1,"respondWithNewView"),!ArrayBuffer.isView(n))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Br(n.buffer),$r(this._associatedReadableByteStreamController,n)}}Object.defineProperties(Kt.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Kt.prototype,r.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class vt{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!ut(this))throw Jt("byobRequest");return jn(this)}get desiredSize(){if(!ut(this))throw Jt("desiredSize");return mi(this)}close(){if(!ut(this))throw Jt("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let n=this._controlledReadableByteStream._state;if(n!=="readable")throw new TypeError(`The stream (in ${n} state) is not in the readable state and cannot be closed`);Zt(this)}enqueue(n){if(!ut(this))throw Jt("enqueue");if(te(n,1,"enqueue"),!ArrayBuffer.isView(n))throw new TypeError("chunk must be an array buffer view");if(n.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(n.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let a=this._controlledReadableByteStream._state;if(a!=="readable")throw new TypeError(`The stream (in ${a} state) is not in the readable state and cannot be enqueued to`);Wr(this,n)}error(n=void 0){if(!ut(this))throw Jt("error");we(this,n)}[Pe](n){ai(this),Ve(this);let a=this._cancelAlgorithm(n);return Fr(this),a}[ot](n){let a=this._controlledReadableByteStream;if(this._queueTotalSize>0){let f=this._queue.shift();this._queueTotalSize-=f.byteLength,ci(this);let p=new Uint8Array(f.buffer,f.byteOffset,f.byteLength);n._chunkSteps(p);return}let l=this._autoAllocateChunkSize;if(l!==void 0){let f;try{f=new ArrayBuffer(l)}catch(b){n._errorSteps(b);return}let p={buffer:f,bufferByteLength:l,byteOffset:0,byteLength:l,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(p)}He(a,n),lt(this)}}Object.defineProperties(vt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(vt.prototype,r.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function ut(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")?!1:e instanceof vt}function zn(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")?!1:e instanceof Kt}function lt(e){if(!ll(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let a=e._pullAlgorithm();E(a,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,lt(e))},l=>{we(e,l)})}function ai(e){Un(e),e._pendingPullIntos=new Z}function Mn(e,n){let a=!1;e._state==="closed"&&(a=!0);let l=si(n);n.readerType==="default"?st(e,l,a):dl(e,l,a)}function si(e){let n=e.bytesFilled,a=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,n/a)}function Dr(e,n,a,l){e._queue.push({buffer:n,byteOffset:a,byteLength:l}),e._queueTotalSize+=l}function ui(e,n){let a=n.elementSize,l=n.bytesFilled-n.bytesFilled%a,f=Math.min(e._queueTotalSize,n.byteLength-n.bytesFilled),p=n.bytesFilled+f,b=p-p%a,v=f,I=!1;b>l&&(v=b-n.bytesFilled,I=!0);let B=e._queue;for(;v>0;){let q=B.peek(),F=Math.min(v,q.byteLength),G=n.byteOffset+n.bytesFilled;ni(n.buffer,G,q.buffer,q.byteOffset,F),q.byteLength===F?B.shift():(q.byteOffset+=F,q.byteLength-=F),e._queueTotalSize-=F,li(e,F,n),v-=F}return I}function li(e,n,a){a.bytesFilled+=n}function ci(e){e._queueTotalSize===0&&e._closeRequested?(Fr(e),sr(e._controlledReadableByteStream)):lt(e)}function Un(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function fi(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;let n=e._pendingPullIntos.peek();ui(e,n)&&(qr(e),Mn(e._controlledReadableByteStream,n))}}function al(e,n,a){let l=e._controlledReadableByteStream,f=1;n.constructor!==DataView&&(f=n.constructor.BYTES_PER_ELEMENT);let p=n.constructor,b=n.buffer,v={buffer:b,bufferByteLength:b.byteLength,byteOffset:n.byteOffset,byteLength:n.byteLength,bytesFilled:0,elementSize:f,viewConstructor:p,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(v),bi(l,a);return}if(l._state==="closed"){let I=new p(v.buffer,v.byteOffset,0);a._closeSteps(I);return}if(e._queueTotalSize>0){if(ui(e,v)){let I=si(v);ci(e),a._chunkSteps(I);return}if(e._closeRequested){let I=new TypeError("Insufficient bytes to fill elements in the given buffer");we(e,I),a._errorSteps(I);return}}e._pendingPullIntos.push(v),bi(l,a),lt(e)}function sl(e,n){let a=e._controlledReadableByteStream;if(Hn(a))for(;yi(a)>0;){let l=qr(e);Mn(a,l)}}function ul(e,n,a){if(li(e,n,a),a.bytesFilled<a.elementSize)return;qr(e);let l=a.bytesFilled%a.elementSize;if(l>0){let f=a.byteOffset+a.bytesFilled,p=oi(a.buffer,f-l,f);Dr(e,p,0,p.byteLength)}a.bytesFilled-=l,Mn(e._controlledReadableByteStream,a),fi(e)}function di(e,n){let a=e._pendingPullIntos.peek();Un(e),e._controlledReadableByteStream._state==="closed"?sl(e):ul(e,n,a),lt(e)}function qr(e){return e._pendingPullIntos.shift()}function ll(e){let n=e._controlledReadableByteStream;return n._state!=="readable"||e._closeRequested||!e._started?!1:!!(Vt(n)&&Ie(n)>0||Hn(n)&&yi(n)>0||mi(e)>0)}function Fr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Zt(e){let n=e._controlledReadableByteStream;if(!(e._closeRequested||n._state!=="readable")){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){let l=new TypeError("Insufficient bytes to fill elements in the given buffer");throw we(e,l),l}Fr(e),sr(n)}}function Wr(e,n){let a=e._controlledReadableByteStream;if(e._closeRequested||a._state!=="readable")return;let l=n.buffer,f=n.byteOffset,p=n.byteLength,b=l;if(e._pendingPullIntos.length>0){let v=e._pendingPullIntos.peek();Br(v.buffer),v.buffer=v.buffer}if(Un(e),Vt(a))if(Ie(a)===0)Dr(e,b,f,p);else{e._pendingPullIntos.length>0&&qr(e);let v=new Uint8Array(b,f,p);st(a,v,!1)}else Hn(a)?(Dr(e,b,f,p),fi(e)):Dr(e,b,f,p);lt(e)}function we(e,n){let a=e._controlledReadableByteStream;a._state==="readable"&&(ai(e),Ve(e),Fr(e),Mi(a,n))}function jn(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){let n=e._pendingPullIntos.peek(),a=new Uint8Array(n.buffer,n.byteOffset+n.bytesFilled,n.byteLength-n.bytesFilled),l=Object.create(Kt.prototype);fl(l,e,a),e._byobRequest=l}return e._byobRequest}function mi(e){let n=e._controlledReadableByteStream._state;return n==="errored"?null:n==="closed"?0:e._strategyHWM-e._queueTotalSize}function Lr(e,n){let a=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(n!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(n===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(a.bytesFilled+n>a.byteLength)throw new RangeError("bytesWritten out of range")}a.buffer=a.buffer,di(e,n)}function $r(e,n){let a=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(n.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(n.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(a.byteOffset+a.bytesFilled!==n.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(a.bufferByteLength!==n.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(a.bytesFilled+n.byteLength>a.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let f=n.byteLength;a.buffer=n.buffer,di(e,f)}function hi(e,n,a,l,f,p,b){n._controlledReadableByteStream=e,n._pullAgain=!1,n._pulling=!1,n._byobRequest=null,n._queue=n._queueTotalSize=void 0,Ve(n),n._closeRequested=!1,n._started=!1,n._strategyHWM=p,n._pullAlgorithm=l,n._cancelAlgorithm=f,n._autoAllocateChunkSize=b,n._pendingPullIntos=new Z,e._readableStreamController=n;let v=a();E(g(v),()=>{n._started=!0,lt(n)},I=>{we(n,I)})}function cl(e,n,a){let l=Object.create(vt.prototype),f=()=>{},p=()=>g(void 0),b=()=>g(void 0);n.start!==void 0&&(f=()=>n.start(l)),n.pull!==void 0&&(p=()=>n.pull(l)),n.cancel!==void 0&&(b=I=>n.cancel(I));let v=n.autoAllocateChunkSize;if(v===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");hi(e,l,f,p,b,a,v)}function fl(e,n,a){e._associatedReadableByteStreamController=n,e._view=a}function Nn(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function Jt(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function pi(e){return new er(e)}function bi(e,n){e._reader._readIntoRequests.push(n)}function dl(e,n,a){let f=e._reader._readIntoRequests.shift();a?f._closeSteps(n):f._chunkSteps(n)}function yi(e){return e._reader._readIntoRequests.length}function Hn(e){let n=e._reader;return!(n===void 0||!ct(n))}class er{constructor(n){if(te(n,1,"ReadableStreamBYOBReader"),at(n,"First parameter"),Ke(n))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!ut(n._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Y(this,n),this._readIntoRequests=new Z}get closed(){return ct(this)?this._closedPromise:S(zr("closed"))}cancel(n=void 0){return ct(this)?this._ownerReadableStream===void 0?S(qe("cancel")):nt(this,n):S(zr("cancel"))}read(n){if(!ct(this))return S(zr("read"));if(!ArrayBuffer.isView(n))return S(new TypeError("view must be an array buffer view"));if(n.byteLength===0)return S(new TypeError("view must have non-zero byteLength"));if(n.buffer.byteLength===0)return S(new TypeError("view's buffer must have non-zero byteLength"));if(Br(n.buffer),this._ownerReadableStream===void 0)return S(qe("read from"));let a,l,f=R((b,v)=>{a=b,l=v});return gi(this,n,{_chunkSteps:b=>a({value:b,done:!1}),_closeSteps:b=>a({value:b,done:!0}),_errorSteps:b=>l(b)}),f}releaseLock(){if(!ct(this))throw zr("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");oe(this)}}}Object.defineProperties(er.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(er.prototype,r.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function ct(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")?!1:e instanceof er}function gi(e,n,a){let l=e._ownerReadableStream;l._disturbed=!0,l._state==="errored"?a._errorSteps(l._storedError):al(l._readableStreamController,n,a)}function zr(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function tr(e,n){let{highWaterMark:a}=e;if(a===void 0)return n;if(ri(a)||a<0)throw new RangeError("Invalid highWaterMark");return a}function Mr(e){let{size:n}=e;return n||(()=>1)}function Ur(e,n){N(e,n);let a=e==null?void 0:e.highWaterMark,l=e==null?void 0:e.size;return{highWaterMark:a===void 0?void 0:se(a),size:l===void 0?void 0:ml(l,`${n} has member 'size' that`)}}function ml(e,n){return U(e,n),a=>se(e(a))}function hl(e,n){N(e,n);let a=e==null?void 0:e.abort,l=e==null?void 0:e.close,f=e==null?void 0:e.start,p=e==null?void 0:e.type,b=e==null?void 0:e.write;return{abort:a===void 0?void 0:pl(a,e,`${n} has member 'abort' that`),close:l===void 0?void 0:bl(l,e,`${n} has member 'close' that`),start:f===void 0?void 0:yl(f,e,`${n} has member 'start' that`),write:b===void 0?void 0:gl(b,e,`${n} has member 'write' that`),type:p}}function pl(e,n,a){return U(e,a),l=>A(e,n,[l])}function bl(e,n,a){return U(e,a),()=>A(e,n,[])}function yl(e,n,a){return U(e,a),l=>D(e,n,[l])}function gl(e,n,a){return U(e,a),(l,f)=>A(e,n,[l,f])}function Si(e,n){if(!Tt(e))throw new TypeError(`${n} is not a WritableStream.`)}function Sl(e){if(typeof e!="object"||e===null)return!1;try{return typeof e.aborted=="boolean"}catch{return!1}}let _l=typeof AbortController=="function";function wl(){if(_l)return new AbortController}class rr{constructor(n={},a={}){n===void 0?n=null:ae(n,"First parameter");let l=Ur(a,"Second parameter"),f=hl(n,"First parameter");if(wi(this),f.type!==void 0)throw new RangeError("Invalid type is specified");let b=Mr(l),v=tr(l,1);ql(this,f,v,b)}get locked(){if(!Tt(this))throw Vr("locked");return Et(this)}abort(n=void 0){return Tt(this)?Et(this)?S(new TypeError("Cannot abort a stream that already has a writer")):jr(this,n):S(Vr("abort"))}close(){return Tt(this)?Et(this)?S(new TypeError("Cannot close a stream that already has a writer")):Oe(this)?S(new TypeError("Cannot close an already-closing stream")):Ri(this):S(Vr("close"))}getWriter(){if(!Tt(this))throw Vr("getWriter");return _i(this)}}Object.defineProperties(rr.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(rr.prototype,r.toStringTag,{value:"WritableStream",configurable:!0});function _i(e){return new nr(e)}function Rl(e,n,a,l,f=1,p=()=>1){let b=Object.create(rr.prototype);wi(b);let v=Object.create(Ct.prototype);return Ai(b,v,e,n,a,l,f,p),b}function wi(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new Z,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function Tt(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")?!1:e instanceof rr}function Et(e){return e._writer!==void 0}function jr(e,n){var a;if(e._state==="closed"||e._state==="errored")return g(void 0);e._writableStreamController._abortReason=n,(a=e._writableStreamController._abortController)===null||a===void 0||a.abort();let l=e._state;if(l==="closed"||l==="errored")return g(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let f=!1;l==="erroring"&&(f=!0,n=void 0);let p=R((b,v)=>{e._pendingAbortRequest={_promise:void 0,_resolve:b,_reject:v,_reason:n,_wasAlreadyErroring:f}});return e._pendingAbortRequest._promise=p,f||Vn(e,n),p}function Ri(e){let n=e._state;if(n==="closed"||n==="errored")return S(new TypeError(`The stream (in ${n} state) is not in the writable state and cannot be closed`));let a=R((f,p)=>{let b={_resolve:f,_reject:p};e._closeRequest=b}),l=e._writer;return l!==void 0&&e._backpressure&&n==="writable"&&ro(l),Fl(e._writableStreamController),a}function vl(e){return R((a,l)=>{let f={_resolve:a,_reject:l};e._writeRequests.push(f)})}function Gn(e,n){if(e._state==="writable"){Vn(e,n);return}Yn(e)}function Vn(e,n){let a=e._writableStreamController;e._state="erroring",e._storedError=n;let l=e._writer;l!==void 0&&Ti(l,n),!Al(e)&&a._started&&Yn(e)}function Yn(e){e._state="errored",e._writableStreamController[Rt]();let n=e._storedError;if(e._writeRequests.forEach(f=>{f._reject(n)}),e._writeRequests=new Z,e._pendingAbortRequest===void 0){Nr(e);return}let a=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,a._wasAlreadyErroring){a._reject(n),Nr(e);return}let l=e._writableStreamController[wt](a._reason);E(l,()=>{a._resolve(),Nr(e)},f=>{a._reject(f),Nr(e)})}function Tl(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function El(e,n){e._inFlightWriteRequest._reject(n),e._inFlightWriteRequest=void 0,Gn(e,n)}function Cl(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,e._state==="erroring"&&(e._storedError=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";let a=e._writer;a!==void 0&&xi(a)}function Pl(e,n){e._inFlightCloseRequest._reject(n),e._inFlightCloseRequest=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._reject(n),e._pendingAbortRequest=void 0),Gn(e,n)}function Oe(e){return!(e._closeRequest===void 0&&e._inFlightCloseRequest===void 0)}function Al(e){return!(e._inFlightWriteRequest===void 0&&e._inFlightCloseRequest===void 0)}function Il(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function Ol(e){e._inFlightWriteRequest=e._writeRequests.shift()}function Nr(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let n=e._writer;n!==void 0&&eo(n,e._storedError)}function Qn(e,n){let a=e._writer;a!==void 0&&n!==e._backpressure&&(n?jl(a):ro(a)),e._backpressure=n}class nr{constructor(n){if(te(n,1,"WritableStreamDefaultWriter"),Si(n,"First parameter"),Et(n))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=n,n._writer=this;let a=n._state;if(a==="writable")!Oe(n)&&n._backpressure?Qr(this):Bi(this),Yr(this);else if(a==="erroring")to(this,n._storedError),Yr(this);else if(a==="closed")Bi(this),Ml(this);else{let l=n._storedError;to(this,l),ki(this,l)}}get closed(){return ft(this)?this._closedPromise:S(dt("closed"))}get desiredSize(){if(!ft(this))throw dt("desiredSize");if(this._ownerWritableStream===void 0)throw or("desiredSize");return Dl(this)}get ready(){return ft(this)?this._readyPromise:S(dt("ready"))}abort(n=void 0){return ft(this)?this._ownerWritableStream===void 0?S(or("abort")):kl(this,n):S(dt("abort"))}close(){if(!ft(this))return S(dt("close"));let n=this._ownerWritableStream;return n===void 0?S(or("close")):Oe(n)?S(new TypeError("Cannot close an already-closing stream")):vi(this)}releaseLock(){if(!ft(this))throw dt("releaseLock");this._ownerWritableStream!==void 0&&Ei(this)}write(n=void 0){return ft(this)?this._ownerWritableStream===void 0?S(or("write to")):Ci(this,n):S(dt("write"))}}Object.defineProperties(nr.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(nr.prototype,r.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function ft(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")?!1:e instanceof nr}function kl(e,n){let a=e._ownerWritableStream;return jr(a,n)}function vi(e){let n=e._ownerWritableStream;return Ri(n)}function xl(e){let n=e._ownerWritableStream,a=n._state;return Oe(n)||a==="closed"?g(void 0):a==="errored"?S(n._storedError):vi(e)}function Bl(e,n){e._closedPromiseState==="pending"?eo(e,n):Ul(e,n)}function Ti(e,n){e._readyPromiseState==="pending"?Di(e,n):Nl(e,n)}function Dl(e){let n=e._ownerWritableStream,a=n._state;return a==="errored"||a==="erroring"?null:a==="closed"?0:Ii(n._writableStreamController)}function Ei(e){let n=e._ownerWritableStream,a=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Ti(e,a),Bl(e,a),n._writer=void 0,e._ownerWritableStream=void 0}function Ci(e,n){let a=e._ownerWritableStream,l=a._writableStreamController,f=Wl(l,n);if(a!==e._ownerWritableStream)return S(or("write to"));let p=a._state;if(p==="errored")return S(a._storedError);if(Oe(a)||p==="closed")return S(new TypeError("The stream is closing or closed and cannot be written to"));if(p==="erroring")return S(a._storedError);let b=vl(a);return Ll(l,n,f),b}let Pi={};class Ct{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Xn(this))throw Jn("abortReason");return this._abortReason}get signal(){if(!Xn(this))throw Jn("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(n=void 0){if(!Xn(this))throw Jn("error");this._controlledWritableStream._state==="writable"&&Oi(this,n)}[wt](n){let a=this._abortAlgorithm(n);return Hr(this),a}[Rt](){Ve(this)}}Object.defineProperties(Ct.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ct.prototype,r.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function Xn(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")?!1:e instanceof Ct}function Ai(e,n,a,l,f,p,b,v){n._controlledWritableStream=e,e._writableStreamController=n,n._queue=void 0,n._queueTotalSize=void 0,Ve(n),n._abortReason=void 0,n._abortController=wl(),n._started=!1,n._strategySizeAlgorithm=v,n._strategyHWM=b,n._writeAlgorithm=l,n._closeAlgorithm=f,n._abortAlgorithm=p;let I=Zn(n);Qn(e,I);let B=a(),q=g(B);E(q,()=>{n._started=!0,Gr(n)},F=>{n._started=!0,Gn(e,F)})}function ql(e,n,a,l){let f=Object.create(Ct.prototype),p=()=>{},b=()=>g(void 0),v=()=>g(void 0),I=()=>g(void 0);n.start!==void 0&&(p=()=>n.start(f)),n.write!==void 0&&(b=B=>n.write(B,f)),n.close!==void 0&&(v=()=>n.close()),n.abort!==void 0&&(I=B=>n.abort(B)),Ai(e,f,p,b,v,I,a,l)}function Hr(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Fl(e){$n(e,Pi,0),Gr(e)}function Wl(e,n){try{return e._strategySizeAlgorithm(n)}catch(a){return Kn(e,a),1}}function Ii(e){return e._strategyHWM-e._queueTotalSize}function Ll(e,n,a){try{$n(e,n,a)}catch(f){Kn(e,f);return}let l=e._controlledWritableStream;if(!Oe(l)&&l._state==="writable"){let f=Zn(e);Qn(l,f)}Gr(e)}function Gr(e){let n=e._controlledWritableStream;if(!e._started||n._inFlightWriteRequest!==void 0)return;if(n._state==="erroring"){Yn(n);return}if(e._queue.length===0)return;let l=il(e);l===Pi?$l(e):zl(e,l)}function Kn(e,n){e._controlledWritableStream._state==="writable"&&Oi(e,n)}function $l(e){let n=e._controlledWritableStream;Il(n),Ln(e);let a=e._closeAlgorithm();Hr(e),E(a,()=>{Cl(n)},l=>{Pl(n,l)})}function zl(e,n){let a=e._controlledWritableStream;Ol(a);let l=e._writeAlgorithm(n);E(l,()=>{Tl(a);let f=a._state;if(Ln(e),!Oe(a)&&f==="writable"){let p=Zn(e);Qn(a,p)}Gr(e)},f=>{a._state==="writable"&&Hr(e),El(a,f)})}function Zn(e){return Ii(e)<=0}function Oi(e,n){let a=e._controlledWritableStream;Hr(e),Vn(a,n)}function Vr(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function Jn(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function dt(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function or(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Yr(e){e._closedPromise=R((n,a)=>{e._closedPromise_resolve=n,e._closedPromise_reject=a,e._closedPromiseState="pending"})}function ki(e,n){Yr(e),eo(e,n)}function Ml(e){Yr(e),xi(e)}function eo(e,n){e._closedPromise_reject!==void 0&&(M(e._closedPromise),e._closedPromise_reject(n),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function Ul(e,n){ki(e,n)}function xi(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function Qr(e){e._readyPromise=R((n,a)=>{e._readyPromise_resolve=n,e._readyPromise_reject=a}),e._readyPromiseState="pending"}function to(e,n){Qr(e),Di(e,n)}function Bi(e){Qr(e),ro(e)}function Di(e,n){e._readyPromise_reject!==void 0&&(M(e._readyPromise),e._readyPromise_reject(n),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function jl(e){Qr(e)}function Nl(e,n){to(e,n)}function ro(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}let qi=typeof DOMException<"u"?DOMException:void 0;function Hl(e){if(!(typeof e=="function"||typeof e=="object"))return!1;try{return new e,!0}catch{return!1}}function Gl(){let e=function(a,l){this.message=a||"",this.name=l||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}let Vl=Hl(qi)?qi:Gl();function Fi(e,n,a,l,f,p){let b=ge(e),v=_i(n);e._disturbed=!0;let I=!1,B=g(void 0);return R((q,F)=>{let G;if(p!==void 0){if(G=()=>{let C=new Vl("Aborted","AbortError"),k=[];l||k.push(()=>n._state==="writable"?jr(n,C):g(void 0)),f||k.push(()=>e._state==="readable"?Re(e,C):g(void 0)),ue(()=>Promise.all(k.map($=>$())),!0,C)},p.aborted){G();return}p.addEventListener("abort",G)}function ve(){return R((C,k)=>{function $(de){de?C():_(It(),$,k)}$(!1)})}function It(){return I?g(!0):_(v._readyPromise,()=>R((C,k)=>{Qt(b,{_chunkSteps:$=>{B=_(Ci(v,$),void 0,o),C(!1)},_closeSteps:()=>C(!0),_errorSteps:k})}))}if($e(e,b._closedPromise,C=>{l?Se(!0,C):ue(()=>jr(n,C),!0,C)}),$e(n,v._closedPromise,C=>{f?Se(!0,C):ue(()=>Re(e,C),!0,C)}),re(e,b._closedPromise,()=>{a?Se():ue(()=>xl(v))}),Oe(n)||n._state==="closed"){let C=new TypeError("the destination writable stream closed before all data could be piped to it");f?Se(!0,C):ue(()=>Re(e,C),!0,C)}M(ve());function Ze(){let C=B;return _(B,()=>C!==B?Ze():void 0)}function $e(C,k,$){C._state==="errored"?$(C._storedError):w(k,$)}function re(C,k,$){C._state==="closed"?$():T(k,$)}function ue(C,k,$){if(I)return;I=!0,n._state==="writable"&&!Oe(n)?T(Ze(),de):de();function de(){E(C(),()=>ze(k,$),Ot=>ze(!0,Ot))}}function Se(C,k){I||(I=!0,n._state==="writable"&&!Oe(n)?T(Ze(),()=>ze(C,k)):ze(C,k))}function ze(C,k){Ei(v),oe(b),p!==void 0&&p.removeEventListener("abort",G),C?F(k):q(void 0)}})}class Pt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Xr(this))throw Jr("desiredSize");return no(this)}close(){if(!Xr(this))throw Jr("close");if(!At(this))throw new TypeError("The stream is not in a state that permits close");ar(this)}enqueue(n=void 0){if(!Xr(this))throw Jr("enqueue");if(!At(this))throw new TypeError("The stream is not in a state that permits enqueue");return Zr(this,n)}error(n=void 0){if(!Xr(this))throw Jr("error");Ye(this,n)}[Pe](n){Ve(this);let a=this._cancelAlgorithm(n);return Kr(this),a}[ot](n){let a=this._controlledReadableStream;if(this._queue.length>0){let l=Ln(this);this._closeRequested&&this._queue.length===0?(Kr(this),sr(a)):ir(this),n._chunkSteps(l)}else He(a,n),ir(this)}}Object.defineProperties(Pt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Pt.prototype,r.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function Xr(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")?!1:e instanceof Pt}function ir(e){if(!Wi(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let a=e._pullAlgorithm();E(a,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,ir(e))},l=>{Ye(e,l)})}function Wi(e){let n=e._controlledReadableStream;return!At(e)||!e._started?!1:!!(Ke(n)&&Ie(n)>0||no(e)>0)}function Kr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function ar(e){if(!At(e))return;let n=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(Kr(e),sr(n))}function Zr(e,n){if(!At(e))return;let a=e._controlledReadableStream;if(Ke(a)&&Ie(a)>0)st(a,n,!1);else{let l;try{l=e._strategySizeAlgorithm(n)}catch(f){throw Ye(e,f),f}try{$n(e,n,l)}catch(f){throw Ye(e,f),f}}ir(e)}function Ye(e,n){let a=e._controlledReadableStream;a._state==="readable"&&(Ve(e),Kr(e),Mi(a,n))}function no(e){let n=e._controlledReadableStream._state;return n==="errored"?null:n==="closed"?0:e._strategyHWM-e._queueTotalSize}function Yl(e){return!Wi(e)}function At(e){let n=e._controlledReadableStream._state;return!e._closeRequested&&n==="readable"}function Li(e,n,a,l,f,p,b){n._controlledReadableStream=e,n._queue=void 0,n._queueTotalSize=void 0,Ve(n),n._started=!1,n._closeRequested=!1,n._pullAgain=!1,n._pulling=!1,n._strategySizeAlgorithm=b,n._strategyHWM=p,n._pullAlgorithm=l,n._cancelAlgorithm=f,e._readableStreamController=n;let v=a();E(g(v),()=>{n._started=!0,ir(n)},I=>{Ye(n,I)})}function Ql(e,n,a,l){let f=Object.create(Pt.prototype),p=()=>{},b=()=>g(void 0),v=()=>g(void 0);n.start!==void 0&&(p=()=>n.start(f)),n.pull!==void 0&&(b=()=>n.pull(f)),n.cancel!==void 0&&(v=I=>n.cancel(I)),Li(e,f,p,b,v,a,l)}function Jr(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function Xl(e,n){return ut(e._readableStreamController)?Zl(e):Kl(e)}function Kl(e,n){let a=ge(e),l=!1,f=!1,p=!1,b=!1,v,I,B,q,F,G=R(re=>{F=re});function ve(){return l?(f=!0,g(void 0)):(l=!0,Qt(a,{_chunkSteps:ue=>{P(()=>{f=!1;let Se=ue,ze=ue;p||Zr(B._readableStreamController,Se),b||Zr(q._readableStreamController,ze),l=!1,f&&ve()})},_closeSteps:()=>{l=!1,p||ar(B._readableStreamController),b||ar(q._readableStreamController),(!p||!b)&&F(void 0)},_errorSteps:()=>{l=!1}}),g(void 0))}function It(re){if(p=!0,v=re,b){let ue=Xt([v,I]),Se=Re(e,ue);F(Se)}return G}function Ze(re){if(b=!0,I=re,p){let ue=Xt([v,I]),Se=Re(e,ue);F(Se)}return G}function $e(){}return B=oo($e,ve,It),q=oo($e,ve,Ze),w(a._closedPromise,re=>{Ye(B._readableStreamController,re),Ye(q._readableStreamController,re),(!p||!b)&&F(void 0)}),[B,q]}function Zl(e){let n=ge(e),a=!1,l=!1,f=!1,p=!1,b=!1,v,I,B,q,F,G=R(C=>{F=C});function ve(C){w(C._closedPromise,k=>{C===n&&(we(B._readableStreamController,k),we(q._readableStreamController,k),(!p||!b)&&F(void 0))})}function It(){ct(n)&&(oe(n),n=ge(e),ve(n)),Qt(n,{_chunkSteps:k=>{P(()=>{l=!1,f=!1;let $=k,de=k;if(!p&&!b)try{de=ii(k)}catch(Ot){we(B._readableStreamController,Ot),we(q._readableStreamController,Ot),F(Re(e,Ot));return}p||Wr(B._readableStreamController,$),b||Wr(q._readableStreamController,de),a=!1,l?$e():f&&re()})},_closeSteps:()=>{a=!1,p||Zt(B._readableStreamController),b||Zt(q._readableStreamController),B._readableStreamController._pendingPullIntos.length>0&&Lr(B._readableStreamController,0),q._readableStreamController._pendingPullIntos.length>0&&Lr(q._readableStreamController,0),(!p||!b)&&F(void 0)},_errorSteps:()=>{a=!1}})}function Ze(C,k){Ge(n)&&(oe(n),n=pi(e),ve(n));let $=k?q:B,de=k?B:q;gi(n,C,{_chunkSteps:kt=>{P(()=>{l=!1,f=!1;let xt=k?b:p;if(k?p:b)xt||$r($._readableStreamController,kt);else{let ea;try{ea=ii(kt)}catch(ao){we($._readableStreamController,ao),we(de._readableStreamController,ao),F(Re(e,ao));return}xt||$r($._readableStreamController,kt),Wr(de._readableStreamController,ea)}a=!1,l?$e():f&&re()})},_closeSteps:kt=>{a=!1;let xt=k?b:p,ln=k?p:b;xt||Zt($._readableStreamController),ln||Zt(de._readableStreamController),kt!==void 0&&(xt||$r($._readableStreamController,kt),!ln&&de._readableStreamController._pendingPullIntos.length>0&&Lr(de._readableStreamController,0)),(!xt||!ln)&&F(void 0)},_errorSteps:()=>{a=!1}})}function $e(){if(a)return l=!0,g(void 0);a=!0;let C=jn(B._readableStreamController);return C===null?It():Ze(C._view,!1),g(void 0)}function re(){if(a)return f=!0,g(void 0);a=!0;let C=jn(q._readableStreamController);return C===null?It():Ze(C._view,!0),g(void 0)}function ue(C){if(p=!0,v=C,b){let k=Xt([v,I]),$=Re(e,k);F($)}return G}function Se(C){if(b=!0,I=C,p){let k=Xt([v,I]),$=Re(e,k);F($)}return G}function ze(){}return B=zi(ze,$e,ue),q=zi(ze,re,Se),ve(n),[B,q]}function Jl(e,n){N(e,n);let a=e,l=a==null?void 0:a.autoAllocateChunkSize,f=a==null?void 0:a.cancel,p=a==null?void 0:a.pull,b=a==null?void 0:a.start,v=a==null?void 0:a.type;return{autoAllocateChunkSize:l===void 0?void 0:fe(l,`${n} has member 'autoAllocateChunkSize' that`),cancel:f===void 0?void 0:ec(f,a,`${n} has member 'cancel' that`),pull:p===void 0?void 0:tc(p,a,`${n} has member 'pull' that`),start:b===void 0?void 0:rc(b,a,`${n} has member 'start' that`),type:v===void 0?void 0:nc(v,`${n} has member 'type' that`)}}function ec(e,n,a){return U(e,a),l=>A(e,n,[l])}function tc(e,n,a){return U(e,a),l=>A(e,n,[l])}function rc(e,n,a){return U(e,a),l=>D(e,n,[l])}function nc(e,n){if(e=`${e}`,e!=="bytes")throw new TypeError(`${n} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function oc(e,n){N(e,n);let a=e==null?void 0:e.mode;return{mode:a===void 0?void 0:ic(a,`${n} has member 'mode' that`)}}function ic(e,n){if(e=`${e}`,e!=="byob")throw new TypeError(`${n} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function ac(e,n){N(e,n);let a=e==null?void 0:e.preventCancel;return{preventCancel:Boolean(a)}}function $i(e,n){N(e,n);let a=e==null?void 0:e.preventAbort,l=e==null?void 0:e.preventCancel,f=e==null?void 0:e.preventClose,p=e==null?void 0:e.signal;return p!==void 0&&sc(p,`${n} has member 'signal' that`),{preventAbort:Boolean(a),preventCancel:Boolean(l),preventClose:Boolean(f),signal:p}}function sc(e,n){if(!Sl(e))throw new TypeError(`${n} is not an AbortSignal.`)}function uc(e,n){N(e,n);let a=e==null?void 0:e.readable;Le(a,"readable","ReadableWritablePair"),at(a,`${n} has member 'readable' that`);let l=e==null?void 0:e.writable;return Le(l,"writable","ReadableWritablePair"),Si(l,`${n} has member 'writable' that`),{readable:a,writable:l}}class Qe{constructor(n={},a={}){n===void 0?n=null:ae(n,"First parameter");let l=Ur(a,"Second parameter"),f=Jl(n,"First parameter");if(io(this),f.type==="bytes"){if(l.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let p=tr(l,0);cl(this,f,p)}else{let p=Mr(l),b=tr(l,1);Ql(this,f,b,p)}}get locked(){if(!Xe(this))throw mt("locked");return Ke(this)}cancel(n=void 0){return Xe(this)?Ke(this)?S(new TypeError("Cannot cancel a stream that already has a reader")):Re(this,n):S(mt("cancel"))}getReader(n=void 0){if(!Xe(this))throw mt("getReader");return oc(n,"First parameter").mode===void 0?ge(this):pi(this)}pipeThrough(n,a={}){if(!Xe(this))throw mt("pipeThrough");te(n,1,"pipeThrough");let l=uc(n,"First parameter"),f=$i(a,"Second parameter");if(Ke(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Et(l.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let p=Fi(this,l.writable,f.preventClose,f.preventAbort,f.preventCancel,f.signal);return M(p),l.readable}pipeTo(n,a={}){if(!Xe(this))return S(mt("pipeTo"));if(n===void 0)return S("Parameter 1 is required in 'pipeTo'.");if(!Tt(n))return S(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let l;try{l=$i(a,"Second parameter")}catch(f){return S(f)}return Ke(this)?S(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Et(n)?S(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Fi(this,n,l.preventClose,l.preventAbort,l.preventCancel,l.signal)}tee(){if(!Xe(this))throw mt("tee");let n=Xl(this);return Xt(n)}values(n=void 0){if(!Xe(this))throw mt("values");let a=ac(n,"First parameter");return nl(this,a.preventCancel)}}Object.defineProperties(Qe.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Qe.prototype,r.toStringTag,{value:"ReadableStream",configurable:!0}),typeof r.asyncIterator=="symbol"&&Object.defineProperty(Qe.prototype,r.asyncIterator,{value:Qe.prototype.values,writable:!0,configurable:!0});function oo(e,n,a,l=1,f=()=>1){let p=Object.create(Qe.prototype);io(p);let b=Object.create(Pt.prototype);return Li(p,b,e,n,a,l,f),p}function zi(e,n,a){let l=Object.create(Qe.prototype);io(l);let f=Object.create(vt.prototype);return hi(l,f,e,n,a,0,void 0),l}function io(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function Xe(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")?!1:e instanceof Qe}function Ke(e){return e._reader!==void 0}function Re(e,n){if(e._disturbed=!0,e._state==="closed")return g(void 0);if(e._state==="errored")return S(e._storedError);sr(e);let a=e._reader;a!==void 0&&ct(a)&&(a._readIntoRequests.forEach(f=>{f._closeSteps(void 0)}),a._readIntoRequests=new Z);let l=e._readableStreamController[Pe](n);return x(l,o)}function sr(e){e._state="closed";let n=e._reader;n!==void 0&&(kr(n),Ge(n)&&(n._readRequests.forEach(a=>{a._closeSteps()}),n._readRequests=new Z))}function Mi(e,n){e._state="errored",e._storedError=n;let a=e._reader;a!==void 0&&(Fe(a,n),Ge(a)?(a._readRequests.forEach(l=>{l._errorSteps(n)}),a._readRequests=new Z):(a._readIntoRequests.forEach(l=>{l._errorSteps(n)}),a._readIntoRequests=new Z))}function mt(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function Ui(e,n){N(e,n);let a=e==null?void 0:e.highWaterMark;return Le(a,"highWaterMark","QueuingStrategyInit"),{highWaterMark:se(a)}}let ji=e=>e.byteLength;Object.defineProperty(ji,"name",{value:"size",configurable:!0});class en{constructor(n){te(n,1,"ByteLengthQueuingStrategy"),n=Ui(n,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=n.highWaterMark}get highWaterMark(){if(!Hi(this))throw Ni("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Hi(this))throw Ni("size");return ji}}Object.defineProperties(en.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(en.prototype,r.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Ni(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function Hi(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")?!1:e instanceof en}let Gi=()=>1;Object.defineProperty(Gi,"name",{value:"size",configurable:!0});class tn{constructor(n){te(n,1,"CountQueuingStrategy"),n=Ui(n,"First parameter"),this._countQueuingStrategyHighWaterMark=n.highWaterMark}get highWaterMark(){if(!Yi(this))throw Vi("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Yi(this))throw Vi("size");return Gi}}Object.defineProperties(tn.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(tn.prototype,r.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Vi(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function Yi(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")?!1:e instanceof tn}function lc(e,n){N(e,n);let a=e==null?void 0:e.flush,l=e==null?void 0:e.readableType,f=e==null?void 0:e.start,p=e==null?void 0:e.transform,b=e==null?void 0:e.writableType;return{flush:a===void 0?void 0:cc(a,e,`${n} has member 'flush' that`),readableType:l,start:f===void 0?void 0:fc(f,e,`${n} has member 'start' that`),transform:p===void 0?void 0:dc(p,e,`${n} has member 'transform' that`),writableType:b}}function cc(e,n,a){return U(e,a),l=>A(e,n,[l])}function fc(e,n,a){return U(e,a),l=>D(e,n,[l])}function dc(e,n,a){return U(e,a),(l,f)=>A(e,n,[l,f])}class rn{constructor(n={},a={},l={}){n===void 0&&(n=null);let f=Ur(a,"Second parameter"),p=Ur(l,"Third parameter"),b=lc(n,"First parameter");if(b.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(b.writableType!==void 0)throw new RangeError("Invalid writableType specified");let v=tr(p,0),I=Mr(p),B=tr(f,1),q=Mr(f),F,G=R(ve=>{F=ve});mc(this,G,B,q,v,I),pc(this,b),b.start!==void 0?F(b.start(this._transformStreamController)):F(void 0)}get readable(){if(!Qi(this))throw Ji("readable");return this._readable}get writable(){if(!Qi(this))throw Ji("writable");return this._writable}}Object.defineProperties(rn.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(rn.prototype,r.toStringTag,{value:"TransformStream",configurable:!0});function mc(e,n,a,l,f,p){function b(){return n}function v(G){return gc(e,G)}function I(G){return Sc(e,G)}function B(){return _c(e)}e._writable=Rl(b,v,B,I,a,l);function q(){return wc(e)}function F(G){return on(e,G),g(void 0)}e._readable=oo(b,q,F,f,p),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,an(e,!0),e._transformStreamController=void 0}function Qi(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")?!1:e instanceof rn}function nn(e,n){Ye(e._readable._readableStreamController,n),on(e,n)}function on(e,n){Xi(e._transformStreamController),Kn(e._writable._writableStreamController,n),e._backpressure&&an(e,!1)}function an(e,n){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=R(a=>{e._backpressureChangePromise_resolve=a}),e._backpressure=n}class ur{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!sn(this))throw un("desiredSize");let n=this._controlledTransformStream._readable._readableStreamController;return no(n)}enqueue(n=void 0){if(!sn(this))throw un("enqueue");Ki(this,n)}error(n=void 0){if(!sn(this))throw un("error");bc(this,n)}terminate(){if(!sn(this))throw un("terminate");yc(this)}}Object.defineProperties(ur.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(ur.prototype,r.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function sn(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")?!1:e instanceof ur}function hc(e,n,a,l){n._controlledTransformStream=e,e._transformStreamController=n,n._transformAlgorithm=a,n._flushAlgorithm=l}function pc(e,n){let a=Object.create(ur.prototype),l=p=>{try{return Ki(a,p),g(void 0)}catch(b){return S(b)}},f=()=>g(void 0);n.transform!==void 0&&(l=p=>n.transform(p,a)),n.flush!==void 0&&(f=()=>n.flush(a)),hc(e,a,l,f)}function Xi(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Ki(e,n){let a=e._controlledTransformStream,l=a._readable._readableStreamController;if(!At(l))throw new TypeError("Readable side is not in a state that permits enqueue");try{Zr(l,n)}catch(p){throw on(a,p),a._readable._storedError}Yl(l)!==a._backpressure&&an(a,!0)}function bc(e,n){nn(e._controlledTransformStream,n)}function Zi(e,n){let a=e._transformAlgorithm(n);return x(a,void 0,l=>{throw nn(e._controlledTransformStream,l),l})}function yc(e){let n=e._controlledTransformStream,a=n._readable._readableStreamController;ar(a);let l=new TypeError("TransformStream terminated");on(n,l)}function gc(e,n){let a=e._transformStreamController;if(e._backpressure){let l=e._backpressureChangePromise;return x(l,()=>{let f=e._writable;if(f._state==="erroring")throw f._storedError;return Zi(a,n)})}return Zi(a,n)}function Sc(e,n){return nn(e,n),g(void 0)}function _c(e){let n=e._readable,a=e._transformStreamController,l=a._flushAlgorithm();return Xi(a),x(l,()=>{if(n._state==="errored")throw n._storedError;ar(n._readableStreamController)},f=>{throw nn(e,f),n._storedError})}function wc(e){return an(e,!1),e._backpressureChangePromise}function un(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Ji(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}t.ByteLengthQueuingStrategy=en,t.CountQueuingStrategy=tn,t.ReadableByteStreamController=vt,t.ReadableStream=Qe,t.ReadableStreamBYOBReader=er,t.ReadableStreamBYOBRequest=Kt,t.ReadableStreamDefaultController=Pt,t.ReadableStreamDefaultReader=Yt,t.TransformStream=rn,t.TransformStreamDefaultController=ur,t.WritableStream=rr,t.WritableStreamDefaultController=Ct,t.WritableStreamDefaultWriter=nr,Object.defineProperty(t,"__esModule",{value:!0})})});var ya=O(()=>{if(!globalThis.ReadableStream)try{let t=require("node:process"),{emitWarning:r}=t;try{t.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),t.emitWarning=r}catch(o){throw t.emitWarning=r,o}}catch{Object.assign(globalThis,ba())}try{let{Blob:t}=require("buffer");t&&!t.prototype.stream&&(t.prototype.stream=function(o){let i=0,s=this;return new ReadableStream({type:"bytes",async pull(u){let m=await s.slice(i,Math.min(s.size,i+65536)).arrayBuffer();i+=m.byteLength,u.enqueue(new Uint8Array(m)),i===s.size&&u.close()}})})}catch{}});async function*so(t,r=!0){for(let o of t)if("stream"in o)yield*o.stream();else if(ArrayBuffer.isView(o))if(r){let i=o.byteOffset,s=o.byteOffset+o.byteLength;for(;i!==s;){let u=Math.min(s-i,ga),c=o.buffer.slice(i,i+u);i+=c.byteLength,yield new Uint8Array(c)}}else yield o;else{let i=0,s=o;for(;i!==s.size;){let c=await s.slice(i,Math.min(s.size,i+ga)).arrayBuffer();i+=c.byteLength,yield new Uint8Array(c)}}}var Cm,ga,Sa,kc,Me,fr=cr(()=>{Cm=Ee(ya(),1);ga=65536;Sa=class uo{#e=[];#t="";#r=0;#n="transparent";constructor(r=[],o={}){if(typeof r!="object"||r===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof r[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof o!="object"&&typeof o!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");o===null&&(o={});let i=new TextEncoder;for(let u of r){let c;ArrayBuffer.isView(u)?c=new Uint8Array(u.buffer.slice(u.byteOffset,u.byteOffset+u.byteLength)):u instanceof ArrayBuffer?c=new Uint8Array(u.slice(0)):u instanceof uo?c=u:c=i.encode(`${u}`),this.#r+=ArrayBuffer.isView(c)?c.byteLength:c.size,this.#e.push(c)}this.#n=`${o.endings===void 0?"transparent":o.endings}`;let s=o.type===void 0?"":String(o.type);this.#t=/^[\x20-\x7E]*$/.test(s)?s:""}get size(){return this.#r}get type(){return this.#t}async text(){let r=new TextDecoder,o="";for await(let i of so(this.#e,!1))o+=r.decode(i,{stream:!0});return o+=r.decode(),o}async arrayBuffer(){let r=new Uint8Array(this.size),o=0;for await(let i of so(this.#e,!1))r.set(i,o),o+=i.length;return r.buffer}stream(){let r=so(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(o){let i=await r.next();i.done?o.close():o.enqueue(i.value)},async cancel(){await r.return()}})}slice(r=0,o=this.size,i=""){let{size:s}=this,u=r<0?Math.max(s+r,0):Math.min(r,s),c=o<0?Math.max(s+o,0):Math.min(o,s),m=Math.max(c-u,0),h=this.#e,d=[],y=0;for(let g of h){if(y>=m)break;let S=ArrayBuffer.isView(g)?g.byteLength:g.size;if(u&&S<=u)u-=S,c-=S;else{let _;ArrayBuffer.isView(g)?(_=g.subarray(u,Math.min(S,c)),y+=_.byteLength):(_=g.slice(u,Math.min(S,c)),y+=_.size),c-=S,d.push(_),u=0}}let R=new uo([],{type:String(i).toLowerCase()});return R.#r=m,R.#e=d,R}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](r){return r&&typeof r=="object"&&typeof r.constructor=="function"&&(typeof r.stream=="function"||typeof r.arrayBuffer=="function")&&/^(Blob|File)$/.test(r[Symbol.toStringTag])}};Object.defineProperties(Sa.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});kc=Sa,Me=kc});var xc,Bc,Dt,lo=cr(()=>{fr();xc=class extends Me{#e=0;#t="";constructor(r,o,i={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(r,i);i===null&&(i={});let s=i.lastModified===void 0?Date.now():Number(i.lastModified);Number.isNaN(s)||(this.#e=s),this.#t=String(o)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](r){return!!r&&r instanceof Me&&/^(File)$/.test(r[Symbol.toStringTag])}},Bc=xc,Dt=Bc});function Ra(t,r=Me){var o=`${_a()}${_a()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),i=[],s=`--${o}\r
Content-Disposition: form-data; name="`;return t.forEach((u,c)=>typeof u=="string"?i.push(s+co(c)+`"\r
\r
${u.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):i.push(s+co(c)+`"; filename="${co(u.name,1)}"\r
Content-Type: ${u.type||"application/octet-stream"}\r
\r
`,u,`\r
`)),i.push(`--${o}--`),new r(i,{type:"multipart/form-data; boundary="+o})}var dr,Dc,qc,_a,Fc,wa,co,ht,pt,fn=cr(()=>{fr();lo();({toStringTag:dr,iterator:Dc,hasInstance:qc}=Symbol),_a=Math.random,Fc="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),wa=(t,r,o)=>(t+="",/^(Blob|File)$/.test(r&&r[dr])?[(o=o!==void 0?o+"":r[dr]=="File"?r.name:"blob",t),r.name!==o||r[dr]=="blob"?new Dt([r],o,r):r]:[t,r+""]),co=(t,r)=>(r?t:t.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),ht=(t,r,o)=>{if(r.length<o)throw new TypeError(`Failed to execute '${t}' on 'FormData': ${o} arguments required, but only ${r.length} present.`)},pt=class{#e=[];constructor(...r){if(r.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[dr](){return"FormData"}[Dc](){return this.entries()}static[qc](r){return r&&typeof r=="object"&&r[dr]==="FormData"&&!Fc.some(o=>typeof r[o]!="function")}append(...r){ht("append",arguments,2),this.#e.push(wa(...r))}delete(r){ht("delete",arguments,1),r+="",this.#e=this.#e.filter(([o])=>o!==r)}get(r){ht("get",arguments,1),r+="";for(var o=this.#e,i=o.length,s=0;s<i;s++)if(o[s][0]===r)return o[s][1];return null}getAll(r,o){return ht("getAll",arguments,1),o=[],r+="",this.#e.forEach(i=>i[0]===r&&o.push(i[1])),o}has(r){return ht("has",arguments,1),r+="",this.#e.some(o=>o[0]===r)}forEach(r,o){ht("forEach",arguments,1);for(var[i,s]of this)r.call(o,s,i,this)}set(...r){ht("set",arguments,2);var o=[],i=!0;r=wa(...r),this.#e.forEach(s=>{s[0]===r[0]?i&&(i=!o.push(r)):o.push(s)}),i&&o.push(r),this.#e=o}*entries(){yield*this.#e}*keys(){for(var[r]of this)yield r}*values(){for(var[,r]of this)yield r}}});var Ca=O(($m,Ea)=>{if(!globalThis.DOMException)try{let{MessageChannel:t}=require("worker_threads"),r=new t().port1,o=new ArrayBuffer;r.postMessage(o,[o,o])}catch(t){t.constructor.name==="DOMException"&&(globalThis.DOMException=t.constructor)}Ea.exports=globalThis.DOMException});var hr,Pa,Wc,mo,ho=cr(()=>{hr=require("node:fs"),Pa=Ee(Ca(),1);lo();fr();({stat:Wc}=hr.promises),mo=class{#e;#t;constructor(r){this.#e=r.path,this.#t=r.start,this.size=r.size,this.lastModified=r.lastModified}slice(r,o){return new mo({path:this.#e,lastModified:this.lastModified,size:o-r,start:this.#t+r})}async*stream(){let{mtimeMs:r}=await Wc(this.#e);if(r>this.lastModified)throw new Pa.default("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*(0,hr.createReadStream)(this.#e,{start:this.#t,end:this.#t+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}});var Oa={};ia(Oa,{toFormData:()=>Nc});function jc(t){let r=t.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!r)return;let o=r[2]||r[3]||"",i=o.slice(o.lastIndexOf("\\")+1);return i=i.replace(/%22/g,'"'),i=i.replace(/&#(\d{4});/g,(s,u)=>String.fromCharCode(u)),i}async function Nc(t,r){if(!/multipart/i.test(r))throw new TypeError("Failed to fetch");let o=r.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!o)throw new TypeError("no or bad content-type header, no multipart boundary");let i=new Ia(o[1]||o[2]),s,u,c,m,h,d,y=[],R=new pt,g=w=>{c+=T.decode(w,{stream:!0})},S=w=>{y.push(w)},_=()=>{let w=new Dt(y,d,{type:h});R.append(m,w)},E=()=>{R.append(m,c)},T=new TextDecoder("utf-8");T.decode(),i.onPartBegin=function(){i.onPartData=g,i.onPartEnd=E,s="",u="",c="",m="",h="",d=null,y.length=0},i.onHeaderField=function(w){s+=T.decode(w,{stream:!0})},i.onHeaderValue=function(w){u+=T.decode(w,{stream:!0})},i.onHeaderEnd=function(){if(u+=T.decode(),s=s.toLowerCase(),s==="content-disposition"){let w=u.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);w&&(m=w[2]||w[3]||""),d=jc(u),d&&(i.onPartData=S,i.onPartEnd=_)}else s==="content-type"&&(h=u);u="",s=""};for await(let w of t)i.write(w);return i.end(),R}var ke,z,Aa,et,mn,hn,Lc,pr,$c,zc,Mc,Uc,bt,Ia,ka=cr(()=>{ho();fn();ke=0,z={START_BOUNDARY:ke++,HEADER_FIELD_START:ke++,HEADER_FIELD:ke++,HEADER_VALUE_START:ke++,HEADER_VALUE:ke++,HEADER_VALUE_ALMOST_DONE:ke++,HEADERS_ALMOST_DONE:ke++,PART_DATA_START:ke++,PART_DATA:ke++,END:ke++},Aa=1,et={PART_BOUNDARY:Aa,LAST_BOUNDARY:Aa*=2},mn=10,hn=13,Lc=32,pr=45,$c=58,zc=97,Mc=122,Uc=t=>t|32,bt=()=>{},Ia=class{constructor(r){this.index=0,this.flags=0,this.onHeaderEnd=bt,this.onHeaderField=bt,this.onHeadersEnd=bt,this.onHeaderValue=bt,this.onPartBegin=bt,this.onPartData=bt,this.onPartEnd=bt,this.boundaryChars={},r=`\r
--`+r;let o=new Uint8Array(r.length);for(let i=0;i<r.length;i++)o[i]=r.charCodeAt(i),this.boundaryChars[o[i]]=!0;this.boundary=o,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=z.START_BOUNDARY}write(r){let o=0,i=r.length,s=this.index,{lookbehind:u,boundary:c,boundaryChars:m,index:h,state:d,flags:y}=this,R=this.boundary.length,g=R-1,S=r.length,_,E,T=P=>{this[P+"Mark"]=o},w=P=>{delete this[P+"Mark"]},x=(P,D,A,V)=>{(D===void 0||D!==A)&&this[P](V&&V.subarray(D,A))},M=(P,D)=>{let A=P+"Mark";A in this&&(D?(x(P,this[A],o,r),delete this[A]):(x(P,this[A],r.length,r),this[A]=0))};for(o=0;o<i;o++)switch(_=r[o],d){case z.START_BOUNDARY:if(h===c.length-2){if(_===pr)y|=et.LAST_BOUNDARY;else if(_!==hn)return;h++;break}else if(h-1===c.length-2){if(y&et.LAST_BOUNDARY&&_===pr)d=z.END,y=0;else if(!(y&et.LAST_BOUNDARY)&&_===mn)h=0,x("onPartBegin"),d=z.HEADER_FIELD_START;else return;break}_!==c[h+2]&&(h=-2),_===c[h+2]&&h++;break;case z.HEADER_FIELD_START:d=z.HEADER_FIELD,T("onHeaderField"),h=0;case z.HEADER_FIELD:if(_===hn){w("onHeaderField"),d=z.HEADERS_ALMOST_DONE;break}if(h++,_===pr)break;if(_===$c){if(h===1)return;M("onHeaderField",!0),d=z.HEADER_VALUE_START;break}if(E=Uc(_),E<zc||E>Mc)return;break;case z.HEADER_VALUE_START:if(_===Lc)break;T("onHeaderValue"),d=z.HEADER_VALUE;case z.HEADER_VALUE:_===hn&&(M("onHeaderValue",!0),x("onHeaderEnd"),d=z.HEADER_VALUE_ALMOST_DONE);break;case z.HEADER_VALUE_ALMOST_DONE:if(_!==mn)return;d=z.HEADER_FIELD_START;break;case z.HEADERS_ALMOST_DONE:if(_!==mn)return;x("onHeadersEnd"),d=z.PART_DATA_START;break;case z.PART_DATA_START:d=z.PART_DATA,T("onPartData");case z.PART_DATA:if(s=h,h===0){for(o+=g;o<S&&!(r[o]in m);)o+=R;o-=g,_=r[o]}if(h<c.length)c[h]===_?(h===0&&M("onPartData",!0),h++):h=0;else if(h===c.length)h++,_===hn?y|=et.PART_BOUNDARY:_===pr?y|=et.LAST_BOUNDARY:h=0;else if(h-1===c.length)if(y&et.PART_BOUNDARY){if(h=0,_===mn){y&=~et.PART_BOUNDARY,x("onPartEnd"),x("onPartBegin"),d=z.HEADER_FIELD_START;break}}else y&et.LAST_BOUNDARY&&_===pr?(x("onPartEnd"),d=z.END,y=0):h=0;if(h>0)u[h-1]=_;else if(s>0){let P=new Uint8Array(u.buffer,u.byteOffset,u.byteLength);x("onPartData",0,s,P),s=0,T("onPartData"),o--}break;case z.END:break;default:throw new Error(`Unexpected state entered: ${d}`)}M("onHeaderField"),M("onHeaderValue"),M("onPartData"),this.index=h,this.state=d,this.flags=y}end(){if(this.state===z.HEADER_FIELD_START&&this.index===0||this.state===z.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==z.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var bs=O((qh,ps)=>{ps.exports=hs;hs.sync=wf;var ds=require("fs");function _f(t,r){var o=r.pathExt!==void 0?r.pathExt:process.env.PATHEXT;if(!o||(o=o.split(";"),o.indexOf("")!==-1))return!0;for(var i=0;i<o.length;i++){var s=o[i].toLowerCase();if(s&&t.substr(-s.length).toLowerCase()===s)return!0}return!1}function ms(t,r,o){return!t.isSymbolicLink()&&!t.isFile()?!1:_f(r,o)}function hs(t,r,o){ds.stat(t,function(i,s){o(i,i?!1:ms(s,t,r))})}function wf(t,r){return ms(ds.statSync(t),t,r)}});var ws=O((Fh,_s)=>{_s.exports=gs;gs.sync=Rf;var ys=require("fs");function gs(t,r,o){ys.stat(t,function(i,s){o(i,i?!1:Ss(s,r))})}function Rf(t,r){return Ss(ys.statSync(t),r)}function Ss(t,r){return t.isFile()&&vf(t,r)}function vf(t,r){var o=t.mode,i=t.uid,s=t.gid,u=r.uid!==void 0?r.uid:process.getuid&&process.getuid(),c=r.gid!==void 0?r.gid:process.getgid&&process.getgid(),m=parseInt("100",8),h=parseInt("010",8),d=parseInt("001",8),y=m|h,R=o&d||o&h&&s===c||o&m&&i===u||o&y&&u===0;return R}});var vs=O((Lh,Rs)=>{var Wh=require("fs"),vn;process.platform==="win32"||global.TESTING_WINDOWS?vn=bs():vn=ws();Rs.exports=Io;Io.sync=Tf;function Io(t,r,o){if(typeof r=="function"&&(o=r,r={}),!o){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(i,s){Io(t,r||{},function(u,c){u?s(u):i(c)})})}vn(t,r||{},function(i,s){i&&(i.code==="EACCES"||r&&r.ignoreErrors)&&(i=null,s=!1),o(i,s)})}function Tf(t,r){try{return vn.sync(t,r||{})}catch(o){if(r&&r.ignoreErrors||o.code==="EACCES")return!1;throw o}}});var Os=O(($h,Is)=>{var Wt=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Ts=require("path"),Ef=Wt?";":":",Es=vs(),Cs=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),Ps=(t,r)=>{let o=r.colon||Ef,i=t.match(/\//)||Wt&&t.match(/\\/)?[""]:[...Wt?[process.cwd()]:[],...(r.path||process.env.PATH||"").split(o)],s=Wt?r.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",u=Wt?s.split(o):[""];return Wt&&t.indexOf(".")!==-1&&u[0]!==""&&u.unshift(""),{pathEnv:i,pathExt:u,pathExtExe:s}},As=(t,r,o)=>{typeof r=="function"&&(o=r,r={}),r||(r={});let{pathEnv:i,pathExt:s,pathExtExe:u}=Ps(t,r),c=[],m=d=>new Promise((y,R)=>{if(d===i.length)return r.all&&c.length?y(c):R(Cs(t));let g=i[d],S=/^".*"$/.test(g)?g.slice(1,-1):g,_=Ts.join(S,t),E=!S&&/^\.[\\\/]/.test(t)?t.slice(0,2)+_:_;y(h(E,d,0))}),h=(d,y,R)=>new Promise((g,S)=>{if(R===s.length)return g(m(y+1));let _=s[R];Es(d+_,{pathExt:u},(E,T)=>{if(!E&&T)if(r.all)c.push(d+_);else return g(d+_);return g(h(d,y,R+1))})});return o?m(0).then(d=>o(null,d),o):m(0)},Cf=(t,r)=>{r=r||{};let{pathEnv:o,pathExt:i,pathExtExe:s}=Ps(t,r),u=[];for(let c=0;c<o.length;c++){let m=o[c],h=/^".*"$/.test(m)?m.slice(1,-1):m,d=Ts.join(h,t),y=!h&&/^\.[\\\/]/.test(t)?t.slice(0,2)+d:d;for(let R=0;R<i.length;R++){let g=y+i[R];try{if(Es.sync(g,{pathExt:s}))if(r.all)u.push(g);else return g}catch{}}}if(r.all&&u.length)return u;if(r.nothrow)return null;throw Cs(t)};Is.exports=As;As.sync=Cf});var ko=O((zh,Oo)=>{"use strict";var ks=(t={})=>{let r=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(r).reverse().find(i=>i.toUpperCase()==="PATH")||"Path"};Oo.exports=ks;Oo.exports.default=ks});var qs=O((Mh,Ds)=>{"use strict";var xs=require("path"),Pf=Os(),Af=ko();function Bs(t,r){let o=t.options.env||process.env,i=process.cwd(),s=t.options.cwd!=null,u=s&&process.chdir!==void 0&&!process.chdir.disabled;if(u)try{process.chdir(t.options.cwd)}catch{}let c;try{c=Pf.sync(t.command,{path:o[Af({env:o})],pathExt:r?xs.delimiter:void 0})}catch{}finally{u&&process.chdir(i)}return c&&(c=xs.resolve(s?t.options.cwd:"",c)),c}function If(t){return Bs(t)||Bs(t,!0)}Ds.exports=If});var Fs=O((Uh,Bo)=>{"use strict";var xo=/([()\][%!^"`<>&|;, *?])/g;function Of(t){return t=t.replace(xo,"^$1"),t}function kf(t,r){return t=`${t}`,t=t.replace(/(\\*)"/g,'$1$1\\"'),t=t.replace(/(\\*)$/,"$1$1"),t=`"${t}"`,t=t.replace(xo,"^$1"),r&&(t=t.replace(xo,"^$1")),t}Bo.exports.command=Of;Bo.exports.argument=kf});var Ls=O((jh,Ws)=>{"use strict";Ws.exports=/^#!(.*)/});var zs=O((Nh,$s)=>{"use strict";var xf=Ls();$s.exports=(t="")=>{let r=t.match(xf);if(!r)return null;let[o,i]=r[0].replace(/#! ?/,"").split(" "),s=o.split("/").pop();return s==="env"?i:i?`${s} ${i}`:s}});var Us=O((Hh,Ms)=>{"use strict";var Do=require("fs"),Bf=zs();function Df(t){let o=Buffer.alloc(150),i;try{i=Do.openSync(t,"r"),Do.readSync(i,o,0,150,0),Do.closeSync(i)}catch{}return Bf(o.toString())}Ms.exports=Df});var Gs=O((Gh,Hs)=>{"use strict";var qf=require("path"),js=qs(),Ns=Fs(),Ff=Us(),Wf=process.platform==="win32",Lf=/\.(?:com|exe)$/i,$f=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function zf(t){t.file=js(t);let r=t.file&&Ff(t.file);return r?(t.args.unshift(t.file),t.command=r,js(t)):t.file}function Mf(t){if(!Wf)return t;let r=zf(t),o=!Lf.test(r);if(t.options.forceShell||o){let i=$f.test(r);t.command=qf.normalize(t.command),t.command=Ns.command(t.command),t.args=t.args.map(u=>Ns.argument(u,i));let s=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${s}"`],t.command=process.env.comspec||"cmd.exe",t.options.windowsVerbatimArguments=!0}return t}function Uf(t,r,o){r&&!Array.isArray(r)&&(o=r,r=null),r=r?r.slice(0):[],o=Object.assign({},o);let i={command:t,args:r,options:o,file:void 0,original:{command:t,args:r}};return o.shell?i:Mf(i)}Hs.exports=Uf});var Qs=O((Vh,Ys)=>{"use strict";var qo=process.platform==="win32";function Fo(t,r){return Object.assign(new Error(`${r} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${r} ${t.command}`,path:t.command,spawnargs:t.args})}function jf(t,r){if(!qo)return;let o=t.emit;t.emit=function(i,s){if(i==="exit"){let u=Vs(s,r,"spawn");if(u)return o.call(t,"error",u)}return o.apply(t,arguments)}}function Vs(t,r){return qo&&t===1&&!r.file?Fo(r.original,"spawn"):null}function Nf(t,r){return qo&&t===1&&!r.file?Fo(r.original,"spawnSync"):null}Ys.exports={hookChildProcess:jf,verifyENOENT:Vs,verifyENOENTSync:Nf,notFoundError:Fo}});var Zs=O((Yh,Lt)=>{"use strict";var Xs=require("child_process"),Wo=Gs(),Lo=Qs();function Ks(t,r,o){let i=Wo(t,r,o),s=Xs.spawn(i.command,i.args,i.options);return Lo.hookChildProcess(s,i),s}function Hf(t,r,o){let i=Wo(t,r,o),s=Xs.spawnSync(i.command,i.args,i.options);return s.error=s.error||Lo.verifyENOENTSync(s.status,i),s}Lt.exports=Ks;Lt.exports.spawn=Ks;Lt.exports.sync=Hf;Lt.exports._parse=Wo;Lt.exports._enoent=Lo});var eu=O((Qh,Js)=>{"use strict";Js.exports=t=>{let r=typeof t=="string"?`
`:`
`.charCodeAt(),o=typeof t=="string"?"\r":"\r".charCodeAt();return t[t.length-1]===r&&(t=t.slice(0,t.length-1)),t[t.length-1]===o&&(t=t.slice(0,t.length-1)),t}});var nu=O((Xh,Tr)=>{"use strict";var vr=require("path"),tu=ko(),ru=t=>{t=H({cwd:process.cwd(),path:process.env[tu()],execPath:process.execPath},t);let r,o=vr.resolve(t.cwd),i=[];for(;r!==o;)i.push(vr.join(o,"node_modules/.bin")),r=o,o=vr.resolve(o,"..");let s=vr.resolve(t.cwd,t.execPath,"..");return i.push(s),i.concat(t.path).join(vr.delimiter)};Tr.exports=ru;Tr.exports.default=ru;Tr.exports.env=t=>{t=H({env:process.env},t);let r=H({},t.env),o=tu({env:r});return t.path=r[o],r[o]=Tr.exports(t),r}});var iu=O((Kh,$o)=>{"use strict";var ou=(t,r)=>{for(let o of Reflect.ownKeys(r))Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o));return t};$o.exports=ou;$o.exports.default=ou});var su=O((Zh,En)=>{"use strict";var Gf=iu(),Tn=new WeakMap,au=(t,r={})=>{if(typeof t!="function")throw new TypeError("Expected a function");let o,i=0,s=t.displayName||t.name||"<anonymous>",u=function(...c){if(Tn.set(u,++i),i===1)o=t.apply(this,c),t=null;else if(r.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return o};return Gf(u,t),Tn.set(u,i),u};En.exports=au;En.exports.default=au;En.exports.callCount=t=>{if(!Tn.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return Tn.get(t)}});var uu=O(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.SIGNALS=void 0;var Vf=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];Cn.SIGNALS=Vf});var zo=O($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.SIGRTMAX=$t.getRealtimeSignals=void 0;var Yf=function(){let t=cu-lu+1;return Array.from({length:t},Qf)};$t.getRealtimeSignals=Yf;var Qf=function(t,r){return{name:`SIGRT${r+1}`,number:lu+r,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},lu=34,cu=64;$t.SIGRTMAX=cu});var fu=O(Pn=>{"use strict";Object.defineProperty(Pn,"__esModule",{value:!0});Pn.getSignals=void 0;var Xf=require("os"),Kf=uu(),Zf=zo(),Jf=function(){let t=(0,Zf.getRealtimeSignals)();return[...Kf.SIGNALS,...t].map(ed)};Pn.getSignals=Jf;var ed=function({name:t,number:r,description:o,action:i,forced:s=!1,standard:u}){let{signals:{[t]:c}}=Xf.constants,m=c!==void 0;return{name:t,number:m?c:r,description:o,supported:m,action:i,forced:s,standard:u}}});var mu=O(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});zt.signalsByNumber=zt.signalsByName=void 0;var td=require("os"),du=fu(),rd=zo(),nd=function(){return(0,du.getSignals)().reduce(od,{})},od=function(t,{name:r,number:o,description:i,supported:s,action:u,forced:c,standard:m}){return Te(H({},t),{[r]:{name:r,number:o,description:i,supported:s,action:u,forced:c,standard:m}})},id=nd();zt.signalsByName=id;var ad=function(){let t=(0,du.getSignals)(),r=rd.SIGRTMAX+1,o=Array.from({length:r},(i,s)=>sd(s,t));return Object.assign({},...o)},sd=function(t,r){let o=ud(t,r);if(o===void 0)return{};let{name:i,description:s,supported:u,action:c,forced:m,standard:h}=o;return{[t]:{name:i,number:t,description:s,supported:u,action:c,forced:m,standard:h}}},ud=function(t,r){let o=r.find(({name:i})=>td.constants.signals[i]===t);return o!==void 0?o:r.find(i=>i.number===t)},ld=ad();zt.signalsByNumber=ld});var pu=O((np,hu)=>{"use strict";var{signalsByName:cd}=mu(),fd=({timedOut:t,timeout:r,errorCode:o,signal:i,signalDescription:s,exitCode:u,isCanceled:c})=>t?`timed out after ${r} milliseconds`:c?"was canceled":o!==void 0?`failed with ${o}`:i!==void 0?`was killed with ${i} (${s})`:u!==void 0?`failed with exit code ${u}`:"failed",dd=({stdout:t,stderr:r,all:o,error:i,signal:s,exitCode:u,command:c,escapedCommand:m,timedOut:h,isCanceled:d,killed:y,parsed:{options:{timeout:R}}})=>{u=u===null?void 0:u,s=s===null?void 0:s;let g=s===void 0?void 0:cd[s].description,S=i&&i.code,E=`Command ${fd({timedOut:h,timeout:R,errorCode:S,signal:s,signalDescription:g,exitCode:u,isCanceled:d})}: ${c}`,T=Object.prototype.toString.call(i)==="[object Error]",w=T?`${E}
${i.message}`:E,x=[w,r,t].filter(Boolean).join(`
`);return T?(i.originalMessage=i.message,i.message=x):i=new Error(x),i.shortMessage=w,i.command=c,i.escapedCommand=m,i.exitCode=u,i.signal=s,i.signalDescription=g,i.stdout=t,i.stderr=r,o!==void 0&&(i.all=o),"bufferedData"in i&&delete i.bufferedData,i.failed=!0,i.timedOut=Boolean(h),i.isCanceled=d,i.killed=y&&!h,i};hu.exports=dd});var yu=O((op,Mo)=>{"use strict";var An=["stdin","stdout","stderr"],md=t=>An.some(r=>t[r]!==void 0),bu=t=>{if(!t)return;let{stdio:r}=t;if(r===void 0)return An.map(i=>t[i]);if(md(t))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${An.map(i=>`\`${i}\``).join(", ")}`);if(typeof r=="string")return r;if(!Array.isArray(r))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof r}\``);let o=Math.max(r.length,An.length);return Array.from({length:o},(i,s)=>r[s])};Mo.exports=bu;Mo.exports.node=t=>{let r=bu(t);return r==="ipc"?"ipc":r===void 0||typeof r=="string"?[r,r,r,"ipc"]:r.includes("ipc")?r:[...r,"ipc"]}});var gu=O((ip,In)=>{In.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&In.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&In.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var vu=O((ap,jt)=>{var j=global.process,St=function(t){return t&&typeof t=="object"&&typeof t.removeListener=="function"&&typeof t.emit=="function"&&typeof t.reallyExit=="function"&&typeof t.listeners=="function"&&typeof t.kill=="function"&&typeof t.pid=="number"&&typeof t.on=="function"};St(j)?(Su=require("assert"),Mt=gu(),_u=/^win/i.test(j.platform),Er=require("events"),typeof Er!="function"&&(Er=Er.EventEmitter),j.__signal_exit_emitter__?K=j.__signal_exit_emitter__:(K=j.__signal_exit_emitter__=new Er,K.count=0,K.emitted={}),K.infinite||(K.setMaxListeners(1/0),K.infinite=!0),jt.exports=function(t,r){if(!!St(global.process)){Su.equal(typeof t,"function","a callback must be provided for exit handler"),Ut===!1&&Uo();var o="exit";r&&r.alwaysLast&&(o="afterexit");var i=function(){K.removeListener(o,t),K.listeners("exit").length===0&&K.listeners("afterexit").length===0&&On()};return K.on(o,t),i}},On=function(){!Ut||!St(global.process)||(Ut=!1,Mt.forEach(function(r){try{j.removeListener(r,kn[r])}catch{}}),j.emit=xn,j.reallyExit=jo,K.count-=1)},jt.exports.unload=On,_t=function(r,o,i){K.emitted[r]||(K.emitted[r]=!0,K.emit(r,o,i))},kn={},Mt.forEach(function(t){kn[t]=function(){if(!!St(global.process)){var o=j.listeners(t);o.length===K.count&&(On(),_t("exit",null,t),_t("afterexit",null,t),_u&&t==="SIGHUP"&&(t="SIGINT"),j.kill(j.pid,t))}}}),jt.exports.signals=function(){return Mt},Ut=!1,Uo=function(){Ut||!St(global.process)||(Ut=!0,K.count+=1,Mt=Mt.filter(function(r){try{return j.on(r,kn[r]),!0}catch{return!1}}),j.emit=Ru,j.reallyExit=wu)},jt.exports.load=Uo,jo=j.reallyExit,wu=function(r){!St(global.process)||(j.exitCode=r||0,_t("exit",j.exitCode,null),_t("afterexit",j.exitCode,null),jo.call(j,j.exitCode))},xn=j.emit,Ru=function(r,o){if(r==="exit"&&St(global.process)){o!==void 0&&(j.exitCode=o);var i=xn.apply(this,arguments);return _t("exit",j.exitCode,null),_t("afterexit",j.exitCode,null),i}else return xn.apply(this,arguments)}):jt.exports=function(){};var Su,Mt,_u,Er,K,On,_t,kn,Ut,Uo,jo,wu,xn,Ru});var Eu=O((sp,Tu)=>{"use strict";var hd=require("os"),pd=vu(),bd=1e3*5,yd=(t,r="SIGTERM",o={})=>{let i=t(r);return gd(t,r,o,i),i},gd=(t,r,o,i)=>{if(!Sd(r,o,i))return;let s=wd(o),u=setTimeout(()=>{t("SIGKILL")},s);u.unref&&u.unref()},Sd=(t,{forceKillAfterTimeout:r},o)=>_d(t)&&r!==!1&&o,_d=t=>t===hd.constants.signals.SIGTERM||typeof t=="string"&&t.toUpperCase()==="SIGTERM",wd=({forceKillAfterTimeout:t=!0})=>{if(t===!0)return bd;if(!Number.isFinite(t)||t<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);return t},Rd=(t,r)=>{t.kill()&&(r.isCanceled=!0)},vd=(t,r,o)=>{t.kill(r),o(Object.assign(new Error("Timed out"),{timedOut:!0,signal:r}))},Td=(t,{timeout:r,killSignal:o="SIGTERM"},i)=>{if(r===0||r===void 0)return i;let s,u=new Promise((m,h)=>{s=setTimeout(()=>{vd(t,o,h)},r)}),c=i.finally(()=>{clearTimeout(s)});return Promise.race([u,c])},Ed=({timeout:t})=>{if(t!==void 0&&(!Number.isFinite(t)||t<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`)},Cd=async(t,{cleanup:r,detached:o},i)=>{if(!r||o)return i;let s=pd(()=>{t.kill()});return i.finally(()=>{s()})};Tu.exports={spawnedKill:yd,spawnedCancel:Rd,setupTimeout:Td,validateTimeout:Ed,setExitHandler:Cd}});var Pu=O((up,Cu)=>{"use strict";var De=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";De.writable=t=>De(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";De.readable=t=>De(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";De.duplex=t=>De.writable(t)&&De.readable(t);De.transform=t=>De.duplex(t)&&typeof t._transform=="function";Cu.exports=De});var Iu=O((lp,Au)=>{"use strict";var{PassThrough:Pd}=require("stream");Au.exports=t=>{t=H({},t);let{array:r}=t,{encoding:o}=t,i=o==="buffer",s=!1;r?s=!(o||i):o=o||"utf8",i&&(o=null);let u=new Pd({objectMode:s});o&&u.setEncoding(o);let c=0,m=[];return u.on("data",h=>{m.push(h),s?c=m.length:c+=h.length}),u.getBufferedValue=()=>r?m:i?Buffer.concat(m,c):m.join(""),u.getBufferedLength=()=>c,u}});var Ou=O((cp,Cr)=>{"use strict";var{constants:Ad}=require("buffer"),Id=require("stream"),{promisify:Od}=require("util"),kd=Iu(),xd=Od(Id.pipeline),No=class extends Error{constructor(){super("maxBuffer exceeded");this.name="MaxBufferError"}};async function Ho(t,r){if(!t)throw new Error("Expected a stream");r=H({maxBuffer:1/0},r);let{maxBuffer:o}=r,i=kd(r);return await new Promise((s,u)=>{let c=m=>{m&&i.getBufferedLength()<=Ad.MAX_LENGTH&&(m.bufferedData=i.getBufferedValue()),u(m)};(async()=>{try{await xd(t,i),s()}catch(m){c(m)}})(),i.on("data",()=>{i.getBufferedLength()>o&&c(new No)})}),i.getBufferedValue()}Cr.exports=Ho;Cr.exports.buffer=(t,r)=>Ho(t,Te(H({},r),{encoding:"buffer"}));Cr.exports.array=(t,r)=>Ho(t,Te(H({},r),{array:!0}));Cr.exports.MaxBufferError=No});var xu=O((fp,ku)=>{"use strict";var{PassThrough:Bd}=require("stream");ku.exports=function(){var t=[],r=new Bd({objectMode:!0});return r.setMaxListeners(0),r.add=o,r.isEmpty=i,r.on("unpipe",s),Array.prototype.slice.call(arguments).forEach(o),r;function o(u){return Array.isArray(u)?(u.forEach(o),this):(t.push(u),u.once("end",s.bind(null,u)),u.once("error",r.emit.bind(r,"error")),u.pipe(r,{end:!1}),this)}function i(){return t.length==0}function s(u){t=t.filter(function(c){return c!==u}),!t.length&&r.readable&&r.end()}}});var Fu=O((dp,qu)=>{"use strict";var Du=Pu(),Bu=Ou(),Dd=xu(),qd=(t,r)=>{r===void 0||t.stdin===void 0||(Du(r)?r.pipe(t.stdin):t.stdin.end(r))},Fd=(t,{all:r})=>{if(!r||!t.stdout&&!t.stderr)return;let o=Dd();return t.stdout&&o.add(t.stdout),t.stderr&&o.add(t.stderr),o},Go=async(t,r)=>{if(!!t){t.destroy();try{return await r}catch(o){return o.bufferedData}}},Vo=(t,{encoding:r,buffer:o,maxBuffer:i})=>{if(!(!t||!o))return r?Bu(t,{encoding:r,maxBuffer:i}):Bu.buffer(t,{maxBuffer:i})},Wd=async({stdout:t,stderr:r,all:o},{encoding:i,buffer:s,maxBuffer:u},c)=>{let m=Vo(t,{encoding:i,buffer:s,maxBuffer:u}),h=Vo(r,{encoding:i,buffer:s,maxBuffer:u}),d=Vo(o,{encoding:i,buffer:s,maxBuffer:u*2});try{return await Promise.all([c,m,h,d])}catch(y){return Promise.all([{error:y,signal:y.signal,timedOut:y.timedOut},Go(t,m),Go(r,h),Go(o,d)])}},Ld=({input:t})=>{if(Du(t))throw new TypeError("The `input` option cannot be a stream in sync mode")};qu.exports={handleInput:qd,makeAllStream:Fd,getSpawnedResult:Wd,validateInputSync:Ld}});var Lu=O((mp,Wu)=>{"use strict";var $d=(async()=>{})().constructor.prototype,zd=["then","catch","finally"].map(t=>[t,Reflect.getOwnPropertyDescriptor($d,t)]),Md=(t,r)=>{for(let[o,i]of zd){let s=typeof r=="function"?(...u)=>Reflect.apply(i.value,r(),u):i.value.bind(r);Reflect.defineProperty(t,o,Te(H({},i),{value:s}))}return t},Ud=t=>new Promise((r,o)=>{t.on("exit",(i,s)=>{r({exitCode:i,signal:s})}),t.on("error",i=>{o(i)}),t.stdin&&t.stdin.on("error",i=>{o(i)})});Wu.exports={mergePromise:Md,getSpawnedPromise:Ud}});var Mu=O((hp,zu)=>{"use strict";var $u=(t,r=[])=>Array.isArray(r)?[t,...r]:[t],jd=/^[\w.-]+$/,Nd=/"/g,Hd=t=>typeof t!="string"||jd.test(t)?t:`"${t.replace(Nd,'\\"')}"`,Gd=(t,r)=>$u(t,r).join(" "),Vd=(t,r)=>$u(t,r).map(o=>Hd(o)).join(" "),Yd=/ +/g,Qd=t=>{let r=[];for(let o of t.trim().split(Yd)){let i=r[r.length-1];i&&i.endsWith("\\")?r[r.length-1]=`${i.slice(0,-1)} ${o}`:r.push(o)}return r};zu.exports={joinCommand:Gd,getEscapedCommand:Vd,parseCommand:Qd}});var Yu=O((pp,Nt)=>{"use strict";var Xd=require("path"),Yo=require("child_process"),Kd=Zs(),Zd=eu(),Jd=nu(),em=su(),Bn=pu(),ju=yu(),{spawnedKill:tm,spawnedCancel:rm,setupTimeout:nm,validateTimeout:om,setExitHandler:im}=Eu(),{handleInput:am,getSpawnedResult:sm,makeAllStream:um,validateInputSync:lm}=Fu(),{mergePromise:Uu,getSpawnedPromise:cm}=Lu(),{joinCommand:Nu,parseCommand:Hu,getEscapedCommand:Gu}=Mu(),fm=1e3*1e3*100,dm=({env:t,extendEnv:r,preferLocal:o,localDir:i,execPath:s})=>{let u=r?H(H({},process.env),t):t;return o?Jd.env({env:u,cwd:i,execPath:s}):u},Vu=(t,r,o={})=>{let i=Kd._parse(t,r,o);return t=i.command,r=i.args,o=i.options,o=H({maxBuffer:fm,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:o.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0},o),o.env=dm(o),o.stdio=ju(o),process.platform==="win32"&&Xd.basename(t,".exe")==="cmd"&&r.unshift("/q"),{file:t,args:r,options:o,parsed:i}},Pr=(t,r,o)=>typeof r!="string"&&!Buffer.isBuffer(r)?o===void 0?void 0:"":t.stripFinalNewline?Zd(r):r,Dn=(t,r,o)=>{let i=Vu(t,r,o),s=Nu(t,r),u=Gu(t,r);om(i.options);let c;try{c=Yo.spawn(i.file,i.args,i.options)}catch(S){let _=new Yo.ChildProcess,E=Promise.reject(Bn({error:S,stdout:"",stderr:"",all:"",command:s,escapedCommand:u,parsed:i,timedOut:!1,isCanceled:!1,killed:!1}));return Uu(_,E)}let m=cm(c),h=nm(c,i.options,m),d=im(c,i.options,h),y={isCanceled:!1};c.kill=tm.bind(null,c.kill.bind(c)),c.cancel=rm.bind(null,c,y);let g=em(async()=>{let[{error:S,exitCode:_,signal:E,timedOut:T},w,x,M]=await sm(c,i.options,d),P=Pr(i.options,w),D=Pr(i.options,x),A=Pr(i.options,M);if(S||_!==0||E!==null){let V=Bn({error:S,exitCode:_,signal:E,stdout:P,stderr:D,all:A,command:s,escapedCommand:u,parsed:i,timedOut:T,isCanceled:y.isCanceled,killed:c.killed});if(!i.options.reject)return V;throw V}return{command:s,escapedCommand:u,exitCode:0,stdout:P,stderr:D,all:A,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return am(c,i.options.input),c.all=um(c,i.options),Uu(c,g)};Nt.exports=Dn;Nt.exports.sync=(t,r,o)=>{let i=Vu(t,r,o),s=Nu(t,r),u=Gu(t,r);lm(i.options);let c;try{c=Yo.spawnSync(i.file,i.args,i.options)}catch(d){throw Bn({error:d,stdout:"",stderr:"",all:"",command:s,escapedCommand:u,parsed:i,timedOut:!1,isCanceled:!1,killed:!1})}let m=Pr(i.options,c.stdout,c.error),h=Pr(i.options,c.stderr,c.error);if(c.error||c.status!==0||c.signal!==null){let d=Bn({stdout:m,stderr:h,error:c.error,signal:c.signal,exitCode:c.status,command:s,escapedCommand:u,parsed:i,timedOut:c.error&&c.error.code==="ETIMEDOUT",isCanceled:!1,killed:c.signal!==null});if(!i.options.reject)return d;throw d}return{command:s,escapedCommand:u,exitCode:0,stdout:m,stderr:h,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};Nt.exports.command=(t,r)=>{let[o,...i]=Hu(t);return Dn(o,i,r)};Nt.exports.commandSync=(t,r)=>{let[o,...i]=Hu(t);return Dn.sync(o,i,r)};Nt.exports.node=(t,r,o={})=>{r&&!Array.isArray(r)&&typeof r=="object"&&(o=r,r=[]);let i=ju.node(o),s=process.execArgv.filter(m=>!m.startsWith("--inspect")),{nodePath:u=process.execPath,nodeOptions:c=s}=o;return Dn(u,[...c,t,...Array.isArray(r)?r:[]],Te(H({},o),{stdin:void 0,stdout:void 0,stderr:void 0,stdio:i,shell:!1}))}});var Sm={};ia(Sm,{default:()=>gm});var Fn=require("@raycast/api");var Bt=require("@raycast/api"),sa=require("path"),ua=require("os"),la=(0,Bt.getPreferenceValues)(),ca=()=>{let{gridItemSize:t}=la;return t=="small"?Bt.Grid.ItemSize.Small:t=="large"?Bt.Grid.ItemSize.Large:Bt.Grid.ItemSize.Medium},fa=()=>la.showImageTitle,da=t=>t.replace(/\w\S*/g,r=>r.charAt(0).toUpperCase()+r.substring(1).toLowerCase()),ma=t=>t[0]==="~"?(0,sa.join)((0,ua.homedir)(),t.slice(1)):t;var Be=require("@raycast/api"),Ao=require("react");var Ga=Ee(require("node:http"),1),Va=Ee(require("node:https"),1),yt=Ee(require("node:zlib"),1),be=Ee(require("node:stream"),1),yr=require("node:buffer");function Oc(t){if(!/^data:/i.test(t))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');t=t.replace(/\r?\n/g,"");let r=t.indexOf(",");if(r===-1||r<=4)throw new TypeError("malformed data: URI");let o=t.substring(5,r).split(";"),i="",s=!1,u=o[0]||"text/plain",c=u;for(let y=1;y<o.length;y++)o[y]==="base64"?s=!0:(c+=`;${o[y]}`,o[y].indexOf("charset=")===0&&(i=o[y].substring(8)));!o[0]&&!i.length&&(c+=";charset=US-ASCII",i="US-ASCII");let m=s?"base64":"ascii",h=unescape(t.substring(r+1)),d=Buffer.from(h,m);return d.type=u,d.typeFull=c,d.charset=i,d}var ha=Oc;var _e=Ee(require("node:stream"),1),je=require("node:util"),he=require("node:buffer");fr();fn();var Je=class extends Error{constructor(r,o){super(r);Error.captureStackTrace(this,this.constructor),this.type=o}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var me=class extends Je{constructor(r,o,i){super(r,o);i&&(this.code=this.errno=i.code,this.erroredSysCall=i.syscall)}};var dn=Symbol.toStringTag,fo=t=>typeof t=="object"&&typeof t.append=="function"&&typeof t.delete=="function"&&typeof t.get=="function"&&typeof t.getAll=="function"&&typeof t.has=="function"&&typeof t.set=="function"&&typeof t.sort=="function"&&t[dn]==="URLSearchParams",mr=t=>t&&typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.constructor=="function"&&/^(Blob|File)$/.test(t[dn]),va=t=>typeof t=="object"&&(t[dn]==="AbortSignal"||t[dn]==="EventTarget"),Ta=(t,r)=>{let o=new URL(r).hostname,i=new URL(t).hostname;return o===i||o.endsWith(`.${i}`)};var Hc=(0,je.promisify)(_e.default.pipeline),le=Symbol("Body internals"),Ue=class{constructor(r,{size:o=0}={}){let i=null;r===null?r=null:fo(r)?r=he.Buffer.from(r.toString()):mr(r)||he.Buffer.isBuffer(r)||(je.types.isAnyArrayBuffer(r)?r=he.Buffer.from(r):ArrayBuffer.isView(r)?r=he.Buffer.from(r.buffer,r.byteOffset,r.byteLength):r instanceof _e.default||(r instanceof pt?(r=Ra(r),i=r.type.split("=")[1]):r=he.Buffer.from(String(r))));let s=r;he.Buffer.isBuffer(r)?s=_e.default.Readable.from(r):mr(r)&&(s=_e.default.Readable.from(r.stream())),this[le]={body:r,stream:s,boundary:i,disturbed:!1,error:null},this.size=o,r instanceof _e.default&&r.on("error",u=>{let c=u instanceof Je?u:new me(`Invalid response body while trying to fetch ${this.url}: ${u.message}`,"system",u);this[le].error=c})}get body(){return this[le].stream}get bodyUsed(){return this[le].disturbed}async arrayBuffer(){let{buffer:r,byteOffset:o,byteLength:i}=await pn(this);return r.slice(o,o+i)}async formData(){let r=this.headers.get("content-type");if(r.startsWith("application/x-www-form-urlencoded")){let i=new pt,s=new URLSearchParams(await this.text());for(let[u,c]of s)i.append(u,c);return i}let{toFormData:o}=await Promise.resolve().then(()=>(ka(),Oa));return o(this.body,r)}async blob(){let r=this.headers&&this.headers.get("content-type")||this[le].body&&this[le].body.type||"",o=await this.arrayBuffer();return new Me([o],{type:r})}async json(){let r=await pn(this);return JSON.parse(r.toString())}async text(){return(await pn(this)).toString()}buffer(){return pn(this)}};Ue.prototype.buffer=(0,je.deprecate)(Ue.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(Ue.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,je.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function pn(t){if(t[le].disturbed)throw new TypeError(`body used already for: ${t.url}`);if(t[le].disturbed=!0,t[le].error)throw t[le].error;let{body:r}=t;if(r===null)return he.Buffer.alloc(0);if(!(r instanceof _e.default))return he.Buffer.alloc(0);let o=[],i=0;try{for await(let s of r){if(t.size>0&&i+s.length>t.size){let u=new me(`content size at ${t.url} over limit: ${t.size}`,"max-size");throw r.destroy(u),u}i+=s.length,o.push(s)}}catch(s){throw s instanceof Je?s:new me(`Invalid response body while trying to fetch ${t.url}: ${s.message}`,"system",s)}if(r.readableEnded===!0||r._readableState.ended===!0)try{return o.every(s=>typeof s=="string")?he.Buffer.from(o.join("")):he.Buffer.concat(o,i)}catch(s){throw new me(`Could not create Buffer from response body for ${t.url}: ${s.message}`,"system",s)}else throw new me(`Premature close of server response while trying to fetch ${t.url}`)}var qt=(t,r)=>{let o,i,{body:s}=t[le];if(t.bodyUsed)throw new Error("cannot clone body after it is used");return s instanceof _e.default&&typeof s.getBoundary!="function"&&(o=new _e.PassThrough({highWaterMark:r}),i=new _e.PassThrough({highWaterMark:r}),s.pipe(o),s.pipe(i),t[le].stream=o,s=i),s},Gc=(0,je.deprecate)(t=>t.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),bn=(t,r)=>t===null?null:typeof t=="string"?"text/plain;charset=UTF-8":fo(t)?"application/x-www-form-urlencoded;charset=UTF-8":mr(t)?t.type||null:he.Buffer.isBuffer(t)||je.types.isAnyArrayBuffer(t)||ArrayBuffer.isView(t)?null:t instanceof pt?`multipart/form-data; boundary=${r[le].boundary}`:t&&typeof t.getBoundary=="function"?`multipart/form-data;boundary=${Gc(t)}`:t instanceof _e.default?null:"text/plain;charset=UTF-8",xa=t=>{let{body:r}=t[le];return r===null?0:mr(r)?r.size:he.Buffer.isBuffer(r)?r.length:r&&typeof r.getLengthSync=="function"&&r.hasKnownLength&&r.hasKnownLength()?r.getLengthSync():null},Ba=async(t,{body:r})=>{r===null?t.end():await Hc(r,t)};var po=require("node:util"),br=Ee(require("node:http"),1),yn=typeof br.default.validateHeaderName=="function"?br.default.validateHeaderName:t=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(t)){let r=new TypeError(`Header name must be a valid HTTP token [${t}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}},bo=typeof br.default.validateHeaderValue=="function"?br.default.validateHeaderValue:(t,r)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let o=new TypeError(`Invalid character in header content ["${t}"]`);throw Object.defineProperty(o,"code",{value:"ERR_INVALID_CHAR"}),o}},pe=class extends URLSearchParams{constructor(r){let o=[];if(r instanceof pe){let i=r.raw();for(let[s,u]of Object.entries(i))o.push(...u.map(c=>[s,c]))}else if(r!=null)if(typeof r=="object"&&!po.types.isBoxedPrimitive(r)){let i=r[Symbol.iterator];if(i==null)o.push(...Object.entries(r));else{if(typeof i!="function")throw new TypeError("Header pairs must be iterable");o=[...r].map(s=>{if(typeof s!="object"||po.types.isBoxedPrimitive(s))throw new TypeError("Each header pair must be an iterable object");return[...s]}).map(s=>{if(s.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...s]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");o=o.length>0?o.map(([i,s])=>(yn(i),bo(i,String(s)),[String(i).toLowerCase(),String(s)])):void 0;super(o);return new Proxy(this,{get(i,s,u){switch(s){case"append":case"set":return(c,m)=>(yn(c),bo(c,String(m)),URLSearchParams.prototype[s].call(i,String(c).toLowerCase(),String(m)));case"delete":case"has":case"getAll":return c=>(yn(c),URLSearchParams.prototype[s].call(i,String(c).toLowerCase()));case"keys":return()=>(i.sort(),new Set(URLSearchParams.prototype.keys.call(i)).keys());default:return Reflect.get(i,s,u)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(r){let o=this.getAll(r);if(o.length===0)return null;let i=o.join(", ");return/^content-encoding$/i.test(r)&&(i=i.toLowerCase()),i}forEach(r,o=void 0){for(let i of this.keys())Reflect.apply(r,o,[this.get(i),i,this])}*values(){for(let r of this.keys())yield this.get(r)}*entries(){for(let r of this.keys())yield[r,this.get(r)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((r,o)=>(r[o]=this.getAll(o),r),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((r,o)=>{let i=this.getAll(o);return o==="host"?r[o]=i[0]:r[o]=i.length>1?i:i[0],r},{})}};Object.defineProperties(pe.prototype,["get","entries","forEach","values"].reduce((t,r)=>(t[r]={enumerable:!0},t),{}));function Da(t=[]){return new pe(t.reduce((r,o,i,s)=>(i%2===0&&r.push(s.slice(i,i+2)),r),[]).filter(([r,o])=>{try{return yn(r),bo(r,String(o)),!0}catch{return!1}}))}var Vc=new Set([301,302,303,307,308]),gn=t=>Vc.has(t);var Ce=Symbol("Response internals"),ne=class extends Ue{constructor(r=null,o={}){super(r,o);let i=o.status!=null?o.status:200,s=new pe(o.headers);if(r!==null&&!s.has("Content-Type")){let u=bn(r,this);u&&s.append("Content-Type",u)}this[Ce]={type:"default",url:o.url,status:i,statusText:o.statusText||"",headers:s,counter:o.counter,highWaterMark:o.highWaterMark}}get type(){return this[Ce].type}get url(){return this[Ce].url||""}get status(){return this[Ce].status}get ok(){return this[Ce].status>=200&&this[Ce].status<300}get redirected(){return this[Ce].counter>0}get statusText(){return this[Ce].statusText}get headers(){return this[Ce].headers}get highWaterMark(){return this[Ce].highWaterMark}clone(){return new ne(qt(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(r,o=302){if(!gn(o))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new ne(null,{headers:{location:new URL(r).toString()},status:o})}static error(){let r=new ne(null,{status:0,statusText:""});return r[Ce].type="error",r}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(ne.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var ja=require("node:url"),Na=require("node:util");var qa=t=>{if(t.search)return t.search;let r=t.href.length-1,o=t.hash||(t.href[r]==="#"?"#":"");return t.href[r-o.length]==="?"?"?":""};var Wa=require("node:net");function Fa(t,r=!1){return t==null||(t=new URL(t),/^(about|blob|data):$/.test(t.protocol))?"no-referrer":(t.username="",t.password="",t.hash="",r&&(t.pathname="",t.search=""),t)}var La=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),$a="strict-origin-when-cross-origin";function za(t){if(!La.has(t))throw new TypeError(`Invalid referrerPolicy: ${t}`);return t}function Yc(t){if(/^(http|ws)s:$/.test(t.protocol))return!0;let r=t.host.replace(/(^\[)|(]$)/g,""),o=(0,Wa.isIP)(r);return o===4&&/^127\./.test(r)||o===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(r)?!0:/^(.+\.)*localhost$/.test(t.host)?!1:t.protocol==="file:"}function Ft(t){return/^about:(blank|srcdoc)$/.test(t)||t.protocol==="data:"||/^(blob|filesystem):$/.test(t.protocol)?!0:Yc(t)}function Ma(t,{referrerURLCallback:r,referrerOriginCallback:o}={}){if(t.referrer==="no-referrer"||t.referrerPolicy==="")return null;let i=t.referrerPolicy;if(t.referrer==="about:client")return"no-referrer";let s=t.referrer,u=Fa(s),c=Fa(s,!0);u.toString().length>4096&&(u=c),r&&(u=r(u)),o&&(c=o(c));let m=new URL(t.url);switch(i){case"no-referrer":return"no-referrer";case"origin":return c;case"unsafe-url":return u;case"strict-origin":return Ft(u)&&!Ft(m)?"no-referrer":c.toString();case"strict-origin-when-cross-origin":return u.origin===m.origin?u:Ft(u)&&!Ft(m)?"no-referrer":c;case"same-origin":return u.origin===m.origin?u:"no-referrer";case"origin-when-cross-origin":return u.origin===m.origin?u:c;case"no-referrer-when-downgrade":return Ft(u)&&!Ft(m)?"no-referrer":u;default:throw new TypeError(`Invalid referrerPolicy: ${i}`)}}function Ua(t){let r=(t.get("referrer-policy")||"").split(/[,\s]+/),o="";for(let i of r)i&&La.has(i)&&(o=i);return o}var X=Symbol("Request internals"),Sn=t=>typeof t=="object"&&typeof t[X]=="object",Qc=(0,Na.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),tt=class extends Ue{constructor(r,o={}){let i;if(Sn(r)?i=new URL(r.url):(i=new URL(r),r={}),i.username!==""||i.password!=="")throw new TypeError(`${i} is an url with embedded credentails.`);let s=o.method||r.method||"GET";if(s=s.toUpperCase(),"data"in o&&Qc(),(o.body!=null||Sn(r)&&r.body!==null)&&(s==="GET"||s==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let u=o.body?o.body:Sn(r)&&r.body!==null?qt(r):null;super(u,{size:o.size||r.size||0});let c=new pe(o.headers||r.headers||{});if(u!==null&&!c.has("Content-Type")){let d=bn(u,this);d&&c.set("Content-Type",d)}let m=Sn(r)?r.signal:null;if("signal"in o&&(m=o.signal),m!=null&&!va(m))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let h=o.referrer==null?r.referrer:o.referrer;if(h==="")h="no-referrer";else if(h){let d=new URL(h);h=/^about:(\/\/)?client$/.test(d)?"client":d}else h=void 0;this[X]={method:s,redirect:o.redirect||r.redirect||"follow",headers:c,parsedURL:i,signal:m,referrer:h},this.follow=o.follow===void 0?r.follow===void 0?20:r.follow:o.follow,this.compress=o.compress===void 0?r.compress===void 0?!0:r.compress:o.compress,this.counter=o.counter||r.counter||0,this.agent=o.agent||r.agent,this.highWaterMark=o.highWaterMark||r.highWaterMark||16384,this.insecureHTTPParser=o.insecureHTTPParser||r.insecureHTTPParser||!1,this.referrerPolicy=o.referrerPolicy||r.referrerPolicy||""}get method(){return this[X].method}get url(){return(0,ja.format)(this[X].parsedURL)}get headers(){return this[X].headers}get redirect(){return this[X].redirect}get signal(){return this[X].signal}get referrer(){if(this[X].referrer==="no-referrer")return"";if(this[X].referrer==="client")return"about:client";if(this[X].referrer)return this[X].referrer.toString()}get referrerPolicy(){return this[X].referrerPolicy}set referrerPolicy(r){this[X].referrerPolicy=za(r)}clone(){return new tt(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(tt.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var Ha=t=>{let{parsedURL:r}=t[X],o=new pe(t[X].headers);o.has("Accept")||o.set("Accept","*/*");let i=null;if(t.body===null&&/^(post|put)$/i.test(t.method)&&(i="0"),t.body!==null){let m=xa(t);typeof m=="number"&&!Number.isNaN(m)&&(i=String(m))}i&&o.set("Content-Length",i),t.referrerPolicy===""&&(t.referrerPolicy=$a),t.referrer&&t.referrer!=="no-referrer"?t[X].referrer=Ma(t):t[X].referrer="no-referrer",t[X].referrer instanceof URL&&o.set("Referer",t.referrer),o.has("User-Agent")||o.set("User-Agent","node-fetch"),t.compress&&!o.has("Accept-Encoding")&&o.set("Accept-Encoding","gzip,deflate,br");let{agent:s}=t;typeof s=="function"&&(s=s(r)),!o.has("Connection")&&!s&&o.set("Connection","close");let u=qa(r),c={path:r.pathname+u,method:t.method,headers:o[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:t.insecureHTTPParser,agent:s};return{parsedURL:r,options:c}};var yo=class extends Je{constructor(r,o="aborted"){super(r,o)}};fn();ho();var Xc=new Set(["data:","http:","https:"]);async function _n(t,r){return new Promise((o,i)=>{let s=new tt(t,r),{parsedURL:u,options:c}=Ha(s);if(!Xc.has(u.protocol))throw new TypeError(`node-fetch cannot load ${t}. URL scheme "${u.protocol.replace(/:$/,"")}" is not supported.`);if(u.protocol==="data:"){let _=ha(s.url),E=new ne(_,{headers:{"Content-Type":_.typeFull}});o(E);return}let m=(u.protocol==="https:"?Va.default:Ga.default).request,{signal:h}=s,d=null,y=()=>{let _=new yo("The operation was aborted.");i(_),s.body&&s.body instanceof be.default.Readable&&s.body.destroy(_),!(!d||!d.body)&&d.body.emit("error",_)};if(h&&h.aborted){y();return}let R=()=>{y(),S()},g=m(u.toString(),c);h&&h.addEventListener("abort",R);let S=()=>{g.abort(),h&&h.removeEventListener("abort",R)};g.on("error",_=>{i(new me(`request to ${s.url} failed, reason: ${_.message}`,"system",_)),S()}),Kc(g,_=>{d.body.destroy(_)}),process.version<"v14"&&g.on("socket",_=>{let E;_.prependListener("end",()=>{E=_._eventsCount}),_.prependListener("close",T=>{if(d&&E<_._eventsCount&&!T){let w=new Error("Premature close");w.code="ERR_STREAM_PREMATURE_CLOSE",d.body.emit("error",w)}})}),g.on("response",_=>{g.setTimeout(0);let E=Da(_.rawHeaders);if(gn(_.statusCode)){let P=E.get("Location"),D=null;try{D=P===null?null:new URL(P,s.url)}catch{if(s.redirect!=="manual"){i(new me(`uri requested responds with an invalid redirect URL: ${P}`,"invalid-redirect")),S();return}}switch(s.redirect){case"error":i(new me(`uri requested responds with a redirect, redirect mode is set to error: ${s.url}`,"no-redirect")),S();return;case"manual":break;case"follow":{if(D===null)break;if(s.counter>=s.follow){i(new me(`maximum redirect reached at: ${s.url}`,"max-redirect")),S();return}let A={headers:new pe(s.headers),follow:s.follow,counter:s.counter+1,agent:s.agent,compress:s.compress,method:s.method,body:qt(s),signal:s.signal,size:s.size,referrer:s.referrer,referrerPolicy:s.referrerPolicy};if(!Ta(s.url,D))for(let Z of["authorization","www-authenticate","cookie","cookie2"])A.headers.delete(Z);if(_.statusCode!==303&&s.body&&r.body instanceof be.default.Readable){i(new me("Cannot follow redirect with body being a readable stream","unsupported-redirect")),S();return}(_.statusCode===303||(_.statusCode===301||_.statusCode===302)&&s.method==="POST")&&(A.method="GET",A.body=void 0,A.headers.delete("content-length"));let V=Ua(E);V&&(A.referrerPolicy=V),o(_n(new tt(D,A))),S();return}default:return i(new TypeError(`Redirect option '${s.redirect}' is not a valid value of RequestRedirect`))}}h&&_.once("end",()=>{h.removeEventListener("abort",R)});let T=(0,be.pipeline)(_,new be.PassThrough,P=>{P&&i(P)});process.version<"v12.10"&&_.on("aborted",R);let w={url:s.url,status:_.statusCode,statusText:_.statusMessage,headers:E,size:s.size,counter:s.counter,highWaterMark:s.highWaterMark},x=E.get("Content-Encoding");if(!s.compress||s.method==="HEAD"||x===null||_.statusCode===204||_.statusCode===304){d=new ne(T,w),o(d);return}let M={flush:yt.default.Z_SYNC_FLUSH,finishFlush:yt.default.Z_SYNC_FLUSH};if(x==="gzip"||x==="x-gzip"){T=(0,be.pipeline)(T,yt.default.createGunzip(M),P=>{P&&i(P)}),d=new ne(T,w),o(d);return}if(x==="deflate"||x==="x-deflate"){let P=(0,be.pipeline)(_,new be.PassThrough,D=>{D&&i(D)});P.once("data",D=>{(D[0]&15)===8?T=(0,be.pipeline)(T,yt.default.createInflate(),A=>{A&&i(A)}):T=(0,be.pipeline)(T,yt.default.createInflateRaw(),A=>{A&&i(A)}),d=new ne(T,w),o(d)}),P.once("end",()=>{d||(d=new ne(T,w),o(d))});return}if(x==="br"){T=(0,be.pipeline)(T,yt.default.createBrotliDecompress(),P=>{P&&i(P)}),d=new ne(T,w),o(d);return}d=new ne(T,w),o(d)}),Ba(g,s).catch(i)})}function Kc(t,r){let o=yr.Buffer.from(`0\r
\r
`),i=!1,s=!1,u;t.on("response",c=>{let{headers:m}=c;i=m["transfer-encoding"]==="chunked"&&!m["content-length"]}),t.on("socket",c=>{let m=()=>{if(i&&!s){let h=new Error("Premature close");h.code="ERR_STREAM_PREMATURE_CLOSE",r(h)}};c.prependListener("close",m),t.on("abort",()=>{c.removeListener("close",m)}),c.on("data",h=>{s=yr.Buffer.compare(h.slice(-5),o)===0,!s&&u&&(s=yr.Buffer.compare(u.slice(-3),o.slice(0,3))===0&&yr.Buffer.compare(h.slice(-2),o.slice(3))===0),u=h})})}var W=require("react");function Ka(t,r,o,i){function s(u){return u instanceof o?u:new o(function(c){c(u)})}return new(o||(o=Promise))(function(u,c){function m(y){try{d(i.next(y))}catch(R){c(R)}}function h(y){try{d(i.throw(y))}catch(R){c(R)}}function d(y){y.done?u(y.value):s(y.value).then(m,h)}d((i=i.apply(t,r||[])).next())})}function Za(t,r){var o={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,s,u,c;return c={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function m(d){return function(y){return h([d,y])}}function h(d){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,s&&(u=d[0]&2?s.return:d[0]?s.throw||((u=s.return)&&u.call(s),0):s.next)&&!(u=u.call(s,d[1])).done)return u;switch(s=0,u&&(d=[d[0]&2,u.value]),d[0]){case 0:case 1:u=d;break;case 4:return o.label++,{value:d[1],done:!1};case 5:o.label++,s=d[1],d=[0];continue;case 7:d=o.ops.pop(),o.trys.pop();continue;default:if(u=o.trys,!(u=u.length>0&&u[u.length-1])&&(d[0]===6||d[0]===2)){o=0;continue}if(d[0]===3&&(!u||d[1]>u[0]&&d[1]<u[3])){o.label=d[1];break}if(d[0]===6&&o.label<u[1]){o.label=u[1],u=d;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(d);break}u[2]&&o.ops.pop(),o.trys.pop();continue}d=r.call(t,o)}catch(y){d=[6,y],s=0}finally{i=u=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}var xe=function(){},J=xe(),gr=Object,ce=function(t){return t===J},wr=function(t){return typeof t=="function"},Ne=function(t,r){return gr.assign({},t,r)},Eo="undefined",Co=function(){return typeof window!=Eo},Zc=function(){return typeof document!=Eo},Jc=function(){return Co()&&typeof window.requestAnimationFrame!=Eo},wn=new WeakMap,ef=0,Rr=function(t){var r=typeof t,o=t&&t.constructor,i=o==Date,s,u;if(gr(t)===t&&!i&&o!=RegExp){if(s=wn.get(t),s)return s;if(s=++ef+"~",wn.set(t,s),o==Array){for(s="@",u=0;u<t.length;u++)s+=Rr(t[u])+",";wn.set(t,s)}if(o==gr){s="#";for(var c=gr.keys(t).sort();!ce(u=c.pop());)ce(t[u])||(s+=u+":"+Rr(t[u])+",");wn.set(t,s)}}else s=i?t.toJSON():r=="symbol"?t.toString():r=="string"?JSON.stringify(t):""+t;return s},_o=!0,tf=function(){return _o},Ja=Co(),Po=Zc(),wo=Ja&&window.addEventListener?window.addEventListener.bind(window):xe,rf=Po?document.addEventListener.bind(document):xe,Ro=Ja&&window.removeEventListener?window.removeEventListener.bind(window):xe,nf=Po?document.removeEventListener.bind(document):xe,of=function(){var t=Po&&document.visibilityState;return ce(t)||t!=="hidden"},af=function(t){return rf("visibilitychange",t),wo("focus",t),function(){nf("visibilitychange",t),Ro("focus",t)}},sf=function(t){var r=function(){_o=!0,t()},o=function(){_o=!1};return wo("online",r),wo("offline",o),function(){Ro("online",r),Ro("offline",o)}},uf={isOnline:tf,isVisible:of},lf={initFocus:af,initReconnect:sf},Rn=!Co()||"Deno"in window,cf=function(t){return Jc()?window.requestAnimationFrame(t):setTimeout(t,1)},Sr=Rn?W.useEffect:W.useLayoutEffect,go=typeof navigator<"u"&&navigator.connection,Ya=!Rn&&go&&(["slow-2g","2g"].includes(go.effectiveType)||go.saveData),es=function(t){if(wr(t))try{t=t()}catch{t=""}var r=[].concat(t);t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?Rr(t):"";var o=t?"$swr$"+t:"";return[t,r,o]},gt=new WeakMap,ts=0,rs=1,ns=2,_r=function(t,r,o,i,s,u,c){c===void 0&&(c=!0);var m=gt.get(t),h=m[0],d=m[1],y=m[3],R=h[r],g=d[r];if(c&&g)for(var S=0;S<g.length;++S)g[S](o,i,s);return u&&(delete y[r],R&&R[0])?R[0](ns).then(function(){return t.get(r)}):t.get(r)},ff=0,vo=function(){return++ff},os=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Ka(void 0,void 0,void 0,function(){var o,i,s,u,c,m,h,d,y,R,g,S,_,E,T,w,x,M,P,D;return Za(this,function(A){switch(A.label){case 0:if(o=t[0],i=t[1],s=t[2],u=t[3],c=typeof u=="boolean"?{revalidate:u}:u||{},m=c.populateCache!==!1,h=c.revalidate!==!1,d=c.rollbackOnError!==!1,y=c.optimisticData,R=es(i),g=R[0],S=R[2],!g)return[2];if(_=gt.get(o),E=_[2],t.length<3)return[2,_r(o,g,o.get(g),J,J,h,m)];if(T=s,x=vo(),E[g]=[x,0],M=!ce(y),P=o.get(g),M&&(o.set(g,y),_r(o,g,y)),wr(T))try{T=T(o.get(g))}catch(V){w=V}return T&&wr(T.then)?[4,T.catch(function(V){w=V})]:[3,2];case 1:if(T=A.sent(),x!==E[g][0]){if(w)throw w;return[2,T]}else w&&M&&d&&(m=!0,T=P,o.set(g,P));A.label=2;case 2:return m&&(w||o.set(g,T),o.set(S,Ne(o.get(S),{error:w}))),E[g][1]=vo(),[4,_r(o,g,T,w,J,h,m)];case 3:if(D=A.sent(),w)throw w;return[2,m?D:T]}})})},Qa=function(t,r){for(var o in t)t[o][0]&&t[o][0](r)},is=function(t,r){if(!gt.has(t)){var o=Ne(lf,r),i={},s=os.bind(J,t),u=xe;if(gt.set(t,[i,{},{},{},s]),!Rn){var c=o.initFocus(setTimeout.bind(J,Qa.bind(J,i,ts))),m=o.initReconnect(setTimeout.bind(J,Qa.bind(J,i,rs)));u=function(){c&&c(),m&&m(),gt.delete(t)}}return[t,s,u]}return[t,gt.get(t)[4]]},df=function(t,r,o,i,s){var u=o.errorRetryCount,c=s.retryCount,m=~~((Math.random()+.5)*(1<<(c<8?c:8)))*o.errorRetryInterval;!ce(u)&&c>u||setTimeout(i,m,s)},as=is(new Map),ss=as[0],mf=as[1],us=Ne({onLoadingSlow:xe,onSuccess:xe,onError:xe,onErrorRetry:df,onDiscarded:xe,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Ya?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Ya?5e3:3e3,compare:function(t,r){return Rr(t)==Rr(r)},isPaused:function(){return!1},cache:ss,mutate:mf,fallback:{}},uf),ls=function(t,r){var o=Ne(t,r);if(r){var i=t.use,s=t.fallback,u=r.use,c=r.fallback;i&&u&&(o.use=i.concat(u)),s&&c&&(o.fallback=Ne(s,c))}return o},To=(0,W.createContext)({}),hf=function(t){var r=t.value,o=ls((0,W.useContext)(To),r),i=r&&r.provider,s=(0,W.useState)(function(){return i?is(i(o.cache||ss),r):J})[0];return s&&(o.cache=s[0],o.mutate=s[1]),Sr(function(){return s?s[2]:J},[]),(0,W.createElement)(To.Provider,Ne(t,{value:o}))},pf=function(t,r){var o=(0,W.useState)({})[1],i=(0,W.useRef)(t),s=(0,W.useRef)({data:!1,error:!1,isValidating:!1}),u=(0,W.useCallback)(function(c){var m=!1,h=i.current;for(var d in c){var y=d;h[y]!==c[y]&&(h[y]=c[y],s.current[y]&&(m=!0))}m&&!r.current&&o({})},[]);return Sr(function(){i.current=t}),[i,s.current,u]},bf=function(t){return wr(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}]},yf=function(){return Ne(us,(0,W.useContext)(To))},gf=function(t){return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];var s=yf(),u=bf(o),c=u[0],m=u[1],h=u[2],d=ls(s,h),y=t,R=d.use;if(R)for(var g=R.length;g-- >0;)y=R[g](y);return y(c,m||d.fetcher,d)}},Xa=function(t,r,o){var i=r[t]||(r[t]=[]);return i.push(o),function(){var s=i.indexOf(o);s>=0&&(i[s]=i[i.length-1],i.pop())}},So={dedupe:!0},Sf=function(t,r,o){var i=o.cache,s=o.compare,u=o.fallbackData,c=o.suspense,m=o.revalidateOnMount,h=o.refreshInterval,d=o.refreshWhenHidden,y=o.refreshWhenOffline,R=gt.get(i),g=R[0],S=R[1],_=R[2],E=R[3],T=es(t),w=T[0],x=T[1],M=T[2],P=(0,W.useRef)(!1),D=(0,W.useRef)(!1),A=(0,W.useRef)(w),V=(0,W.useRef)(r),Z=(0,W.useRef)(o),Y=function(){return Z.current},nt=function(){return Y().isVisible()&&Y().isOnline()},oe=function(N){return i.set(M,Ne(i.get(M),N))},qe=i.get(w),Gt=ce(u)?o.fallback[w]:u,ye=ce(qe)?Gt:qe,Ir=i.get(M)||{},Fe=Ir.error,Or=function(){return ce(m)?Y().isPaused()?!1:c?!ce(ye):ce(ye)||o.revalidateIfStale:m},kr=function(){return!w||!r?!1:Ir.isValidating?!0:!P.current&&Or()},wt=kr(),Rt=pf({data:ye,error:Fe,isValidating:wt},D),Pe=Rt[0],ot=Rt[1],it=Rt[2],We=(0,W.useCallback)(function(N){return Ka(void 0,void 0,void 0,function(){var U,ie,ae,te,Le,se,Q,Ae,fe,at,ge,He,st;return Za(this,function(Ie){switch(Ie.label){case 0:if(U=V.current,!w||!U||D.current||Y().isPaused())return[2,!1];te=!0,Le=N||{},se=!E[w]||!Le.dedupe,Q=function(){return!D.current&&w===A.current&&P.current},Ae=function(){var Vt=E[w];Vt&&Vt[1]===ae&&delete E[w]},fe={isValidating:!1},at=function(){oe({isValidating:!1}),Q()&&it(fe)},oe({isValidating:!0}),it({isValidating:!0}),Ie.label=1;case 1:return Ie.trys.push([1,3,,4]),se&&(_r(i,w,Pe.current.data,Pe.current.error,!0),o.loadingTimeout&&!i.get(w)&&setTimeout(function(){te&&Q()&&Y().onLoadingSlow(w,o)},o.loadingTimeout),E[w]=[U.apply(void 0,x),vo()]),st=E[w],ie=st[0],ae=st[1],[4,ie];case 2:return ie=Ie.sent(),se&&setTimeout(Ae,o.dedupingInterval),!E[w]||E[w][1]!==ae?(se&&Q()&&Y().onDiscarded(w),[2,!1]):(oe({error:J}),fe.error=J,ge=_[w],!ce(ge)&&(ae<=ge[0]||ae<=ge[1]||ge[1]===0)?(at(),se&&Q()&&Y().onDiscarded(w),[2,!1]):(s(Pe.current.data,ie)?fe.data=Pe.current.data:fe.data=ie,s(i.get(w),ie)||i.set(w,ie),se&&Q()&&Y().onSuccess(ie,w,o),[3,4]));case 3:return He=Ie.sent(),Ae(),Y().isPaused()||(oe({error:He}),fe.error=He,se&&Q()&&(Y().onError(He,w,o),o.shouldRetryOnError&&nt()&&Y().onErrorRetry(He,w,o,We,{retryCount:(Le.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return te=!1,at(),Q()&&se&&_r(i,w,fe.data,fe.error,!1),[2,!0]}})})},[w]),Wn=(0,W.useCallback)(os.bind(J,i,function(){return A.current}),[]);if(Sr(function(){V.current=r,Z.current=o}),Sr(function(){if(!!w){var N=P.current,U=We.bind(J,So),ie=function(Q,Ae,fe){it(Ne({error:Ae,isValidating:fe},s(Pe.current.data,Q)?J:{data:Q}))},ae=0,te=function(Q){if(Q==ts){var Ae=Date.now();Y().revalidateOnFocus&&Ae>ae&&nt()&&(ae=Ae+Y().focusThrottleInterval,U())}else if(Q==rs)Y().revalidateOnReconnect&&nt()&&U();else if(Q==ns)return We()},Le=Xa(w,S,ie),se=Xa(w,g,te);return D.current=!1,A.current=w,P.current=!0,N&&it({data:ye,error:Fe,isValidating:wt}),Or()&&(ce(ye)||Rn?U():cf(U)),function(){D.current=!0,Le(),se()}}},[w,We]),Sr(function(){var N;function U(){var ae=wr(h)?h(ye):h;ae&&N!==-1&&(N=setTimeout(ie,ae))}function ie(){!Pe.current.error&&(d||Y().isVisible())&&(y||Y().isOnline())?We(So).then(U):U()}return U(),function(){N&&(clearTimeout(N),N=-1)}},[h,d,y,We]),(0,W.useDebugValue)(ye),c&&ce(ye)&&w)throw V.current=r,Z.current=o,ce(Fe)?We(So):Fe;return{mutate:Wn,get data(){return ot.data=!0,ye},get error(){return ot.error=!0,Fe},get isValidating(){return ot.isValidating=!0,wt}}},Oh=gr.defineProperty(hf,"default",{value:us});var cs=gf(Sf);var fs=()=>{let{accessKey:t,username:r}=(0,Be.getPreferenceValues)();r||(0,Be.showToast)(Be.Toast.Style.Failure,"Username is missing.","Please set a username from extension settings.");let[o,i]=(0,Ao.useState)(!0),[s,u]=(0,Ao.useState)([]),c=m=>_n(m,{headers:{Authorization:`Client-ID ${t}`}}).then(h=>h.json());return cs(`https://api.unsplash.com/users/${r}/likes`,c,{onSuccess:m=>{m.errors?(i(!1),(0,Be.showToast)(Be.Toast.Style.Failure,"Failed to fetch likes.",m.errors?.join(`
`))):u(m),i(!1)},onError:m=>{(0,Be.showToast)(Be.Toast.Style.Failure,"Something went wrong.",String(m)),i(!1)}}),{loading:o,likes:s}};var L=require("@raycast/api");var Ar=require("@raycast/api");var Qu=Ee(require("node:process"),1),Xu=Ee(Yu(),1);async function Ht(t){if(Qu.default.platform!=="darwin")throw new Error("macOS only");let{stdout:r}=await(0,Xu.default)("osascript",["-e",t]);return r}var Ku=async({url:t,id:r})=>{let{downloadSize:o}=(0,Ar.getPreferenceValues)();try{await(0,Ar.showHUD)("Please select a location to save the image..."),await Ht(`
      set outputFolder to choose folder with prompt "Please select an output folder:"
      set temp_folder to (POSIX path of outputFolder) & "${r}-${o}.jpg"
      set q_temp_folder to quoted form of temp_folder

      set cmd to "curl -o " & q_temp_folder & " " & "${t}"
        do shell script cmd
    `)}catch(i){console.error(i),await(0,Ar.showHUD)("Couldn't save the image...")}};var ee=require("@raycast/api");var Qo=require("fs");var Zu=async({url:t,id:r,useHud:o=!1,isBackground:i=!1})=>{let{downloadSize:s,applyTo:u,wallpaperPath:c}=(0,ee.getPreferenceValues)(),m=ma(c||ee.environment.supportPath),h;if((0,Qo.existsSync)(m)){let y="Downloading and setting wallpaper...";o?!i&&await(0,ee.showHUD)(y):h=await(0,ee.showToast)(ee.Toast.Style.Animated,y)}else{let y="The selected path does not exist. Please select a valid path.";await(o?(0,ee.showHUD)(y):(0,ee.showToast)(ee.Toast.Style.Animated,y));return}let d=m.endsWith("/")?`${m}${r}-${s}.jpg`:`${m}/${r}-${s}.jpg`;try{let y=d,R=(0,Qo.existsSync)(y)?"":`set cmd to "curl -o " & q_temp_folder & " " & "${t}"
        do shell script cmd`;if(await Ht(`
      set temp_folder to (POSIX path of "${y}")
      set q_temp_folder to quoted form of temp_folder

      ${R}

      set x to alias (POSIX file temp_folder)

      try
        tell application "System Events"
          tell ${u} desktop
            set picture to (x as text)
            return "ok"
          end tell
        end tell
      on error
        set dialogTitle to "Error Setting Wallpaper"
        set dialogText to "Please make sure you have given Raycast the required permission. To make sure, click the button below and grant Raycast the 'System Events' permission."

        display alert dialogTitle message dialogText buttons {"Cancel", "Open Preferences"} default button 2 as informational
          if button returned of result is "Open Preferences" then
            do shell script "open 'x-apple.systempreferences:com.apple.preference.security?Privacy_Automation'"
          end if

        return "error"
      end try
    `)!=="ok")throw new Error("Error setting wallpaper.");return o?!i&&await(0,ee.showHUD)("Wallpaper set!"):h&&(h.style=ee.Toast.Style.Success,h.title="Wallpaper set!"),!0}catch(y){return console.error(y),h&&(h.style=ee.Toast.Style.Failure,h.title="Something went wrong.",h.message="Try with another image or check your internet connection."),!1}};var rt=require("@raycast/api");var Ju=require("fs"),el=async({url:t,id:r})=>{let o=await(0,rt.showToast)(rt.Toast.Style.Animated,"Downloading and copying image..."),i=rt.environment.supportPath,s=i.endsWith("/")?`${i}${r}.jpg`:`${i}/${r}.jpg`;try{let u=s,c=(0,Ju.existsSync)(u)?"":`set cmd to "curl -o " & q_temp_folder & " " & "${t}"
        do shell script cmd`;await Ht(`
      set temp_folder to (POSIX path of "${u}")
      set q_temp_folder to quoted form of temp_folder

      ${c}

      set x to alias (POSIX file temp_folder)
      set the clipboard to (read (contents of x) as JPEG picture)
    `),o.style=rt.Toast.Style.Success,o.title="Image copied to the clipboard!"}catch(u){console.error(u),o.style=rt.Toast.Style.Failure,o.title="Something went wrong.",o.message="Try with another image or check your internet connection."}};var tl=require("@raycast/api");var mm=({result:t})=>{let r=t.urls?.regular||t.urls?.small||t.urls?.thumb,o=t.created_at?new Date(t.created_at).toLocaleString():"Unknown",i=[t.description&&`# ${t.description}`,t.user?.name&&`**Photo by [${t.user.name}](${t.user.links.html})**`,r&&`![image](${r})`,t.alt_description&&`**Description**: ${t.alt_description}`,t.created_at&&`**Uploaded On**: ${o}`,t.likes&&`**Likes**: ${t.likes}`,t.width&&t.height&&`**Ratio**: ${t.width}x${t.height}`];return _jsx(tl.Detail,{markdown:i.filter(s=>s).map(s=>s+`
`).join(`
`),navigationTitle:t.user?.name,actions:_jsx(qn,{item:t})})},rl=mm;var Xo=Ee(require("react")),hm=({details:t=!1,item:r})=>_jsx(L.ActionPanel,null,_jsx(pm,{details:t,item:r})),pm=({details:t=!1,item:r})=>{let{push:o}=(0,L.useNavigation)(),{downloadSize:i}=(0,L.getPreferenceValues)(),s=r.urls?.raw||r.urls?.full||r.urls?.regular||r.urls?.small,u={url:r.urls?.[i]||s,id:`${r.id}-${i}`};return _jsx(Xo.default.Fragment,null,_jsx(L.ActionPanel.Section,null,t&&_jsx(L.Action,{title:"Show Details",icon:L.Icon.List,onAction:()=>o(_jsx(rl,{result:r}))}),r.links?.html&&_jsx(L.Action.OpenInBrowser,{url:r.links.html,title:"Open Original"}),r.user?.links?.html&&_jsx(L.Action.OpenInBrowser,{url:r.user.links.html,icon:L.Icon.Person,shortcut:{modifiers:["cmd"],key:"o"},title:"Open Author"})),_jsx(L.ActionPanel.Section,{title:"Image"},s&&_jsx(Xo.default.Fragment,null,_jsx(L.Action,{title:"Copy to Clipboard",icon:L.Icon.Clipboard,shortcut:{modifiers:["cmd","shift"],key:"c"},onAction:()=>el(u)}),_jsx(L.Action,{title:"Set as Desktop Wallpaper",icon:L.Icon.Desktop,shortcut:{modifiers:["cmd","shift"],key:"w"},onAction:()=>Zu({url:s,id:String(r.id)})}),_jsx(L.Action,{title:"Download Image",icon:L.Icon.Desktop,shortcut:{modifiers:["cmd","shift"],key:"d"},onAction:()=>Ku({url:s,id:String(r.id)})}))),_jsx(L.ActionPanel.Section,{title:"Links"},r.links?.html&&_jsx(L.Action.CopyToClipboard,{content:r.links.html,title:"Copy URL to Clipboard",icon:L.Icon.Clipboard}),s&&_jsx(L.Action.CopyToClipboard,{content:s,title:"Copy Image URL to Clipboard",icon:L.Icon.Clipboard}),r.user?.links?.html&&_jsx(L.Action.CopyToClipboard,{content:r.user.links.html,title:"Copy Author URL to Clipboard",icon:L.Icon.Clipboard})))},qn=hm;var bm=()=>{let{loading:t,likes:r}=fs(),o=ca();return _jsx(Fn.Grid,{isLoading:t,itemSize:o,searchBarPlaceholder:"Search your likes..."},_jsx(Fn.Grid.Section,{title:"Results",subtitle:String(r?.length)},r?.map(i=>_jsx(ym,{key:i.id,item:i}))))},ym=({item:t})=>{let[r,o,i]=[t.title||t.description||t.user.name||"No Name",t.urls?.thumb||t.urls?.small||t.urls?.regular,t.user?.profile_image?.small],s=Te(H({},t),{title:r,alt_description:""}),u=fa()?da(r):"";return _jsx(Fn.Grid.Item,{content:o,title:u,actions:_jsx(qn,{item:s,details:!0})})},gm=bm;module.exports=Ic(Sm);0&&(module.exports={});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/*! fetch-blob. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */
/*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */
/*! node-domexception. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */
