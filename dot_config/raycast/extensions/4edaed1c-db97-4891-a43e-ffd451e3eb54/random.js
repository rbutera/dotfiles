var Ru=Object.create;var It=Object.defineProperty,Tu=Object.defineProperties,Eu=Object.getOwnPropertyDescriptor,Cu=Object.getOwnPropertyDescriptors,Pu=Object.getOwnPropertyNames,wi=Object.getOwnPropertySymbols,Au=Object.getPrototypeOf,Ti=Object.prototype.hasOwnProperty,vu=Object.prototype.propertyIsEnumerable;var Ri=(n,r,o)=>r in n?It(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,M=(n,r)=>{for(var o in r||(r={}))Ti.call(r,o)&&Ri(n,o,r[o]);if(wi)for(var o of wi(r))vu.call(r,o)&&Ri(n,o,r[o]);return n},Se=(n,r)=>Tu(n,Cu(r)),Ei=n=>It(n,"__esModule",{value:!0});var xt=(n,r)=>()=>(n&&(r=n(n=0)),r);var A=(n,r)=>()=>(r||n((r={exports:{}}).exports,r),r.exports),Ci=(n,r)=>{for(var o in r)It(n,o,{get:r[o],enumerable:!0})},Pi=(n,r,o,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of Pu(r))!Ti.call(n,s)&&(o||s!=="default")&&It(n,s,{get:()=>r[s],enumerable:!(a=Eu(r,s))||a.enumerable});return n},fe=(n,r)=>Pi(Ei(It(n!=null?Ru(Au(n)):{},"default",!r&&n&&n.__esModule?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n),Bu=(n=>(r,o)=>n&&n.get(r)||(o=Pi(Ei({}),r,1),n&&n.set(r,o),o))(typeof WeakMap!="undefined"?new WeakMap:0);var Bi=A((Tr,vi)=>{(function(n,r){typeof Tr=="object"&&typeof vi<"u"?r(Tr):typeof define=="function"&&define.amd?define(["exports"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.WebStreamsPolyfill={}))})(Tr,function(n){"use strict";let r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:e=>`Symbol(${e})`;function o(){}function a(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let s=a();function u(e){return typeof e=="object"&&e!==null||typeof e=="function"}let f=o,p=Promise,m=Promise.prototype.then,b=Promise.resolve.bind(p),_=Promise.reject.bind(p);function T(e){return new p(e)}function S(e){return b(e)}function g(e){return _(e)}function y(e,t,i){return m.call(e,t,i)}function C(e,t,i){y(y(e,t,i),void 0,f)}function P(e,t){C(e,t)}function v(e,t){C(e,void 0,t)}function W(e,t,i){return y(e,t,i)}function U(e){y(e,void 0,f)}let k=(()=>{let e=s&&s.queueMicrotask;if(typeof e=="function")return e;let t=S(void 0);return i=>y(t,i)})();function z(e,t,i){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,i)}function x(e,t,i){try{return S(z(e,t,i))}catch(l){return g(l)}}let oe=16384;class X{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(t){let i=this._back,l=i;i._elements.length===oe-1&&(l={_elements:[],_next:void 0}),i._elements.push(t),l!==i&&(this._back=l,i._next=l),++this._size}shift(){let t=this._front,i=t,l=this._cursor,c=l+1,d=t._elements,h=d[l];return c===oe&&(i=t._next,c=0),--this._size,this._cursor=c,t!==i&&(this._front=i),d[l]=void 0,h}forEach(t){let i=this._cursor,l=this._front,c=l._elements;for(;(i!==c.length||l._next!==void 0)&&!(i===c.length&&(l=l._next,c=l._elements,i=0,c.length===0));)t(c[i]),++i}peek(){let t=this._front,i=this._cursor;return t._elements[i]}}function io(e,t){e._ownerReadableStream=t,t._reader=e,t._state==="readable"?Yr(e):t._state==="closed"?Ks(e):ao(e,t._storedError)}function Vr(e,t){let i=e._ownerReadableStream;return se(i,t)}function he(e){e._ownerReadableStream._state==="readable"?Qr(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):Zs(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function Ge(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function Yr(e){e._closedPromise=T((t,i)=>{e._closedPromise_resolve=t,e._closedPromise_reject=i})}function ao(e,t){Yr(e),Qr(e,t)}function Ks(e){Yr(e),so(e)}function Qr(e,t){e._closedPromise_reject!==void 0&&(U(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function Zs(e,t){ao(e,t)}function so(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}let lo=r("[[AbortSteps]]"),uo=r("[[ErrorSteps]]"),Xr=r("[[CancelSteps]]"),Kr=r("[[PullSteps]]"),co=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},Js=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function el(e){return typeof e=="object"||typeof e=="function"}function pe(e,t){if(e!==void 0&&!el(e))throw new TypeError(`${t} is not an object.`)}function ie(e,t){if(typeof e!="function")throw new TypeError(`${t} is not a function.`)}function tl(e){return typeof e=="object"&&e!==null||typeof e=="function"}function fo(e,t){if(!tl(e))throw new TypeError(`${t} is not an object.`)}function be(e,t,i){if(e===void 0)throw new TypeError(`Parameter ${t} is required in '${i}'.`)}function Zr(e,t,i){if(e===void 0)throw new TypeError(`${t} is required in '${i}'.`)}function Jr(e){return Number(e)}function mo(e){return e===0?0:e}function rl(e){return mo(Js(e))}function ho(e,t){let l=Number.MAX_SAFE_INTEGER,c=Number(e);if(c=mo(c),!co(c))throw new TypeError(`${t} is not a finite number`);if(c=rl(c),c<0||c>l)throw new TypeError(`${t} is outside the accepted range of ${0} to ${l}, inclusive`);return!co(c)||c===0?0:c}function en(e,t){if(!Ae(e))throw new TypeError(`${t} is not a ReadableStream.`)}function Ve(e){return new bt(e)}function po(e,t){e._reader._readRequests.push(t)}function tn(e,t,i){let c=e._reader._readRequests.shift();i?c._closeSteps():c._chunkSteps(t)}function Ht(e){return e._reader._readRequests.length}function bo(e){let t=e._reader;return!(t===void 0||!Te(t))}class bt{constructor(t){if(be(t,1,"ReadableStreamDefaultReader"),en(t,"First parameter"),ve(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");io(this,t),this._readRequests=new X}get closed(){return Te(this)?this._closedPromise:g(Gt("closed"))}cancel(t=void 0){return Te(this)?this._ownerReadableStream===void 0?g(Ge("cancel")):Vr(this,t):g(Gt("cancel"))}read(){if(!Te(this))return g(Gt("read"));if(this._ownerReadableStream===void 0)return g(Ge("read from"));let t,i,l=T((d,h)=>{t=d,i=h});return yt(this,{_chunkSteps:d=>t({value:d,done:!1}),_closeSteps:()=>t({value:void 0,done:!0}),_errorSteps:d=>i(d)}),l}releaseLock(){if(!Te(this))throw Gt("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");he(this)}}}Object.defineProperties(bt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(bt.prototype,r.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function Te(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readRequests")?!1:e instanceof bt}function yt(e,t){let i=e._ownerReadableStream;i._disturbed=!0,i._state==="closed"?t._closeSteps():i._state==="errored"?t._errorSteps(i._storedError):i._readableStreamController[Kr](t)}function Gt(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}let yo=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class go{constructor(t,i){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=t,this._preventCancel=i}next(){let t=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?W(this._ongoingPromise,t,t):t(),this._ongoingPromise}return(t){let i=()=>this._returnSteps(t);return this._ongoingPromise?W(this._ongoingPromise,i,i):i()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let t=this._reader;if(t._ownerReadableStream===void 0)return g(Ge("iterate"));let i,l,c=T((h,w)=>{i=h,l=w});return yt(t,{_chunkSteps:h=>{this._ongoingPromise=void 0,k(()=>i({value:h,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,he(t),i({value:void 0,done:!0})},_errorSteps:h=>{this._ongoingPromise=void 0,this._isFinished=!0,he(t),l(h)}}),c}_returnSteps(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;let i=this._reader;if(i._ownerReadableStream===void 0)return g(Ge("finish iterating"));if(!this._preventCancel){let l=Vr(i,t);return he(i),W(l,()=>({value:t,done:!0}))}return he(i),S({value:t,done:!0})}}let So={next(){return _o(this)?this._asyncIteratorImpl.next():g(wo("next"))},return(e){return _o(this)?this._asyncIteratorImpl.return(e):g(wo("return"))}};yo!==void 0&&Object.setPrototypeOf(So,yo);function nl(e,t){let i=Ve(e),l=new go(i,t),c=Object.create(So);return c._asyncIteratorImpl=l,c}function _o(e){if(!u(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof go}catch{return!1}}function wo(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}let Ro=Number.isNaN||function(e){return e!==e};function gt(e){return e.slice()}function To(e,t,i,l,c){new Uint8Array(e).set(new Uint8Array(i,l,c),t)}function Xf(e){return e}function Vt(e){return!1}function Eo(e,t,i){if(e.slice)return e.slice(t,i);let l=i-t,c=new ArrayBuffer(l);return To(c,0,e,t,l),c}function ol(e){return!(typeof e!="number"||Ro(e)||e<0)}function Co(e){let t=Eo(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function rn(e){let t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function nn(e,t,i){if(!ol(i)||i===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:i}),e._queueTotalSize+=i}function il(e){return e._queue.peek().value}function Ee(e){e._queue=new X,e._queueTotalSize=0}class St{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!on(this))throw un("view");return this._view}respond(t){if(!on(this))throw un("respond");if(be(t,1,"respond"),t=ho(t,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Vt(this._view.buffer),Zt(this._associatedReadableByteStreamController,t)}respondWithNewView(t){if(!on(this))throw un("respondWithNewView");if(be(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Vt(t.buffer),Jt(this._associatedReadableByteStreamController,t)}}Object.defineProperties(St.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(St.prototype,r.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Ye{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!qe(this))throw wt("byobRequest");return ln(this)}get desiredSize(){if(!qe(this))throw wt("desiredSize");return Oo(this)}close(){if(!qe(this))throw wt("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let t=this._controlledReadableByteStream._state;if(t!=="readable")throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be closed`);_t(this)}enqueue(t){if(!qe(this))throw wt("enqueue");if(be(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new TypeError("chunk must be an array buffer view");if(t.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(t.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let i=this._controlledReadableByteStream._state;if(i!=="readable")throw new TypeError(`The stream (in ${i} state) is not in the readable state and cannot be enqueued to`);Kt(this,t)}error(t=void 0){if(!qe(this))throw wt("error");ae(this,t)}[Xr](t){Po(this),Ee(this);let i=this._cancelAlgorithm(t);return Xt(this),i}[Kr](t){let i=this._controlledReadableByteStream;if(this._queueTotalSize>0){let c=this._queue.shift();this._queueTotalSize-=c.byteLength,ko(this);let d=new Uint8Array(c.buffer,c.byteOffset,c.byteLength);t._chunkSteps(d);return}let l=this._autoAllocateChunkSize;if(l!==void 0){let c;try{c=new ArrayBuffer(l)}catch(h){t._errorSteps(h);return}let d={buffer:c,bufferByteLength:l,byteOffset:0,byteLength:l,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(d)}po(i,t),We(this)}}Object.defineProperties(Ye.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ye.prototype,r.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function qe(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")?!1:e instanceof Ye}function on(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")?!1:e instanceof St}function We(e){if(!ul(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let i=e._pullAlgorithm();C(i,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,We(e))},l=>{ae(e,l)})}function Po(e){sn(e),e._pendingPullIntos=new X}function an(e,t){let i=!1;e._state==="closed"&&(i=!0);let l=Ao(t);t.readerType==="default"?tn(e,l,i):dl(e,l,i)}function Ao(e){let t=e.bytesFilled,i=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/i)}function Yt(e,t,i,l){e._queue.push({buffer:t,byteOffset:i,byteLength:l}),e._queueTotalSize+=l}function vo(e,t){let i=t.elementSize,l=t.bytesFilled-t.bytesFilled%i,c=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),d=t.bytesFilled+c,h=d-d%i,w=c,E=!1;h>l&&(w=h-t.bytesFilled,E=!0);let I=e._queue;for(;w>0;){let O=I.peek(),q=Math.min(w,O.byteLength),$=t.byteOffset+t.bytesFilled;To(t.buffer,$,O.buffer,O.byteOffset,q),O.byteLength===q?I.shift():(O.byteOffset+=q,O.byteLength-=q),e._queueTotalSize-=q,Bo(e,q,t),w-=q}return E}function Bo(e,t,i){i.bytesFilled+=t}function ko(e){e._queueTotalSize===0&&e._closeRequested?(Xt(e),Bt(e._controlledReadableByteStream)):We(e)}function sn(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Io(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;let t=e._pendingPullIntos.peek();vo(e,t)&&(Qt(e),an(e._controlledReadableByteStream,t))}}function al(e,t,i){let l=e._controlledReadableByteStream,c=1;t.constructor!==DataView&&(c=t.constructor.BYTES_PER_ELEMENT);let d=t.constructor,h=t.buffer,w={buffer:h,bufferByteLength:h.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:c,viewConstructor:d,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(w),Do(l,i);return}if(l._state==="closed"){let E=new d(w.buffer,w.byteOffset,0);i._closeSteps(E);return}if(e._queueTotalSize>0){if(vo(e,w)){let E=Ao(w);ko(e),i._chunkSteps(E);return}if(e._closeRequested){let E=new TypeError("Insufficient bytes to fill elements in the given buffer");ae(e,E),i._errorSteps(E);return}}e._pendingPullIntos.push(w),Do(l,i),We(e)}function sl(e,t){let i=e._controlledReadableByteStream;if(cn(i))for(;Fo(i)>0;){let l=Qt(e);an(i,l)}}function ll(e,t,i){if(Bo(e,t,i),i.bytesFilled<i.elementSize)return;Qt(e);let l=i.bytesFilled%i.elementSize;if(l>0){let c=i.byteOffset+i.bytesFilled,d=Eo(i.buffer,c-l,c);Yt(e,d,0,d.byteLength)}i.bytesFilled-=l,an(e._controlledReadableByteStream,i),Io(e)}function xo(e,t){let i=e._pendingPullIntos.peek();sn(e),e._controlledReadableByteStream._state==="closed"?sl(e):ll(e,t,i),We(e)}function Qt(e){return e._pendingPullIntos.shift()}function ul(e){let t=e._controlledReadableByteStream;return t._state!=="readable"||e._closeRequested||!e._started?!1:!!(bo(t)&&Ht(t)>0||cn(t)&&Fo(t)>0||Oo(e)>0)}function Xt(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function _t(e){let t=e._controlledReadableByteStream;if(!(e._closeRequested||t._state!=="readable")){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){let l=new TypeError("Insufficient bytes to fill elements in the given buffer");throw ae(e,l),l}Xt(e),Bt(t)}}function Kt(e,t){let i=e._controlledReadableByteStream;if(e._closeRequested||i._state!=="readable")return;let l=t.buffer,c=t.byteOffset,d=t.byteLength,h=l;if(e._pendingPullIntos.length>0){let w=e._pendingPullIntos.peek();Vt(w.buffer),w.buffer=w.buffer}if(sn(e),bo(i))if(Ht(i)===0)Yt(e,h,c,d);else{e._pendingPullIntos.length>0&&Qt(e);let w=new Uint8Array(h,c,d);tn(i,w,!1)}else cn(i)?(Yt(e,h,c,d),Io(e)):Yt(e,h,c,d);We(e)}function ae(e,t){let i=e._controlledReadableByteStream;i._state==="readable"&&(Po(e),Ee(e),Xt(e),si(i,t))}function ln(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek(),i=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),l=Object.create(St.prototype);fl(l,e,i),e._byobRequest=l}return e._byobRequest}function Oo(e){let t=e._controlledReadableByteStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function Zt(e,t){let i=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(t===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(i.bytesFilled+t>i.byteLength)throw new RangeError("bytesWritten out of range")}i.buffer=i.buffer,xo(e,t)}function Jt(e,t){let i=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(t.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(i.byteOffset+i.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(i.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(i.bytesFilled+t.byteLength>i.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let c=t.byteLength;i.buffer=t.buffer,xo(e,c)}function qo(e,t,i,l,c,d,h){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,Ee(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=d,t._pullAlgorithm=l,t._cancelAlgorithm=c,t._autoAllocateChunkSize=h,t._pendingPullIntos=new X,e._readableStreamController=t;let w=i();C(S(w),()=>{t._started=!0,We(t)},E=>{ae(t,E)})}function cl(e,t,i){let l=Object.create(Ye.prototype),c=()=>{},d=()=>S(void 0),h=()=>S(void 0);t.start!==void 0&&(c=()=>t.start(l)),t.pull!==void 0&&(d=()=>t.pull(l)),t.cancel!==void 0&&(h=E=>t.cancel(E));let w=t.autoAllocateChunkSize;if(w===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");qo(e,l,c,d,h,i,w)}function fl(e,t,i){e._associatedReadableByteStreamController=t,e._view=i}function un(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function wt(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function Wo(e){return new Rt(e)}function Do(e,t){e._reader._readIntoRequests.push(t)}function dl(e,t,i){let c=e._reader._readIntoRequests.shift();i?c._closeSteps(t):c._chunkSteps(t)}function Fo(e){return e._reader._readIntoRequests.length}function cn(e){let t=e._reader;return!(t===void 0||!De(t))}class Rt{constructor(t){if(be(t,1,"ReadableStreamBYOBReader"),en(t,"First parameter"),ve(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!qe(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");io(this,t),this._readIntoRequests=new X}get closed(){return De(this)?this._closedPromise:g(er("closed"))}cancel(t=void 0){return De(this)?this._ownerReadableStream===void 0?g(Ge("cancel")):Vr(this,t):g(er("cancel"))}read(t){if(!De(this))return g(er("read"));if(!ArrayBuffer.isView(t))return g(new TypeError("view must be an array buffer view"));if(t.byteLength===0)return g(new TypeError("view must have non-zero byteLength"));if(t.buffer.byteLength===0)return g(new TypeError("view's buffer must have non-zero byteLength"));if(Vt(t.buffer),this._ownerReadableStream===void 0)return g(Ge("read from"));let i,l,c=T((h,w)=>{i=h,l=w});return Lo(this,t,{_chunkSteps:h=>i({value:h,done:!1}),_closeSteps:h=>i({value:h,done:!0}),_errorSteps:h=>l(h)}),c}releaseLock(){if(!De(this))throw er("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");he(this)}}}Object.defineProperties(Rt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Rt.prototype,r.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function De(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")?!1:e instanceof Rt}function Lo(e,t,i){let l=e._ownerReadableStream;l._disturbed=!0,l._state==="errored"?i._errorSteps(l._storedError):al(l._readableStreamController,t,i)}function er(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function Tt(e,t){let{highWaterMark:i}=e;if(i===void 0)return t;if(Ro(i)||i<0)throw new RangeError("Invalid highWaterMark");return i}function tr(e){let{size:t}=e;return t||(()=>1)}function rr(e,t){pe(e,t);let i=e==null?void 0:e.highWaterMark,l=e==null?void 0:e.size;return{highWaterMark:i===void 0?void 0:Jr(i),size:l===void 0?void 0:ml(l,`${t} has member 'size' that`)}}function ml(e,t){return ie(e,t),i=>Jr(e(i))}function hl(e,t){pe(e,t);let i=e==null?void 0:e.abort,l=e==null?void 0:e.close,c=e==null?void 0:e.start,d=e==null?void 0:e.type,h=e==null?void 0:e.write;return{abort:i===void 0?void 0:pl(i,e,`${t} has member 'abort' that`),close:l===void 0?void 0:bl(l,e,`${t} has member 'close' that`),start:c===void 0?void 0:yl(c,e,`${t} has member 'start' that`),write:h===void 0?void 0:gl(h,e,`${t} has member 'write' that`),type:d}}function pl(e,t,i){return ie(e,i),l=>x(e,t,[l])}function bl(e,t,i){return ie(e,i),()=>x(e,t,[])}function yl(e,t,i){return ie(e,i),l=>z(e,t,[l])}function gl(e,t,i){return ie(e,i),(l,c)=>x(e,t,[l,c])}function zo(e,t){if(!Qe(e))throw new TypeError(`${t} is not a WritableStream.`)}function Sl(e){if(typeof e!="object"||e===null)return!1;try{return typeof e.aborted=="boolean"}catch{return!1}}let _l=typeof AbortController=="function";function wl(){if(_l)return new AbortController}class Et{constructor(t={},i={}){t===void 0?t=null:fo(t,"First parameter");let l=rr(i,"Second parameter"),c=hl(t,"First parameter");if(Mo(this),c.type!==void 0)throw new RangeError("Invalid type is specified");let h=tr(l),w=Tt(l,1);Wl(this,c,w,h)}get locked(){if(!Qe(this))throw sr("locked");return Xe(this)}abort(t=void 0){return Qe(this)?Xe(this)?g(new TypeError("Cannot abort a stream that already has a writer")):nr(this,t):g(sr("abort"))}close(){return Qe(this)?Xe(this)?g(new TypeError("Cannot close a stream that already has a writer")):ce(this)?g(new TypeError("Cannot close an already-closing stream")):jo(this):g(sr("close"))}getWriter(){if(!Qe(this))throw sr("getWriter");return $o(this)}}Object.defineProperties(Et.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Et.prototype,r.toStringTag,{value:"WritableStream",configurable:!0});function $o(e){return new Ct(e)}function Rl(e,t,i,l,c=1,d=()=>1){let h=Object.create(Et.prototype);Mo(h);let w=Object.create(Ke.prototype);return Yo(h,w,e,t,i,l,c,d),h}function Mo(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new X,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function Qe(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")?!1:e instanceof Et}function Xe(e){return e._writer!==void 0}function nr(e,t){var i;if(e._state==="closed"||e._state==="errored")return S(void 0);e._writableStreamController._abortReason=t,(i=e._writableStreamController._abortController)===null||i===void 0||i.abort();let l=e._state;if(l==="closed"||l==="errored")return S(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let c=!1;l==="erroring"&&(c=!0,t=void 0);let d=T((h,w)=>{e._pendingAbortRequest={_promise:void 0,_resolve:h,_reject:w,_reason:t,_wasAlreadyErroring:c}});return e._pendingAbortRequest._promise=d,c||dn(e,t),d}function jo(e){let t=e._state;if(t==="closed"||t==="errored")return g(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));let i=T((c,d)=>{let h={_resolve:c,_reject:d};e._closeRequest=h}),l=e._writer;return l!==void 0&&e._backpressure&&t==="writable"&&wn(l),Dl(e._writableStreamController),i}function Tl(e){return T((i,l)=>{let c={_resolve:i,_reject:l};e._writeRequests.push(c)})}function fn(e,t){if(e._state==="writable"){dn(e,t);return}mn(e)}function dn(e,t){let i=e._writableStreamController;e._state="erroring",e._storedError=t;let l=e._writer;l!==void 0&&Uo(l,t),!vl(e)&&i._started&&mn(e)}function mn(e){e._state="errored",e._writableStreamController[uo]();let t=e._storedError;if(e._writeRequests.forEach(c=>{c._reject(t)}),e._writeRequests=new X,e._pendingAbortRequest===void 0){or(e);return}let i=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,i._wasAlreadyErroring){i._reject(t),or(e);return}let l=e._writableStreamController[lo](i._reason);C(l,()=>{i._resolve(),or(e)},c=>{i._reject(c),or(e)})}function El(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}function Cl(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,fn(e,t)}function Pl(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,e._state==="erroring"&&(e._storedError=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";let i=e._writer;i!==void 0&&Zo(i)}function Al(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),fn(e,t)}function ce(e){return!(e._closeRequest===void 0&&e._inFlightCloseRequest===void 0)}function vl(e){return!(e._inFlightWriteRequest===void 0&&e._inFlightCloseRequest===void 0)}function Bl(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}function kl(e){e._inFlightWriteRequest=e._writeRequests.shift()}function or(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let t=e._writer;t!==void 0&&Sn(t,e._storedError)}function hn(e,t){let i=e._writer;i!==void 0&&t!==e._backpressure&&(t?Nl(i):wn(i)),e._backpressure=t}class Ct{constructor(t){if(be(t,1,"WritableStreamDefaultWriter"),zo(t,"First parameter"),Xe(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;let i=t._state;if(i==="writable")!ce(t)&&t._backpressure?ur(this):Jo(this),lr(this);else if(i==="erroring")_n(this,t._storedError),lr(this);else if(i==="closed")Jo(this),Ml(this);else{let l=t._storedError;_n(this,l),Ko(this,l)}}get closed(){return Fe(this)?this._closedPromise:g(Le("closed"))}get desiredSize(){if(!Fe(this))throw Le("desiredSize");if(this._ownerWritableStream===void 0)throw Pt("desiredSize");return ql(this)}get ready(){return Fe(this)?this._readyPromise:g(Le("ready"))}abort(t=void 0){return Fe(this)?this._ownerWritableStream===void 0?g(Pt("abort")):Il(this,t):g(Le("abort"))}close(){if(!Fe(this))return g(Le("close"));let t=this._ownerWritableStream;return t===void 0?g(Pt("close")):ce(t)?g(new TypeError("Cannot close an already-closing stream")):No(this)}releaseLock(){if(!Fe(this))throw Le("releaseLock");this._ownerWritableStream!==void 0&&Ho(this)}write(t=void 0){return Fe(this)?this._ownerWritableStream===void 0?g(Pt("write to")):Go(this,t):g(Le("write"))}}Object.defineProperties(Ct.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ct.prototype,r.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function Fe(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")?!1:e instanceof Ct}function Il(e,t){let i=e._ownerWritableStream;return nr(i,t)}function No(e){let t=e._ownerWritableStream;return jo(t)}function xl(e){let t=e._ownerWritableStream,i=t._state;return ce(t)||i==="closed"?S(void 0):i==="errored"?g(t._storedError):No(e)}function Ol(e,t){e._closedPromiseState==="pending"?Sn(e,t):jl(e,t)}function Uo(e,t){e._readyPromiseState==="pending"?ei(e,t):Ul(e,t)}function ql(e){let t=e._ownerWritableStream,i=t._state;return i==="errored"||i==="erroring"?null:i==="closed"?0:Qo(t._writableStreamController)}function Ho(e){let t=e._ownerWritableStream,i=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Uo(e,i),Ol(e,i),t._writer=void 0,e._ownerWritableStream=void 0}function Go(e,t){let i=e._ownerWritableStream,l=i._writableStreamController,c=Fl(l,t);if(i!==e._ownerWritableStream)return g(Pt("write to"));let d=i._state;if(d==="errored")return g(i._storedError);if(ce(i)||d==="closed")return g(new TypeError("The stream is closing or closed and cannot be written to"));if(d==="erroring")return g(i._storedError);let h=Tl(i);return Ll(l,t,c),h}let Vo={};class Ke{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!pn(this))throw gn("abortReason");return this._abortReason}get signal(){if(!pn(this))throw gn("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(t=void 0){if(!pn(this))throw gn("error");this._controlledWritableStream._state==="writable"&&Xo(this,t)}[lo](t){let i=this._abortAlgorithm(t);return ir(this),i}[uo](){Ee(this)}}Object.defineProperties(Ke.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ke.prototype,r.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function pn(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")?!1:e instanceof Ke}function Yo(e,t,i,l,c,d,h,w){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,Ee(t),t._abortReason=void 0,t._abortController=wl(),t._started=!1,t._strategySizeAlgorithm=w,t._strategyHWM=h,t._writeAlgorithm=l,t._closeAlgorithm=c,t._abortAlgorithm=d;let E=yn(t);hn(e,E);let I=i(),O=S(I);C(O,()=>{t._started=!0,ar(t)},q=>{t._started=!0,fn(e,q)})}function Wl(e,t,i,l){let c=Object.create(Ke.prototype),d=()=>{},h=()=>S(void 0),w=()=>S(void 0),E=()=>S(void 0);t.start!==void 0&&(d=()=>t.start(c)),t.write!==void 0&&(h=I=>t.write(I,c)),t.close!==void 0&&(w=()=>t.close()),t.abort!==void 0&&(E=I=>t.abort(I)),Yo(e,c,d,h,w,E,i,l)}function ir(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Dl(e){nn(e,Vo,0),ar(e)}function Fl(e,t){try{return e._strategySizeAlgorithm(t)}catch(i){return bn(e,i),1}}function Qo(e){return e._strategyHWM-e._queueTotalSize}function Ll(e,t,i){try{nn(e,t,i)}catch(c){bn(e,c);return}let l=e._controlledWritableStream;if(!ce(l)&&l._state==="writable"){let c=yn(e);hn(l,c)}ar(e)}function ar(e){let t=e._controlledWritableStream;if(!e._started||t._inFlightWriteRequest!==void 0)return;if(t._state==="erroring"){mn(t);return}if(e._queue.length===0)return;let l=il(e);l===Vo?zl(e):$l(e,l)}function bn(e,t){e._controlledWritableStream._state==="writable"&&Xo(e,t)}function zl(e){let t=e._controlledWritableStream;Bl(t),rn(e);let i=e._closeAlgorithm();ir(e),C(i,()=>{Pl(t)},l=>{Al(t,l)})}function $l(e,t){let i=e._controlledWritableStream;kl(i);let l=e._writeAlgorithm(t);C(l,()=>{El(i);let c=i._state;if(rn(e),!ce(i)&&c==="writable"){let d=yn(e);hn(i,d)}ar(e)},c=>{i._state==="writable"&&ir(e),Cl(i,c)})}function yn(e){return Qo(e)<=0}function Xo(e,t){let i=e._controlledWritableStream;ir(e),dn(i,t)}function sr(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function gn(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function Le(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function Pt(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function lr(e){e._closedPromise=T((t,i)=>{e._closedPromise_resolve=t,e._closedPromise_reject=i,e._closedPromiseState="pending"})}function Ko(e,t){lr(e),Sn(e,t)}function Ml(e){lr(e),Zo(e)}function Sn(e,t){e._closedPromise_reject!==void 0&&(U(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function jl(e,t){Ko(e,t)}function Zo(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function ur(e){e._readyPromise=T((t,i)=>{e._readyPromise_resolve=t,e._readyPromise_reject=i}),e._readyPromiseState="pending"}function _n(e,t){ur(e),ei(e,t)}function Jo(e){ur(e),wn(e)}function ei(e,t){e._readyPromise_reject!==void 0&&(U(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Nl(e){ur(e)}function Ul(e,t){_n(e,t)}function wn(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}let ti=typeof DOMException<"u"?DOMException:void 0;function Hl(e){if(!(typeof e=="function"||typeof e=="object"))return!1;try{return new e,!0}catch{return!1}}function Gl(){let e=function(i,l){this.message=i||"",this.name=l||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}let Vl=Hl(ti)?ti:Gl();function ri(e,t,i,l,c,d){let h=Ve(e),w=$o(t);e._disturbed=!0;let E=!1,I=S(void 0);return T((O,q)=>{let $;if(d!==void 0){if($=()=>{let R=new Vl("Aborted","AbortError"),B=[];l||B.push(()=>t._state==="writable"?nr(t,R):S(void 0)),c||B.push(()=>e._state==="readable"?se(e,R):S(void 0)),Y(()=>Promise.all(B.map(D=>D())),!0,R)},d.aborted){$();return}d.addEventListener("abort",$)}function le(){return T((R,B)=>{function D(K){K?R():y(et(),D,B)}D(!1)})}function et(){return E?S(!0):y(w._readyPromise,()=>T((R,B)=>{yt(h,{_chunkSteps:D=>{I=y(Go(w,D),void 0,o),R(!1)},_closeSteps:()=>R(!0),_errorSteps:B})}))}if(ye(e,h._closedPromise,R=>{l?re(!0,R):Y(()=>nr(t,R),!0,R)}),ye(t,w._closedPromise,R=>{c?re(!0,R):Y(()=>se(e,R),!0,R)}),G(e,h._closedPromise,()=>{i?re():Y(()=>xl(w))}),ce(t)||t._state==="closed"){let R=new TypeError("the destination writable stream closed before all data could be piped to it");c?re(!0,R):Y(()=>se(e,R),!0,R)}U(le());function Be(){let R=I;return y(I,()=>R!==I?Be():void 0)}function ye(R,B,D){R._state==="errored"?D(R._storedError):v(B,D)}function G(R,B,D){R._state==="closed"?D():P(B,D)}function Y(R,B,D){if(E)return;E=!0,t._state==="writable"&&!ce(t)?P(Be(),K):K();function K(){C(R(),()=>ge(B,D),tt=>ge(!0,tt))}}function re(R,B){E||(E=!0,t._state==="writable"&&!ce(t)?P(Be(),()=>ge(R,B)):ge(R,B))}function ge(R,B){Ho(w),he(h),d!==void 0&&d.removeEventListener("abort",$),R?q(B):O(void 0)}})}class Ze{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!cr(this))throw mr("desiredSize");return Rn(this)}close(){if(!cr(this))throw mr("close");if(!Je(this))throw new TypeError("The stream is not in a state that permits close");vt(this)}enqueue(t=void 0){if(!cr(this))throw mr("enqueue");if(!Je(this))throw new TypeError("The stream is not in a state that permits enqueue");return dr(this,t)}error(t=void 0){if(!cr(this))throw mr("error");Ce(this,t)}[Xr](t){Ee(this);let i=this._cancelAlgorithm(t);return fr(this),i}[Kr](t){let i=this._controlledReadableStream;if(this._queue.length>0){let l=rn(this);this._closeRequested&&this._queue.length===0?(fr(this),Bt(i)):At(this),t._chunkSteps(l)}else po(i,t),At(this)}}Object.defineProperties(Ze.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Ze.prototype,r.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function cr(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")?!1:e instanceof Ze}function At(e){if(!ni(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let i=e._pullAlgorithm();C(i,()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,At(e))},l=>{Ce(e,l)})}function ni(e){let t=e._controlledReadableStream;return!Je(e)||!e._started?!1:!!(ve(t)&&Ht(t)>0||Rn(e)>0)}function fr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function vt(e){if(!Je(e))return;let t=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(fr(e),Bt(t))}function dr(e,t){if(!Je(e))return;let i=e._controlledReadableStream;if(ve(i)&&Ht(i)>0)tn(i,t,!1);else{let l;try{l=e._strategySizeAlgorithm(t)}catch(c){throw Ce(e,c),c}try{nn(e,t,l)}catch(c){throw Ce(e,c),c}}At(e)}function Ce(e,t){let i=e._controlledReadableStream;i._state==="readable"&&(Ee(e),fr(e),si(i,t))}function Rn(e){let t=e._controlledReadableStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function Yl(e){return!ni(e)}function Je(e){let t=e._controlledReadableStream._state;return!e._closeRequested&&t==="readable"}function oi(e,t,i,l,c,d,h){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,Ee(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=h,t._strategyHWM=d,t._pullAlgorithm=l,t._cancelAlgorithm=c,e._readableStreamController=t;let w=i();C(S(w),()=>{t._started=!0,At(t)},E=>{Ce(t,E)})}function Ql(e,t,i,l){let c=Object.create(Ze.prototype),d=()=>{},h=()=>S(void 0),w=()=>S(void 0);t.start!==void 0&&(d=()=>t.start(c)),t.pull!==void 0&&(h=()=>t.pull(c)),t.cancel!==void 0&&(w=E=>t.cancel(E)),oi(e,c,d,h,w,i,l)}function mr(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function Xl(e,t){return qe(e._readableStreamController)?Zl(e):Kl(e)}function Kl(e,t){let i=Ve(e),l=!1,c=!1,d=!1,h=!1,w,E,I,O,q,$=T(G=>{q=G});function le(){return l?(c=!0,S(void 0)):(l=!0,yt(i,{_chunkSteps:Y=>{k(()=>{c=!1;let re=Y,ge=Y;d||dr(I._readableStreamController,re),h||dr(O._readableStreamController,ge),l=!1,c&&le()})},_closeSteps:()=>{l=!1,d||vt(I._readableStreamController),h||vt(O._readableStreamController),(!d||!h)&&q(void 0)},_errorSteps:()=>{l=!1}}),S(void 0))}function et(G){if(d=!0,w=G,h){let Y=gt([w,E]),re=se(e,Y);q(re)}return $}function Be(G){if(h=!0,E=G,d){let Y=gt([w,E]),re=se(e,Y);q(re)}return $}function ye(){}return I=Tn(ye,le,et),O=Tn(ye,le,Be),v(i._closedPromise,G=>{Ce(I._readableStreamController,G),Ce(O._readableStreamController,G),(!d||!h)&&q(void 0)}),[I,O]}function Zl(e){let t=Ve(e),i=!1,l=!1,c=!1,d=!1,h=!1,w,E,I,O,q,$=T(R=>{q=R});function le(R){v(R._closedPromise,B=>{R===t&&(ae(I._readableStreamController,B),ae(O._readableStreamController,B),(!d||!h)&&q(void 0))})}function et(){De(t)&&(he(t),t=Ve(e),le(t)),yt(t,{_chunkSteps:B=>{k(()=>{l=!1,c=!1;let D=B,K=B;if(!d&&!h)try{K=Co(B)}catch(tt){ae(I._readableStreamController,tt),ae(O._readableStreamController,tt),q(se(e,tt));return}d||Kt(I._readableStreamController,D),h||Kt(O._readableStreamController,K),i=!1,l?ye():c&&G()})},_closeSteps:()=>{i=!1,d||_t(I._readableStreamController),h||_t(O._readableStreamController),I._readableStreamController._pendingPullIntos.length>0&&Zt(I._readableStreamController,0),O._readableStreamController._pendingPullIntos.length>0&&Zt(O._readableStreamController,0),(!d||!h)&&q(void 0)},_errorSteps:()=>{i=!1}})}function Be(R,B){Te(t)&&(he(t),t=Wo(e),le(t));let D=B?O:I,K=B?I:O;Lo(t,R,{_chunkSteps:rt=>{k(()=>{l=!1,c=!1;let nt=B?h:d;if(B?d:h)nt||Jt(D._readableStreamController,rt);else{let _i;try{_i=Co(rt)}catch(Cn){ae(D._readableStreamController,Cn),ae(K._readableStreamController,Cn),q(se(e,Cn));return}nt||Jt(D._readableStreamController,rt),Kt(K._readableStreamController,_i)}i=!1,l?ye():c&&G()})},_closeSteps:rt=>{i=!1;let nt=B?h:d,Rr=B?d:h;nt||_t(D._readableStreamController),Rr||_t(K._readableStreamController),rt!==void 0&&(nt||Jt(D._readableStreamController,rt),!Rr&&K._readableStreamController._pendingPullIntos.length>0&&Zt(K._readableStreamController,0)),(!nt||!Rr)&&q(void 0)},_errorSteps:()=>{i=!1}})}function ye(){if(i)return l=!0,S(void 0);i=!0;let R=ln(I._readableStreamController);return R===null?et():Be(R._view,!1),S(void 0)}function G(){if(i)return c=!0,S(void 0);i=!0;let R=ln(O._readableStreamController);return R===null?et():Be(R._view,!0),S(void 0)}function Y(R){if(d=!0,w=R,h){let B=gt([w,E]),D=se(e,B);q(D)}return $}function re(R){if(h=!0,E=R,d){let B=gt([w,E]),D=se(e,B);q(D)}return $}function ge(){}return I=ai(ge,ye,Y),O=ai(ge,G,re),le(t),[I,O]}function Jl(e,t){pe(e,t);let i=e,l=i==null?void 0:i.autoAllocateChunkSize,c=i==null?void 0:i.cancel,d=i==null?void 0:i.pull,h=i==null?void 0:i.start,w=i==null?void 0:i.type;return{autoAllocateChunkSize:l===void 0?void 0:ho(l,`${t} has member 'autoAllocateChunkSize' that`),cancel:c===void 0?void 0:eu(c,i,`${t} has member 'cancel' that`),pull:d===void 0?void 0:tu(d,i,`${t} has member 'pull' that`),start:h===void 0?void 0:ru(h,i,`${t} has member 'start' that`),type:w===void 0?void 0:nu(w,`${t} has member 'type' that`)}}function eu(e,t,i){return ie(e,i),l=>x(e,t,[l])}function tu(e,t,i){return ie(e,i),l=>x(e,t,[l])}function ru(e,t,i){return ie(e,i),l=>z(e,t,[l])}function nu(e,t){if(e=`${e}`,e!=="bytes")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function ou(e,t){pe(e,t);let i=e==null?void 0:e.mode;return{mode:i===void 0?void 0:iu(i,`${t} has member 'mode' that`)}}function iu(e,t){if(e=`${e}`,e!=="byob")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function au(e,t){pe(e,t);let i=e==null?void 0:e.preventCancel;return{preventCancel:Boolean(i)}}function ii(e,t){pe(e,t);let i=e==null?void 0:e.preventAbort,l=e==null?void 0:e.preventCancel,c=e==null?void 0:e.preventClose,d=e==null?void 0:e.signal;return d!==void 0&&su(d,`${t} has member 'signal' that`),{preventAbort:Boolean(i),preventCancel:Boolean(l),preventClose:Boolean(c),signal:d}}function su(e,t){if(!Sl(e))throw new TypeError(`${t} is not an AbortSignal.`)}function lu(e,t){pe(e,t);let i=e==null?void 0:e.readable;Zr(i,"readable","ReadableWritablePair"),en(i,`${t} has member 'readable' that`);let l=e==null?void 0:e.writable;return Zr(l,"writable","ReadableWritablePair"),zo(l,`${t} has member 'writable' that`),{readable:i,writable:l}}class Pe{constructor(t={},i={}){t===void 0?t=null:fo(t,"First parameter");let l=rr(i,"Second parameter"),c=Jl(t,"First parameter");if(En(this),c.type==="bytes"){if(l.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let d=Tt(l,0);cl(this,c,d)}else{let d=tr(l),h=Tt(l,1);Ql(this,c,h,d)}}get locked(){if(!Ae(this))throw ze("locked");return ve(this)}cancel(t=void 0){return Ae(this)?ve(this)?g(new TypeError("Cannot cancel a stream that already has a reader")):se(this,t):g(ze("cancel"))}getReader(t=void 0){if(!Ae(this))throw ze("getReader");return ou(t,"First parameter").mode===void 0?Ve(this):Wo(this)}pipeThrough(t,i={}){if(!Ae(this))throw ze("pipeThrough");be(t,1,"pipeThrough");let l=lu(t,"First parameter"),c=ii(i,"Second parameter");if(ve(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Xe(l.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let d=ri(this,l.writable,c.preventClose,c.preventAbort,c.preventCancel,c.signal);return U(d),l.readable}pipeTo(t,i={}){if(!Ae(this))return g(ze("pipeTo"));if(t===void 0)return g("Parameter 1 is required in 'pipeTo'.");if(!Qe(t))return g(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let l;try{l=ii(i,"Second parameter")}catch(c){return g(c)}return ve(this)?g(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Xe(t)?g(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):ri(this,t,l.preventClose,l.preventAbort,l.preventCancel,l.signal)}tee(){if(!Ae(this))throw ze("tee");let t=Xl(this);return gt(t)}values(t=void 0){if(!Ae(this))throw ze("values");let i=au(t,"First parameter");return nl(this,i.preventCancel)}}Object.defineProperties(Pe.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(Pe.prototype,r.toStringTag,{value:"ReadableStream",configurable:!0}),typeof r.asyncIterator=="symbol"&&Object.defineProperty(Pe.prototype,r.asyncIterator,{value:Pe.prototype.values,writable:!0,configurable:!0});function Tn(e,t,i,l=1,c=()=>1){let d=Object.create(Pe.prototype);En(d);let h=Object.create(Ze.prototype);return oi(d,h,e,t,i,l,c),d}function ai(e,t,i){let l=Object.create(Pe.prototype);En(l);let c=Object.create(Ye.prototype);return qo(l,c,e,t,i,0,void 0),l}function En(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function Ae(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")?!1:e instanceof Pe}function ve(e){return e._reader!==void 0}function se(e,t){if(e._disturbed=!0,e._state==="closed")return S(void 0);if(e._state==="errored")return g(e._storedError);Bt(e);let i=e._reader;i!==void 0&&De(i)&&(i._readIntoRequests.forEach(c=>{c._closeSteps(void 0)}),i._readIntoRequests=new X);let l=e._readableStreamController[Xr](t);return W(l,o)}function Bt(e){e._state="closed";let t=e._reader;t!==void 0&&(so(t),Te(t)&&(t._readRequests.forEach(i=>{i._closeSteps()}),t._readRequests=new X))}function si(e,t){e._state="errored",e._storedError=t;let i=e._reader;i!==void 0&&(Qr(i,t),Te(i)?(i._readRequests.forEach(l=>{l._errorSteps(t)}),i._readRequests=new X):(i._readIntoRequests.forEach(l=>{l._errorSteps(t)}),i._readIntoRequests=new X))}function ze(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function li(e,t){pe(e,t);let i=e==null?void 0:e.highWaterMark;return Zr(i,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Jr(i)}}let ui=e=>e.byteLength;Object.defineProperty(ui,"name",{value:"size",configurable:!0});class hr{constructor(t){be(t,1,"ByteLengthQueuingStrategy"),t=li(t,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!fi(this))throw ci("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!fi(this))throw ci("size");return ui}}Object.defineProperties(hr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(hr.prototype,r.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function ci(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function fi(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")?!1:e instanceof hr}let di=()=>1;Object.defineProperty(di,"name",{value:"size",configurable:!0});class pr{constructor(t){be(t,1,"CountQueuingStrategy"),t=li(t,"First parameter"),this._countQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!hi(this))throw mi("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!hi(this))throw mi("size");return di}}Object.defineProperties(pr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(pr.prototype,r.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function mi(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function hi(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")?!1:e instanceof pr}function uu(e,t){pe(e,t);let i=e==null?void 0:e.flush,l=e==null?void 0:e.readableType,c=e==null?void 0:e.start,d=e==null?void 0:e.transform,h=e==null?void 0:e.writableType;return{flush:i===void 0?void 0:cu(i,e,`${t} has member 'flush' that`),readableType:l,start:c===void 0?void 0:fu(c,e,`${t} has member 'start' that`),transform:d===void 0?void 0:du(d,e,`${t} has member 'transform' that`),writableType:h}}function cu(e,t,i){return ie(e,i),l=>x(e,t,[l])}function fu(e,t,i){return ie(e,i),l=>z(e,t,[l])}function du(e,t,i){return ie(e,i),(l,c)=>x(e,t,[l,c])}class br{constructor(t={},i={},l={}){t===void 0&&(t=null);let c=rr(i,"Second parameter"),d=rr(l,"Third parameter"),h=uu(t,"First parameter");if(h.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(h.writableType!==void 0)throw new RangeError("Invalid writableType specified");let w=Tt(d,0),E=tr(d),I=Tt(c,1),O=tr(c),q,$=T(le=>{q=le});mu(this,$,I,O,w,E),pu(this,h),h.start!==void 0?q(h.start(this._transformStreamController)):q(void 0)}get readable(){if(!pi(this))throw Si("readable");return this._readable}get writable(){if(!pi(this))throw Si("writable");return this._writable}}Object.defineProperties(br.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(br.prototype,r.toStringTag,{value:"TransformStream",configurable:!0});function mu(e,t,i,l,c,d){function h(){return t}function w($){return gu(e,$)}function E($){return Su(e,$)}function I(){return _u(e)}e._writable=Rl(h,w,I,E,i,l);function O(){return wu(e)}function q($){return gr(e,$),S(void 0)}e._readable=Tn(h,O,q,c,d),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,Sr(e,!0),e._transformStreamController=void 0}function pi(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")?!1:e instanceof br}function yr(e,t){Ce(e._readable._readableStreamController,t),gr(e,t)}function gr(e,t){bi(e._transformStreamController),bn(e._writable._writableStreamController,t),e._backpressure&&Sr(e,!1)}function Sr(e,t){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=T(i=>{e._backpressureChangePromise_resolve=i}),e._backpressure=t}class kt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!_r(this))throw wr("desiredSize");let t=this._controlledTransformStream._readable._readableStreamController;return Rn(t)}enqueue(t=void 0){if(!_r(this))throw wr("enqueue");yi(this,t)}error(t=void 0){if(!_r(this))throw wr("error");bu(this,t)}terminate(){if(!_r(this))throw wr("terminate");yu(this)}}Object.defineProperties(kt.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof r.toStringTag=="symbol"&&Object.defineProperty(kt.prototype,r.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function _r(e){return!u(e)||!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")?!1:e instanceof kt}function hu(e,t,i,l){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=i,t._flushAlgorithm=l}function pu(e,t){let i=Object.create(kt.prototype),l=d=>{try{return yi(i,d),S(void 0)}catch(h){return g(h)}},c=()=>S(void 0);t.transform!==void 0&&(l=d=>t.transform(d,i)),t.flush!==void 0&&(c=()=>t.flush(i)),hu(e,i,l,c)}function bi(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function yi(e,t){let i=e._controlledTransformStream,l=i._readable._readableStreamController;if(!Je(l))throw new TypeError("Readable side is not in a state that permits enqueue");try{dr(l,t)}catch(d){throw gr(i,d),i._readable._storedError}Yl(l)!==i._backpressure&&Sr(i,!0)}function bu(e,t){yr(e._controlledTransformStream,t)}function gi(e,t){let i=e._transformAlgorithm(t);return W(i,void 0,l=>{throw yr(e._controlledTransformStream,l),l})}function yu(e){let t=e._controlledTransformStream,i=t._readable._readableStreamController;vt(i);let l=new TypeError("TransformStream terminated");gr(t,l)}function gu(e,t){let i=e._transformStreamController;if(e._backpressure){let l=e._backpressureChangePromise;return W(l,()=>{let c=e._writable;if(c._state==="erroring")throw c._storedError;return gi(i,t)})}return gi(i,t)}function Su(e,t){return yr(e,t),S(void 0)}function _u(e){let t=e._readable,i=e._transformStreamController,l=i._flushAlgorithm();return bi(i),W(l,()=>{if(t._state==="errored")throw t._storedError;vt(t._readableStreamController)},c=>{throw yr(e,c),t._storedError})}function wu(e){return Sr(e,!1),e._backpressureChangePromise}function wr(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Si(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}n.ByteLengthQueuingStrategy=hr,n.CountQueuingStrategy=pr,n.ReadableByteStreamController=Ye,n.ReadableStream=Pe,n.ReadableStreamBYOBReader=Rt,n.ReadableStreamBYOBRequest=St,n.ReadableStreamDefaultController=Ze,n.ReadableStreamDefaultReader=bt,n.TransformStream=br,n.TransformStreamDefaultController=kt,n.WritableStream=Et,n.WritableStreamDefaultController=Ke,n.WritableStreamDefaultWriter=Ct,Object.defineProperty(n,"__esModule",{value:!0})})});var ki=A(()=>{if(!globalThis.ReadableStream)try{let n=require("node:process"),{emitWarning:r}=n;try{n.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),n.emitWarning=r}catch(o){throw n.emitWarning=r,o}}catch{Object.assign(globalThis,Bi())}try{let{Blob:n}=require("buffer");n&&!n.prototype.stream&&(n.prototype.stream=function(o){let a=0,s=this;return new ReadableStream({type:"bytes",async pull(u){let p=await s.slice(a,Math.min(s.size,a+65536)).arrayBuffer();a+=p.byteLength,u.enqueue(new Uint8Array(p)),a===s.size&&u.close()}})})}catch{}});async function*Pn(n,r=!0){for(let o of n)if("stream"in o)yield*o.stream();else if(ArrayBuffer.isView(o))if(r){let a=o.byteOffset,s=o.byteOffset+o.byteLength;for(;a!==s;){let u=Math.min(s-a,Ii),f=o.buffer.slice(a,a+u);a+=f.byteLength,yield new Uint8Array(f)}}else yield o;else{let a=0,s=o;for(;a!==s.size;){let f=await s.slice(a,Math.min(s.size,a+Ii)).arrayBuffer();a+=f.byteLength,yield new Uint8Array(f)}}}var td,Ii,xi,Iu,_e,Ot=xt(()=>{td=fe(ki(),1);Ii=65536;xi=class An{#e=[];#t="";#r=0;#n="transparent";constructor(r=[],o={}){if(typeof r!="object"||r===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof r[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof o!="object"&&typeof o!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");o===null&&(o={});let a=new TextEncoder;for(let u of r){let f;ArrayBuffer.isView(u)?f=new Uint8Array(u.buffer.slice(u.byteOffset,u.byteOffset+u.byteLength)):u instanceof ArrayBuffer?f=new Uint8Array(u.slice(0)):u instanceof An?f=u:f=a.encode(`${u}`),this.#r+=ArrayBuffer.isView(f)?f.byteLength:f.size,this.#e.push(f)}this.#n=`${o.endings===void 0?"transparent":o.endings}`;let s=o.type===void 0?"":String(o.type);this.#t=/^[\x20-\x7E]*$/.test(s)?s:""}get size(){return this.#r}get type(){return this.#t}async text(){let r=new TextDecoder,o="";for await(let a of Pn(this.#e,!1))o+=r.decode(a,{stream:!0});return o+=r.decode(),o}async arrayBuffer(){let r=new Uint8Array(this.size),o=0;for await(let a of Pn(this.#e,!1))r.set(a,o),o+=a.length;return r.buffer}stream(){let r=Pn(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(o){let a=await r.next();a.done?o.close():o.enqueue(a.value)},async cancel(){await r.return()}})}slice(r=0,o=this.size,a=""){let{size:s}=this,u=r<0?Math.max(s+r,0):Math.min(r,s),f=o<0?Math.max(s+o,0):Math.min(o,s),p=Math.max(f-u,0),m=this.#e,b=[],_=0;for(let S of m){if(_>=p)break;let g=ArrayBuffer.isView(S)?S.byteLength:S.size;if(u&&g<=u)u-=g,f-=g;else{let y;ArrayBuffer.isView(S)?(y=S.subarray(u,Math.min(g,f)),_+=y.byteLength):(y=S.slice(u,Math.min(g,f)),_+=y.size),f-=g,b.push(y),u=0}}let T=new An([],{type:String(a).toLowerCase()});return T.#r=p,T.#e=b,T}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](r){return r&&typeof r=="object"&&typeof r.constructor=="function"&&(typeof r.stream=="function"||typeof r.arrayBuffer=="function")&&/^(Blob|File)$/.test(r[Symbol.toStringTag])}};Object.defineProperties(xi.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});Iu=xi,_e=Iu});var xu,Ou,ot,vn=xt(()=>{Ot();xu=class extends _e{#e=0;#t="";constructor(r,o,a={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(r,a);a===null&&(a={});let s=a.lastModified===void 0?Date.now():Number(a.lastModified);Number.isNaN(s)||(this.#e=s),this.#t=String(o)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](r){return!!r&&r instanceof _e&&/^(File)$/.test(r[Symbol.toStringTag])}},Ou=xu,ot=Ou});function Wi(n,r=_e){var o=`${Oi()}${Oi()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),a=[],s=`--${o}\r
Content-Disposition: form-data; name="`;return n.forEach((u,f)=>typeof u=="string"?a.push(s+Bn(f)+`"\r
\r
${u.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):a.push(s+Bn(f)+`"; filename="${Bn(u.name,1)}"\r
Content-Type: ${u.type||"application/octet-stream"}\r
\r
`,u,`\r
`)),a.push(`--${o}--`),new r(a,{type:"multipart/form-data; boundary="+o})}var qt,qu,Wu,Oi,Du,qi,Bn,$e,Me,Er=xt(()=>{Ot();vn();({toStringTag:qt,iterator:qu,hasInstance:Wu}=Symbol),Oi=Math.random,Du="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),qi=(n,r,o)=>(n+="",/^(Blob|File)$/.test(r&&r[qt])?[(o=o!==void 0?o+"":r[qt]=="File"?r.name:"blob",n),r.name!==o||r[qt]=="blob"?new ot([r],o,r):r]:[n,r+""]),Bn=(n,r)=>(r?n:n.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),$e=(n,r,o)=>{if(r.length<o)throw new TypeError(`Failed to execute '${n}' on 'FormData': ${o} arguments required, but only ${r.length} present.`)},Me=class{#e=[];constructor(...r){if(r.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[qt](){return"FormData"}[qu](){return this.entries()}static[Wu](r){return r&&typeof r=="object"&&r[qt]==="FormData"&&!Du.some(o=>typeof r[o]!="function")}append(...r){$e("append",arguments,2),this.#e.push(qi(...r))}delete(r){$e("delete",arguments,1),r+="",this.#e=this.#e.filter(([o])=>o!==r)}get(r){$e("get",arguments,1),r+="";for(var o=this.#e,a=o.length,s=0;s<a;s++)if(o[s][0]===r)return o[s][1];return null}getAll(r,o){return $e("getAll",arguments,1),o=[],r+="",this.#e.forEach(a=>a[0]===r&&o.push(a[1])),o}has(r){return $e("has",arguments,1),r+="",this.#e.some(o=>o[0]===r)}forEach(r,o){$e("forEach",arguments,1);for(var[a,s]of this)r.call(o,s,a,this)}set(...r){$e("set",arguments,2);var o=[],a=!0;r=qi(...r),this.#e.forEach(s=>{s[0]===r[0]?a&&(a=!o.push(r)):o.push(s)}),a&&o.push(r),this.#e=o}*entries(){yield*this.#e}*keys(){for(var[r]of this)yield r}*values(){for(var[,r]of this)yield r}}});var zi=A((hd,Li)=>{if(!globalThis.DOMException)try{let{MessageChannel:n}=require("worker_threads"),r=new n().port1,o=new ArrayBuffer;r.postMessage(o,[o,o])}catch(n){n.constructor.name==="DOMException"&&(globalThis.DOMException=n.constructor)}Li.exports=globalThis.DOMException});var Dt,$i,Fu,In,xn=xt(()=>{Dt=require("node:fs"),$i=fe(zi(),1);vn();Ot();({stat:Fu}=Dt.promises),In=class{#e;#t;constructor(r){this.#e=r.path,this.#t=r.start,this.size=r.size,this.lastModified=r.lastModified}slice(r,o){return new In({path:this.#e,lastModified:this.lastModified,size:o-r,start:this.#t+r})}async*stream(){let{mtimeMs:r}=await Fu(this.#e);if(r>this.lastModified)throw new $i.default("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*(0,Dt.createReadStream)(this.#e,{start:this.#t,end:this.#t+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}});var Ni={};Ci(Ni,{toFormData:()=>Uu});function Nu(n){let r=n.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!r)return;let o=r[2]||r[3]||"",a=o.slice(o.lastIndexOf("\\")+1);return a=a.replace(/%22/g,'"'),a=a.replace(/&#(\d{4});/g,(s,u)=>String.fromCharCode(u)),a}async function Uu(n,r){if(!/multipart/i.test(r))throw new TypeError("Failed to fetch");let o=r.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!o)throw new TypeError("no or bad content-type header, no multipart boundary");let a=new ji(o[1]||o[2]),s,u,f,p,m,b,_=[],T=new Me,S=v=>{f+=P.decode(v,{stream:!0})},g=v=>{_.push(v)},y=()=>{let v=new ot(_,b,{type:m});T.append(p,v)},C=()=>{T.append(p,f)},P=new TextDecoder("utf-8");P.decode(),a.onPartBegin=function(){a.onPartData=S,a.onPartEnd=C,s="",u="",f="",p="",m="",b=null,_.length=0},a.onHeaderField=function(v){s+=P.decode(v,{stream:!0})},a.onHeaderValue=function(v){u+=P.decode(v,{stream:!0})},a.onHeaderEnd=function(){if(u+=P.decode(),s=s.toLowerCase(),s==="content-disposition"){let v=u.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);v&&(p=v[2]||v[3]||""),b=Nu(u),b&&(a.onPartData=g,a.onPartEnd=y)}else s==="content-type"&&(m=u);u="",s=""};for await(let v of n)a.write(v);return a.end(),T}var de,F,Mi,Ie,Pr,Ar,Lu,Ft,zu,$u,Mu,ju,je,ji,Ui=xt(()=>{xn();Er();de=0,F={START_BOUNDARY:de++,HEADER_FIELD_START:de++,HEADER_FIELD:de++,HEADER_VALUE_START:de++,HEADER_VALUE:de++,HEADER_VALUE_ALMOST_DONE:de++,HEADERS_ALMOST_DONE:de++,PART_DATA_START:de++,PART_DATA:de++,END:de++},Mi=1,Ie={PART_BOUNDARY:Mi,LAST_BOUNDARY:Mi*=2},Pr=10,Ar=13,Lu=32,Ft=45,zu=58,$u=97,Mu=122,ju=n=>n|32,je=()=>{},ji=class{constructor(r){this.index=0,this.flags=0,this.onHeaderEnd=je,this.onHeaderField=je,this.onHeadersEnd=je,this.onHeaderValue=je,this.onPartBegin=je,this.onPartData=je,this.onPartEnd=je,this.boundaryChars={},r=`\r
--`+r;let o=new Uint8Array(r.length);for(let a=0;a<r.length;a++)o[a]=r.charCodeAt(a),this.boundaryChars[o[a]]=!0;this.boundary=o,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=F.START_BOUNDARY}write(r){let o=0,a=r.length,s=this.index,{lookbehind:u,boundary:f,boundaryChars:p,index:m,state:b,flags:_}=this,T=this.boundary.length,S=T-1,g=r.length,y,C,P=k=>{this[k+"Mark"]=o},v=k=>{delete this[k+"Mark"]},W=(k,z,x,oe)=>{(z===void 0||z!==x)&&this[k](oe&&oe.subarray(z,x))},U=(k,z)=>{let x=k+"Mark";x in this&&(z?(W(k,this[x],o,r),delete this[x]):(W(k,this[x],r.length,r),this[x]=0))};for(o=0;o<a;o++)switch(y=r[o],b){case F.START_BOUNDARY:if(m===f.length-2){if(y===Ft)_|=Ie.LAST_BOUNDARY;else if(y!==Ar)return;m++;break}else if(m-1===f.length-2){if(_&Ie.LAST_BOUNDARY&&y===Ft)b=F.END,_=0;else if(!(_&Ie.LAST_BOUNDARY)&&y===Pr)m=0,W("onPartBegin"),b=F.HEADER_FIELD_START;else return;break}y!==f[m+2]&&(m=-2),y===f[m+2]&&m++;break;case F.HEADER_FIELD_START:b=F.HEADER_FIELD,P("onHeaderField"),m=0;case F.HEADER_FIELD:if(y===Ar){v("onHeaderField"),b=F.HEADERS_ALMOST_DONE;break}if(m++,y===Ft)break;if(y===zu){if(m===1)return;U("onHeaderField",!0),b=F.HEADER_VALUE_START;break}if(C=ju(y),C<$u||C>Mu)return;break;case F.HEADER_VALUE_START:if(y===Lu)break;P("onHeaderValue"),b=F.HEADER_VALUE;case F.HEADER_VALUE:y===Ar&&(U("onHeaderValue",!0),W("onHeaderEnd"),b=F.HEADER_VALUE_ALMOST_DONE);break;case F.HEADER_VALUE_ALMOST_DONE:if(y!==Pr)return;b=F.HEADER_FIELD_START;break;case F.HEADERS_ALMOST_DONE:if(y!==Pr)return;W("onHeadersEnd"),b=F.PART_DATA_START;break;case F.PART_DATA_START:b=F.PART_DATA,P("onPartData");case F.PART_DATA:if(s=m,m===0){for(o+=S;o<g&&!(r[o]in p);)o+=T;o-=S,y=r[o]}if(m<f.length)f[m]===y?(m===0&&U("onPartData",!0),m++):m=0;else if(m===f.length)m++,y===Ar?_|=Ie.PART_BOUNDARY:y===Ft?_|=Ie.LAST_BOUNDARY:m=0;else if(m-1===f.length)if(_&Ie.PART_BOUNDARY){if(m=0,y===Pr){_&=~Ie.PART_BOUNDARY,W("onPartEnd"),W("onPartBegin"),b=F.HEADER_FIELD_START;break}}else _&Ie.LAST_BOUNDARY&&y===Ft?(W("onPartEnd"),b=F.END,_=0):m=0;if(m>0)u[m-1]=y;else if(s>0){let k=new Uint8Array(u.buffer,u.byteOffset,u.byteLength);W("onPartData",0,s,k),s=0,P("onPartData"),o--}break;case F.END:break;default:throw new Error(`Unexpected state entered: ${b}`)}U("onHeaderField"),U("onHeaderValue"),U("onPartData"),this.index=m,this.state=b,this.flags=_}end(){if(this.state===F.HEADER_FIELD_START&&this.index===0||this.state===F.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==F.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var fa=A((im,ca)=>{ca.exports=ua;ua.sync=Ju;var sa=require("fs");function Zu(n,r){var o=r.pathExt!==void 0?r.pathExt:process.env.PATHEXT;if(!o||(o=o.split(";"),o.indexOf("")!==-1))return!0;for(var a=0;a<o.length;a++){var s=o[a].toLowerCase();if(s&&n.substr(-s.length).toLowerCase()===s)return!0}return!1}function la(n,r,o){return!n.isSymbolicLink()&&!n.isFile()?!1:Zu(r,o)}function ua(n,r,o){sa.stat(n,function(a,s){o(a,a?!1:la(s,n,r))})}function Ju(n,r){return la(sa.statSync(n),n,r)}});var ba=A((am,pa)=>{pa.exports=ma;ma.sync=ec;var da=require("fs");function ma(n,r,o){da.stat(n,function(a,s){o(a,a?!1:ha(s,r))})}function ec(n,r){return ha(da.statSync(n),r)}function ha(n,r){return n.isFile()&&tc(n,r)}function tc(n,r){var o=n.mode,a=n.uid,s=n.gid,u=r.uid!==void 0?r.uid:process.getuid&&process.getuid(),f=r.gid!==void 0?r.gid:process.getgid&&process.getgid(),p=parseInt("100",8),m=parseInt("010",8),b=parseInt("001",8),_=p|m,T=o&b||o&m&&s===f||o&p&&a===u||o&_&&u===0;return T}});var ga=A((lm,ya)=>{var sm=require("fs"),qr;process.platform==="win32"||global.TESTING_WINDOWS?qr=fa():qr=ba();ya.exports=Dn;Dn.sync=rc;function Dn(n,r,o){if(typeof r=="function"&&(o=r,r={}),!o){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(a,s){Dn(n,r||{},function(u,f){u?s(u):a(f)})})}qr(n,r||{},function(a,s){a&&(a.code==="EACCES"||r&&r.ignoreErrors)&&(a=null,s=!1),o(a,s)})}function rc(n,r){try{return qr.sync(n,r||{})}catch(o){if(r&&r.ignoreErrors||o.code==="EACCES")return!1;throw o}}});var Ca=A((um,Ea)=>{var st=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Sa=require("path"),nc=st?";":":",_a=ga(),wa=n=>Object.assign(new Error(`not found: ${n}`),{code:"ENOENT"}),Ra=(n,r)=>{let o=r.colon||nc,a=n.match(/\//)||st&&n.match(/\\/)?[""]:[...st?[process.cwd()]:[],...(r.path||process.env.PATH||"").split(o)],s=st?r.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",u=st?s.split(o):[""];return st&&n.indexOf(".")!==-1&&u[0]!==""&&u.unshift(""),{pathEnv:a,pathExt:u,pathExtExe:s}},Ta=(n,r,o)=>{typeof r=="function"&&(o=r,r={}),r||(r={});let{pathEnv:a,pathExt:s,pathExtExe:u}=Ra(n,r),f=[],p=b=>new Promise((_,T)=>{if(b===a.length)return r.all&&f.length?_(f):T(wa(n));let S=a[b],g=/^".*"$/.test(S)?S.slice(1,-1):S,y=Sa.join(g,n),C=!g&&/^\.[\\\/]/.test(n)?n.slice(0,2)+y:y;_(m(C,b,0))}),m=(b,_,T)=>new Promise((S,g)=>{if(T===s.length)return S(p(_+1));let y=s[T];_a(b+y,{pathExt:u},(C,P)=>{if(!C&&P)if(r.all)f.push(b+y);else return S(b+y);return S(m(b,_,T+1))})});return o?p(0).then(b=>o(null,b),o):p(0)},oc=(n,r)=>{r=r||{};let{pathEnv:o,pathExt:a,pathExtExe:s}=Ra(n,r),u=[];for(let f=0;f<o.length;f++){let p=o[f],m=/^".*"$/.test(p)?p.slice(1,-1):p,b=Sa.join(m,n),_=!m&&/^\.[\\\/]/.test(n)?n.slice(0,2)+b:b;for(let T=0;T<a.length;T++){let S=_+a[T];try{if(_a.sync(S,{pathExt:s}))if(r.all)u.push(S);else return S}catch{}}}if(r.all&&u.length)return u;if(r.nothrow)return null;throw wa(n)};Ea.exports=Ta;Ta.sync=oc});var Ln=A((cm,Fn)=>{"use strict";var Pa=(n={})=>{let r=n.env||process.env;return(n.platform||process.platform)!=="win32"?"PATH":Object.keys(r).reverse().find(a=>a.toUpperCase()==="PATH")||"Path"};Fn.exports=Pa;Fn.exports.default=Pa});var ka=A((fm,Ba)=>{"use strict";var Aa=require("path"),ic=Ca(),ac=Ln();function va(n,r){let o=n.options.env||process.env,a=process.cwd(),s=n.options.cwd!=null,u=s&&process.chdir!==void 0&&!process.chdir.disabled;if(u)try{process.chdir(n.options.cwd)}catch{}let f;try{f=ic.sync(n.command,{path:o[ac({env:o})],pathExt:r?Aa.delimiter:void 0})}catch{}finally{u&&process.chdir(a)}return f&&(f=Aa.resolve(s?n.options.cwd:"",f)),f}function sc(n){return va(n)||va(n,!0)}Ba.exports=sc});var Ia=A((dm,$n)=>{"use strict";var zn=/([()\][%!^"`<>&|;, *?])/g;function lc(n){return n=n.replace(zn,"^$1"),n}function uc(n,r){return n=`${n}`,n=n.replace(/(\\*)"/g,'$1$1\\"'),n=n.replace(/(\\*)$/,"$1$1"),n=`"${n}"`,n=n.replace(zn,"^$1"),r&&(n=n.replace(zn,"^$1")),n}$n.exports.command=lc;$n.exports.argument=uc});var Oa=A((mm,xa)=>{"use strict";xa.exports=/^#!(.*)/});var Wa=A((hm,qa)=>{"use strict";var cc=Oa();qa.exports=(n="")=>{let r=n.match(cc);if(!r)return null;let[o,a]=r[0].replace(/#! ?/,"").split(" "),s=o.split("/").pop();return s==="env"?a:a?`${s} ${a}`:s}});var Fa=A((pm,Da)=>{"use strict";var Mn=require("fs"),fc=Wa();function dc(n){let o=Buffer.alloc(150),a;try{a=Mn.openSync(n,"r"),Mn.readSync(a,o,0,150,0),Mn.closeSync(a)}catch{}return fc(o.toString())}Da.exports=dc});var Ma=A((bm,$a)=>{"use strict";var mc=require("path"),La=ka(),za=Ia(),hc=Fa(),pc=process.platform==="win32",bc=/\.(?:com|exe)$/i,yc=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function gc(n){n.file=La(n);let r=n.file&&hc(n.file);return r?(n.args.unshift(n.file),n.command=r,La(n)):n.file}function Sc(n){if(!pc)return n;let r=gc(n),o=!bc.test(r);if(n.options.forceShell||o){let a=yc.test(r);n.command=mc.normalize(n.command),n.command=za.command(n.command),n.args=n.args.map(u=>za.argument(u,a));let s=[n.command].concat(n.args).join(" ");n.args=["/d","/s","/c",`"${s}"`],n.command=process.env.comspec||"cmd.exe",n.options.windowsVerbatimArguments=!0}return n}function _c(n,r,o){r&&!Array.isArray(r)&&(o=r,r=null),r=r?r.slice(0):[],o=Object.assign({},o);let a={command:n,args:r,options:o,file:void 0,original:{command:n,args:r}};return o.shell?a:Sc(a)}$a.exports=_c});var Ua=A((ym,Na)=>{"use strict";var jn=process.platform==="win32";function Nn(n,r){return Object.assign(new Error(`${r} ${n.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${r} ${n.command}`,path:n.command,spawnargs:n.args})}function wc(n,r){if(!jn)return;let o=n.emit;n.emit=function(a,s){if(a==="exit"){let u=ja(s,r,"spawn");if(u)return o.call(n,"error",u)}return o.apply(n,arguments)}}function ja(n,r){return jn&&n===1&&!r.file?Nn(r.original,"spawn"):null}function Rc(n,r){return jn&&n===1&&!r.file?Nn(r.original,"spawnSync"):null}Na.exports={hookChildProcess:wc,verifyENOENT:ja,verifyENOENTSync:Rc,notFoundError:Nn}});var Va=A((gm,lt)=>{"use strict";var Ha=require("child_process"),Un=Ma(),Hn=Ua();function Ga(n,r,o){let a=Un(n,r,o),s=Ha.spawn(a.command,a.args,a.options);return Hn.hookChildProcess(s,a),s}function Tc(n,r,o){let a=Un(n,r,o),s=Ha.spawnSync(a.command,a.args,a.options);return s.error=s.error||Hn.verifyENOENTSync(s.status,a),s}lt.exports=Ga;lt.exports.spawn=Ga;lt.exports.sync=Tc;lt.exports._parse=Un;lt.exports._enoent=Hn});var Qa=A((Sm,Ya)=>{"use strict";Ya.exports=n=>{let r=typeof n=="string"?`
`:`
`.charCodeAt(),o=typeof n=="string"?"\r":"\r".charCodeAt();return n[n.length-1]===r&&(n=n.slice(0,n.length-1)),n[n.length-1]===o&&(n=n.slice(0,n.length-1)),n}});var Za=A((_m,Mt)=>{"use strict";var $t=require("path"),Xa=Ln(),Ka=n=>{n=M({cwd:process.cwd(),path:process.env[Xa()],execPath:process.execPath},n);let r,o=$t.resolve(n.cwd),a=[];for(;r!==o;)a.push($t.join(o,"node_modules/.bin")),r=o,o=$t.resolve(o,"..");let s=$t.resolve(n.cwd,n.execPath,"..");return a.push(s),a.concat(n.path).join($t.delimiter)};Mt.exports=Ka;Mt.exports.default=Ka;Mt.exports.env=n=>{n=M({env:process.env},n);let r=M({},n.env),o=Xa({env:r});return n.path=r[o],r[o]=Mt.exports(n),r}});var es=A((wm,Gn)=>{"use strict";var Ja=(n,r)=>{for(let o of Reflect.ownKeys(r))Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(r,o));return n};Gn.exports=Ja;Gn.exports.default=Ja});var rs=A((Rm,Dr)=>{"use strict";var Ec=es(),Wr=new WeakMap,ts=(n,r={})=>{if(typeof n!="function")throw new TypeError("Expected a function");let o,a=0,s=n.displayName||n.name||"<anonymous>",u=function(...f){if(Wr.set(u,++a),a===1)o=n.apply(this,f),n=null;else if(r.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return o};return Ec(u,n),Wr.set(u,a),u};Dr.exports=ts;Dr.exports.default=ts;Dr.exports.callCount=n=>{if(!Wr.has(n))throw new Error(`The given function \`${n.name}\` is not wrapped by the \`onetime\` package`);return Wr.get(n)}});var ns=A(Fr=>{"use strict";Object.defineProperty(Fr,"__esModule",{value:!0});Fr.SIGNALS=void 0;var Cc=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];Fr.SIGNALS=Cc});var Vn=A(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.SIGRTMAX=ut.getRealtimeSignals=void 0;var Pc=function(){let n=is-os+1;return Array.from({length:n},Ac)};ut.getRealtimeSignals=Pc;var Ac=function(n,r){return{name:`SIGRT${r+1}`,number:os+r,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},os=34,is=64;ut.SIGRTMAX=is});var as=A(Lr=>{"use strict";Object.defineProperty(Lr,"__esModule",{value:!0});Lr.getSignals=void 0;var vc=require("os"),Bc=ns(),kc=Vn(),Ic=function(){let n=(0,kc.getRealtimeSignals)();return[...Bc.SIGNALS,...n].map(xc)};Lr.getSignals=Ic;var xc=function({name:n,number:r,description:o,action:a,forced:s=!1,standard:u}){let{signals:{[n]:f}}=vc.constants,p=f!==void 0;return{name:n,number:p?f:r,description:o,supported:p,action:a,forced:s,standard:u}}});var ls=A(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.signalsByNumber=ct.signalsByName=void 0;var Oc=require("os"),ss=as(),qc=Vn(),Wc=function(){return(0,ss.getSignals)().reduce(Dc,{})},Dc=function(n,{name:r,number:o,description:a,supported:s,action:u,forced:f,standard:p}){return Se(M({},n),{[r]:{name:r,number:o,description:a,supported:s,action:u,forced:f,standard:p}})},Fc=Wc();ct.signalsByName=Fc;var Lc=function(){let n=(0,ss.getSignals)(),r=qc.SIGRTMAX+1,o=Array.from({length:r},(a,s)=>zc(s,n));return Object.assign({},...o)},zc=function(n,r){let o=$c(n,r);if(o===void 0)return{};let{name:a,description:s,supported:u,action:f,forced:p,standard:m}=o;return{[n]:{name:a,number:n,description:s,supported:u,action:f,forced:p,standard:m}}},$c=function(n,r){let o=r.find(({name:a})=>Oc.constants.signals[a]===n);return o!==void 0?o:r.find(a=>a.number===n)},Mc=Lc();ct.signalsByNumber=Mc});var cs=A((Am,us)=>{"use strict";var{signalsByName:jc}=ls(),Nc=({timedOut:n,timeout:r,errorCode:o,signal:a,signalDescription:s,exitCode:u,isCanceled:f})=>n?`timed out after ${r} milliseconds`:f?"was canceled":o!==void 0?`failed with ${o}`:a!==void 0?`was killed with ${a} (${s})`:u!==void 0?`failed with exit code ${u}`:"failed",Uc=({stdout:n,stderr:r,all:o,error:a,signal:s,exitCode:u,command:f,escapedCommand:p,timedOut:m,isCanceled:b,killed:_,parsed:{options:{timeout:T}}})=>{u=u===null?void 0:u,s=s===null?void 0:s;let S=s===void 0?void 0:jc[s].description,g=a&&a.code,C=`Command ${Nc({timedOut:m,timeout:T,errorCode:g,signal:s,signalDescription:S,exitCode:u,isCanceled:b})}: ${f}`,P=Object.prototype.toString.call(a)==="[object Error]",v=P?`${C}
${a.message}`:C,W=[v,r,n].filter(Boolean).join(`
`);return P?(a.originalMessage=a.message,a.message=W):a=new Error(W),a.shortMessage=v,a.command=f,a.escapedCommand=p,a.exitCode=u,a.signal=s,a.signalDescription=S,a.stdout=n,a.stderr=r,o!==void 0&&(a.all=o),"bufferedData"in a&&delete a.bufferedData,a.failed=!0,a.timedOut=Boolean(m),a.isCanceled=b,a.killed=_&&!m,a};us.exports=Uc});var ds=A((vm,Yn)=>{"use strict";var zr=["stdin","stdout","stderr"],Hc=n=>zr.some(r=>n[r]!==void 0),fs=n=>{if(!n)return;let{stdio:r}=n;if(r===void 0)return zr.map(a=>n[a]);if(Hc(n))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${zr.map(a=>`\`${a}\``).join(", ")}`);if(typeof r=="string")return r;if(!Array.isArray(r))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof r}\``);let o=Math.max(r.length,zr.length);return Array.from({length:o},(a,s)=>r[s])};Yn.exports=fs;Yn.exports.node=n=>{let r=fs(n);return r==="ipc"?"ipc":r===void 0||typeof r=="string"?[r,r,r,"ipc"]:r.includes("ipc")?r:[...r,"ipc"]}});var ms=A((Bm,$r)=>{$r.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&$r.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&$r.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var gs=A((km,mt)=>{var L=global.process,Ue=function(n){return n&&typeof n=="object"&&typeof n.removeListener=="function"&&typeof n.emit=="function"&&typeof n.reallyExit=="function"&&typeof n.listeners=="function"&&typeof n.kill=="function"&&typeof n.pid=="number"&&typeof n.on=="function"};Ue(L)?(hs=require("assert"),ft=ms(),ps=/^win/i.test(L.platform),jt=require("events"),typeof jt!="function"&&(jt=jt.EventEmitter),L.__signal_exit_emitter__?N=L.__signal_exit_emitter__:(N=L.__signal_exit_emitter__=new jt,N.count=0,N.emitted={}),N.infinite||(N.setMaxListeners(1/0),N.infinite=!0),mt.exports=function(n,r){if(!!Ue(global.process)){hs.equal(typeof n,"function","a callback must be provided for exit handler"),dt===!1&&Qn();var o="exit";r&&r.alwaysLast&&(o="afterexit");var a=function(){N.removeListener(o,n),N.listeners("exit").length===0&&N.listeners("afterexit").length===0&&Mr()};return N.on(o,n),a}},Mr=function(){!dt||!Ue(global.process)||(dt=!1,ft.forEach(function(r){try{L.removeListener(r,jr[r])}catch{}}),L.emit=Nr,L.reallyExit=Xn,N.count-=1)},mt.exports.unload=Mr,He=function(r,o,a){N.emitted[r]||(N.emitted[r]=!0,N.emit(r,o,a))},jr={},ft.forEach(function(n){jr[n]=function(){if(!!Ue(global.process)){var o=L.listeners(n);o.length===N.count&&(Mr(),He("exit",null,n),He("afterexit",null,n),ps&&n==="SIGHUP"&&(n="SIGINT"),L.kill(L.pid,n))}}}),mt.exports.signals=function(){return ft},dt=!1,Qn=function(){dt||!Ue(global.process)||(dt=!0,N.count+=1,ft=ft.filter(function(r){try{return L.on(r,jr[r]),!0}catch{return!1}}),L.emit=ys,L.reallyExit=bs)},mt.exports.load=Qn,Xn=L.reallyExit,bs=function(r){!Ue(global.process)||(L.exitCode=r||0,He("exit",L.exitCode,null),He("afterexit",L.exitCode,null),Xn.call(L,L.exitCode))},Nr=L.emit,ys=function(r,o){if(r==="exit"&&Ue(global.process)){o!==void 0&&(L.exitCode=o);var a=Nr.apply(this,arguments);return He("exit",L.exitCode,null),He("afterexit",L.exitCode,null),a}else return Nr.apply(this,arguments)}):mt.exports=function(){};var hs,ft,ps,jt,N,Mr,He,jr,dt,Qn,Xn,bs,Nr,ys});var _s=A((Im,Ss)=>{"use strict";var Gc=require("os"),Vc=gs(),Yc=1e3*5,Qc=(n,r="SIGTERM",o={})=>{let a=n(r);return Xc(n,r,o,a),a},Xc=(n,r,o,a)=>{if(!Kc(r,o,a))return;let s=Jc(o),u=setTimeout(()=>{n("SIGKILL")},s);u.unref&&u.unref()},Kc=(n,{forceKillAfterTimeout:r},o)=>Zc(n)&&r!==!1&&o,Zc=n=>n===Gc.constants.signals.SIGTERM||typeof n=="string"&&n.toUpperCase()==="SIGTERM",Jc=({forceKillAfterTimeout:n=!0})=>{if(n===!0)return Yc;if(!Number.isFinite(n)||n<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${n}\` (${typeof n})`);return n},ef=(n,r)=>{n.kill()&&(r.isCanceled=!0)},tf=(n,r,o)=>{n.kill(r),o(Object.assign(new Error("Timed out"),{timedOut:!0,signal:r}))},rf=(n,{timeout:r,killSignal:o="SIGTERM"},a)=>{if(r===0||r===void 0)return a;let s,u=new Promise((p,m)=>{s=setTimeout(()=>{tf(n,o,m)},r)}),f=a.finally(()=>{clearTimeout(s)});return Promise.race([u,f])},nf=({timeout:n})=>{if(n!==void 0&&(!Number.isFinite(n)||n<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${n}\` (${typeof n})`)},of=async(n,{cleanup:r,detached:o},a)=>{if(!r||o)return a;let s=Vc(()=>{n.kill()});return a.finally(()=>{s()})};Ss.exports={spawnedKill:Qc,spawnedCancel:ef,setupTimeout:rf,validateTimeout:nf,setExitHandler:of}});var Rs=A((xm,ws)=>{"use strict";var me=n=>n!==null&&typeof n=="object"&&typeof n.pipe=="function";me.writable=n=>me(n)&&n.writable!==!1&&typeof n._write=="function"&&typeof n._writableState=="object";me.readable=n=>me(n)&&n.readable!==!1&&typeof n._read=="function"&&typeof n._readableState=="object";me.duplex=n=>me.writable(n)&&me.readable(n);me.transform=n=>me.duplex(n)&&typeof n._transform=="function";ws.exports=me});var Es=A((Om,Ts)=>{"use strict";var{PassThrough:af}=require("stream");Ts.exports=n=>{n=M({},n);let{array:r}=n,{encoding:o}=n,a=o==="buffer",s=!1;r?s=!(o||a):o=o||"utf8",a&&(o=null);let u=new af({objectMode:s});o&&u.setEncoding(o);let f=0,p=[];return u.on("data",m=>{p.push(m),s?f=p.length:f+=m.length}),u.getBufferedValue=()=>r?p:a?Buffer.concat(p,f):p.join(""),u.getBufferedLength=()=>f,u}});var Cs=A((qm,Nt)=>{"use strict";var{constants:sf}=require("buffer"),lf=require("stream"),{promisify:uf}=require("util"),cf=Es(),ff=uf(lf.pipeline),Kn=class extends Error{constructor(){super("maxBuffer exceeded");this.name="MaxBufferError"}};async function Zn(n,r){if(!n)throw new Error("Expected a stream");r=M({maxBuffer:1/0},r);let{maxBuffer:o}=r,a=cf(r);return await new Promise((s,u)=>{let f=p=>{p&&a.getBufferedLength()<=sf.MAX_LENGTH&&(p.bufferedData=a.getBufferedValue()),u(p)};(async()=>{try{await ff(n,a),s()}catch(p){f(p)}})(),a.on("data",()=>{a.getBufferedLength()>o&&f(new Kn)})}),a.getBufferedValue()}Nt.exports=Zn;Nt.exports.buffer=(n,r)=>Zn(n,Se(M({},r),{encoding:"buffer"}));Nt.exports.array=(n,r)=>Zn(n,Se(M({},r),{array:!0}));Nt.exports.MaxBufferError=Kn});var As=A((Wm,Ps)=>{"use strict";var{PassThrough:df}=require("stream");Ps.exports=function(){var n=[],r=new df({objectMode:!0});return r.setMaxListeners(0),r.add=o,r.isEmpty=a,r.on("unpipe",s),Array.prototype.slice.call(arguments).forEach(o),r;function o(u){return Array.isArray(u)?(u.forEach(o),this):(n.push(u),u.once("end",s.bind(null,u)),u.once("error",r.emit.bind(r,"error")),u.pipe(r,{end:!1}),this)}function a(){return n.length==0}function s(u){n=n.filter(function(f){return f!==u}),!n.length&&r.readable&&r.end()}}});var Is=A((Dm,ks)=>{"use strict";var Bs=Rs(),vs=Cs(),mf=As(),hf=(n,r)=>{r===void 0||n.stdin===void 0||(Bs(r)?r.pipe(n.stdin):n.stdin.end(r))},pf=(n,{all:r})=>{if(!r||!n.stdout&&!n.stderr)return;let o=mf();return n.stdout&&o.add(n.stdout),n.stderr&&o.add(n.stderr),o},Jn=async(n,r)=>{if(!!n){n.destroy();try{return await r}catch(o){return o.bufferedData}}},eo=(n,{encoding:r,buffer:o,maxBuffer:a})=>{if(!(!n||!o))return r?vs(n,{encoding:r,maxBuffer:a}):vs.buffer(n,{maxBuffer:a})},bf=async({stdout:n,stderr:r,all:o},{encoding:a,buffer:s,maxBuffer:u},f)=>{let p=eo(n,{encoding:a,buffer:s,maxBuffer:u}),m=eo(r,{encoding:a,buffer:s,maxBuffer:u}),b=eo(o,{encoding:a,buffer:s,maxBuffer:u*2});try{return await Promise.all([f,p,m,b])}catch(_){return Promise.all([{error:_,signal:_.signal,timedOut:_.timedOut},Jn(n,p),Jn(r,m),Jn(o,b)])}},yf=({input:n})=>{if(Bs(n))throw new TypeError("The `input` option cannot be a stream in sync mode")};ks.exports={handleInput:hf,makeAllStream:pf,getSpawnedResult:bf,validateInputSync:yf}});var Os=A((Fm,xs)=>{"use strict";var gf=(async()=>{})().constructor.prototype,Sf=["then","catch","finally"].map(n=>[n,Reflect.getOwnPropertyDescriptor(gf,n)]),_f=(n,r)=>{for(let[o,a]of Sf){let s=typeof r=="function"?(...u)=>Reflect.apply(a.value,r(),u):a.value.bind(r);Reflect.defineProperty(n,o,Se(M({},a),{value:s}))}return n},wf=n=>new Promise((r,o)=>{n.on("exit",(a,s)=>{r({exitCode:a,signal:s})}),n.on("error",a=>{o(a)}),n.stdin&&n.stdin.on("error",a=>{o(a)})});xs.exports={mergePromise:_f,getSpawnedPromise:wf}});var Ds=A((Lm,Ws)=>{"use strict";var qs=(n,r=[])=>Array.isArray(r)?[n,...r]:[n],Rf=/^[\w.-]+$/,Tf=/"/g,Ef=n=>typeof n!="string"||Rf.test(n)?n:`"${n.replace(Tf,'\\"')}"`,Cf=(n,r)=>qs(n,r).join(" "),Pf=(n,r)=>qs(n,r).map(o=>Ef(o)).join(" "),Af=/ +/g,vf=n=>{let r=[];for(let o of n.trim().split(Af)){let a=r[r.length-1];a&&a.endsWith("\\")?r[r.length-1]=`${a.slice(0,-1)} ${o}`:r.push(o)}return r};Ws.exports={joinCommand:Cf,getEscapedCommand:Pf,parseCommand:vf}});var Ns=A((zm,ht)=>{"use strict";var Bf=require("path"),to=require("child_process"),kf=Va(),If=Qa(),xf=Za(),Of=rs(),Ur=cs(),Ls=ds(),{spawnedKill:qf,spawnedCancel:Wf,setupTimeout:Df,validateTimeout:Ff,setExitHandler:Lf}=_s(),{handleInput:zf,getSpawnedResult:$f,makeAllStream:Mf,validateInputSync:jf}=Is(),{mergePromise:Fs,getSpawnedPromise:Nf}=Os(),{joinCommand:zs,parseCommand:$s,getEscapedCommand:Ms}=Ds(),Uf=1e3*1e3*100,Hf=({env:n,extendEnv:r,preferLocal:o,localDir:a,execPath:s})=>{let u=r?M(M({},process.env),n):n;return o?xf.env({env:u,cwd:a,execPath:s}):u},js=(n,r,o={})=>{let a=kf._parse(n,r,o);return n=a.command,r=a.args,o=a.options,o=M({maxBuffer:Uf,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:o.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0},o),o.env=Hf(o),o.stdio=Ls(o),process.platform==="win32"&&Bf.basename(n,".exe")==="cmd"&&r.unshift("/q"),{file:n,args:r,options:o,parsed:a}},Ut=(n,r,o)=>typeof r!="string"&&!Buffer.isBuffer(r)?o===void 0?void 0:"":n.stripFinalNewline?If(r):r,Hr=(n,r,o)=>{let a=js(n,r,o),s=zs(n,r),u=Ms(n,r);Ff(a.options);let f;try{f=to.spawn(a.file,a.args,a.options)}catch(g){let y=new to.ChildProcess,C=Promise.reject(Ur({error:g,stdout:"",stderr:"",all:"",command:s,escapedCommand:u,parsed:a,timedOut:!1,isCanceled:!1,killed:!1}));return Fs(y,C)}let p=Nf(f),m=Df(f,a.options,p),b=Lf(f,a.options,m),_={isCanceled:!1};f.kill=qf.bind(null,f.kill.bind(f)),f.cancel=Wf.bind(null,f,_);let S=Of(async()=>{let[{error:g,exitCode:y,signal:C,timedOut:P},v,W,U]=await $f(f,a.options,b),k=Ut(a.options,v),z=Ut(a.options,W),x=Ut(a.options,U);if(g||y!==0||C!==null){let oe=Ur({error:g,exitCode:y,signal:C,stdout:k,stderr:z,all:x,command:s,escapedCommand:u,parsed:a,timedOut:P,isCanceled:_.isCanceled,killed:f.killed});if(!a.options.reject)return oe;throw oe}return{command:s,escapedCommand:u,exitCode:0,stdout:k,stderr:z,all:x,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return zf(f,a.options.input),f.all=Mf(f,a.options),Fs(f,S)};ht.exports=Hr;ht.exports.sync=(n,r,o)=>{let a=js(n,r,o),s=zs(n,r),u=Ms(n,r);jf(a.options);let f;try{f=to.spawnSync(a.file,a.args,a.options)}catch(b){throw Ur({error:b,stdout:"",stderr:"",all:"",command:s,escapedCommand:u,parsed:a,timedOut:!1,isCanceled:!1,killed:!1})}let p=Ut(a.options,f.stdout,f.error),m=Ut(a.options,f.stderr,f.error);if(f.error||f.status!==0||f.signal!==null){let b=Ur({stdout:p,stderr:m,error:f.error,signal:f.signal,exitCode:f.status,command:s,escapedCommand:u,parsed:a,timedOut:f.error&&f.error.code==="ETIMEDOUT",isCanceled:!1,killed:f.signal!==null});if(!a.options.reject)return b;throw b}return{command:s,escapedCommand:u,exitCode:0,stdout:p,stderr:m,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};ht.exports.command=(n,r)=>{let[o,...a]=$s(n);return Hr(o,a,r)};ht.exports.commandSync=(n,r)=>{let[o,...a]=$s(n);return Hr.sync(o,a,r)};ht.exports.node=(n,r,o={})=>{r&&!Array.isArray(r)&&typeof r=="object"&&(o=r,r=[]);let a=Ls.node(o),s=process.execArgv.filter(p=>!p.startsWith("--inspect")),{nodePath:u=process.execPath,nodeOptions:f=s}=o;return Hr(u,[...f,n,...Array.isArray(r)?r:[]],Se(M({},o),{stdin:void 0,stdout:void 0,stderr:void 0,stdio:a,shell:!1}))}});var Qf={};Ci(Qf,{default:()=>Yf});var Gr=require("@raycast/api"),pt=require("@raycast/api");var ia=fe(require("node:http"),1),aa=fe(require("node:https"),1),Ne=fe(require("node:zlib"),1),te=fe(require("node:stream"),1),zt=require("node:buffer");function ku(n){if(!/^data:/i.test(n))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');n=n.replace(/\r?\n/g,"");let r=n.indexOf(",");if(r===-1||r<=4)throw new TypeError("malformed data: URI");let o=n.substring(5,r).split(";"),a="",s=!1,u=o[0]||"text/plain",f=u;for(let _=1;_<o.length;_++)o[_]==="base64"?s=!0:(f+=`;${o[_]}`,o[_].indexOf("charset=")===0&&(a=o[_].substring(8)));!o[0]&&!a.length&&(f+=";charset=US-ASCII",a="US-ASCII");let p=s?"base64":"ascii",m=unescape(n.substring(r+1)),b=Buffer.from(m,p);return b.type=u,b.typeFull=f,b.charset=a,b}var Ai=ku;var ne=fe(require("node:stream"),1),Re=require("node:util"),J=require("node:buffer");Ot();Er();var ke=class extends Error{constructor(r,o){super(r);Error.captureStackTrace(this,this.constructor),this.type=o}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var Z=class extends ke{constructor(r,o,a){super(r,o);a&&(this.code=this.errno=a.code,this.erroredSysCall=a.syscall)}};var Cr=Symbol.toStringTag,kn=n=>typeof n=="object"&&typeof n.append=="function"&&typeof n.delete=="function"&&typeof n.get=="function"&&typeof n.getAll=="function"&&typeof n.has=="function"&&typeof n.set=="function"&&typeof n.sort=="function"&&n[Cr]==="URLSearchParams",Wt=n=>n&&typeof n=="object"&&typeof n.arrayBuffer=="function"&&typeof n.type=="string"&&typeof n.stream=="function"&&typeof n.constructor=="function"&&/^(Blob|File)$/.test(n[Cr]),Di=n=>typeof n=="object"&&(n[Cr]==="AbortSignal"||n[Cr]==="EventTarget"),Fi=(n,r)=>{let o=new URL(r).hostname,a=new URL(n).hostname;return o===a||o.endsWith(`.${a}`)};var Hu=(0,Re.promisify)(ne.default.pipeline),Q=Symbol("Body internals"),we=class{constructor(r,{size:o=0}={}){let a=null;r===null?r=null:kn(r)?r=J.Buffer.from(r.toString()):Wt(r)||J.Buffer.isBuffer(r)||(Re.types.isAnyArrayBuffer(r)?r=J.Buffer.from(r):ArrayBuffer.isView(r)?r=J.Buffer.from(r.buffer,r.byteOffset,r.byteLength):r instanceof ne.default||(r instanceof Me?(r=Wi(r),a=r.type.split("=")[1]):r=J.Buffer.from(String(r))));let s=r;J.Buffer.isBuffer(r)?s=ne.default.Readable.from(r):Wt(r)&&(s=ne.default.Readable.from(r.stream())),this[Q]={body:r,stream:s,boundary:a,disturbed:!1,error:null},this.size=o,r instanceof ne.default&&r.on("error",u=>{let f=u instanceof ke?u:new Z(`Invalid response body while trying to fetch ${this.url}: ${u.message}`,"system",u);this[Q].error=f})}get body(){return this[Q].stream}get bodyUsed(){return this[Q].disturbed}async arrayBuffer(){let{buffer:r,byteOffset:o,byteLength:a}=await vr(this);return r.slice(o,o+a)}async formData(){let r=this.headers.get("content-type");if(r.startsWith("application/x-www-form-urlencoded")){let a=new Me,s=new URLSearchParams(await this.text());for(let[u,f]of s)a.append(u,f);return a}let{toFormData:o}=await Promise.resolve().then(()=>(Ui(),Ni));return o(this.body,r)}async blob(){let r=this.headers&&this.headers.get("content-type")||this[Q].body&&this[Q].body.type||"",o=await this.arrayBuffer();return new _e([o],{type:r})}async json(){let r=await vr(this);return JSON.parse(r.toString())}async text(){return(await vr(this)).toString()}buffer(){return vr(this)}};we.prototype.buffer=(0,Re.deprecate)(we.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(we.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,Re.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function vr(n){if(n[Q].disturbed)throw new TypeError(`body used already for: ${n.url}`);if(n[Q].disturbed=!0,n[Q].error)throw n[Q].error;let{body:r}=n;if(r===null)return J.Buffer.alloc(0);if(!(r instanceof ne.default))return J.Buffer.alloc(0);let o=[],a=0;try{for await(let s of r){if(n.size>0&&a+s.length>n.size){let u=new Z(`content size at ${n.url} over limit: ${n.size}`,"max-size");throw r.destroy(u),u}a+=s.length,o.push(s)}}catch(s){throw s instanceof ke?s:new Z(`Invalid response body while trying to fetch ${n.url}: ${s.message}`,"system",s)}if(r.readableEnded===!0||r._readableState.ended===!0)try{return o.every(s=>typeof s=="string")?J.Buffer.from(o.join("")):J.Buffer.concat(o,a)}catch(s){throw new Z(`Could not create Buffer from response body for ${n.url}: ${s.message}`,"system",s)}else throw new Z(`Premature close of server response while trying to fetch ${n.url}`)}var it=(n,r)=>{let o,a,{body:s}=n[Q];if(n.bodyUsed)throw new Error("cannot clone body after it is used");return s instanceof ne.default&&typeof s.getBoundary!="function"&&(o=new ne.PassThrough({highWaterMark:r}),a=new ne.PassThrough({highWaterMark:r}),s.pipe(o),s.pipe(a),n[Q].stream=o,s=a),s},Gu=(0,Re.deprecate)(n=>n.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),Br=(n,r)=>n===null?null:typeof n=="string"?"text/plain;charset=UTF-8":kn(n)?"application/x-www-form-urlencoded;charset=UTF-8":Wt(n)?n.type||null:J.Buffer.isBuffer(n)||Re.types.isAnyArrayBuffer(n)||ArrayBuffer.isView(n)?null:n instanceof Me?`multipart/form-data; boundary=${r[Q].boundary}`:n&&typeof n.getBoundary=="function"?`multipart/form-data;boundary=${Gu(n)}`:n instanceof ne.default?null:"text/plain;charset=UTF-8",Hi=n=>{let{body:r}=n[Q];return r===null?0:Wt(r)?r.size:J.Buffer.isBuffer(r)?r.length:r&&typeof r.getLengthSync=="function"&&r.hasKnownLength&&r.hasKnownLength()?r.getLengthSync():null},Gi=async(n,{body:r})=>{r===null?n.end():await Hu(r,n)};var On=require("node:util"),Lt=fe(require("node:http"),1),kr=typeof Lt.default.validateHeaderName=="function"?Lt.default.validateHeaderName:n=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(n)){let r=new TypeError(`Header name must be a valid HTTP token [${n}]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),r}},qn=typeof Lt.default.validateHeaderValue=="function"?Lt.default.validateHeaderValue:(n,r)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(r)){let o=new TypeError(`Invalid character in header content ["${n}"]`);throw Object.defineProperty(o,"code",{value:"ERR_INVALID_CHAR"}),o}},ee=class extends URLSearchParams{constructor(r){let o=[];if(r instanceof ee){let a=r.raw();for(let[s,u]of Object.entries(a))o.push(...u.map(f=>[s,f]))}else if(r!=null)if(typeof r=="object"&&!On.types.isBoxedPrimitive(r)){let a=r[Symbol.iterator];if(a==null)o.push(...Object.entries(r));else{if(typeof a!="function")throw new TypeError("Header pairs must be iterable");o=[...r].map(s=>{if(typeof s!="object"||On.types.isBoxedPrimitive(s))throw new TypeError("Each header pair must be an iterable object");return[...s]}).map(s=>{if(s.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...s]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");o=o.length>0?o.map(([a,s])=>(kr(a),qn(a,String(s)),[String(a).toLowerCase(),String(s)])):void 0;super(o);return new Proxy(this,{get(a,s,u){switch(s){case"append":case"set":return(f,p)=>(kr(f),qn(f,String(p)),URLSearchParams.prototype[s].call(a,String(f).toLowerCase(),String(p)));case"delete":case"has":case"getAll":return f=>(kr(f),URLSearchParams.prototype[s].call(a,String(f).toLowerCase()));case"keys":return()=>(a.sort(),new Set(URLSearchParams.prototype.keys.call(a)).keys());default:return Reflect.get(a,s,u)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(r){let o=this.getAll(r);if(o.length===0)return null;let a=o.join(", ");return/^content-encoding$/i.test(r)&&(a=a.toLowerCase()),a}forEach(r,o=void 0){for(let a of this.keys())Reflect.apply(r,o,[this.get(a),a,this])}*values(){for(let r of this.keys())yield this.get(r)}*entries(){for(let r of this.keys())yield[r,this.get(r)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((r,o)=>(r[o]=this.getAll(o),r),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((r,o)=>{let a=this.getAll(o);return o==="host"?r[o]=a[0]:r[o]=a.length>1?a:a[0],r},{})}};Object.defineProperties(ee.prototype,["get","entries","forEach","values"].reduce((n,r)=>(n[r]={enumerable:!0},n),{}));function Vi(n=[]){return new ee(n.reduce((r,o,a,s)=>(a%2===0&&r.push(s.slice(a,a+2)),r),[]).filter(([r,o])=>{try{return kr(r),qn(r,String(o)),!0}catch{return!1}}))}var Vu=new Set([301,302,303,307,308]),Ir=n=>Vu.has(n);var ue=Symbol("Response internals"),V=class extends we{constructor(r=null,o={}){super(r,o);let a=o.status!=null?o.status:200,s=new ee(o.headers);if(r!==null&&!s.has("Content-Type")){let u=Br(r,this);u&&s.append("Content-Type",u)}this[ue]={type:"default",url:o.url,status:a,statusText:o.statusText||"",headers:s,counter:o.counter,highWaterMark:o.highWaterMark}}get type(){return this[ue].type}get url(){return this[ue].url||""}get status(){return this[ue].status}get ok(){return this[ue].status>=200&&this[ue].status<300}get redirected(){return this[ue].counter>0}get statusText(){return this[ue].statusText}get headers(){return this[ue].headers}get highWaterMark(){return this[ue].highWaterMark}clone(){return new V(it(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(r,o=302){if(!Ir(o))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new V(null,{headers:{location:new URL(r).toString()},status:o})}static error(){let r=new V(null,{status:0,statusText:""});return r[ue].type="error",r}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(V.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var ra=require("node:url"),na=require("node:util");var Yi=n=>{if(n.search)return n.search;let r=n.href.length-1,o=n.hash||(n.href[r]==="#"?"#":"");return n.href[r-o.length]==="?"?"?":""};var Xi=require("node:net");function Qi(n,r=!1){return n==null||(n=new URL(n),/^(about|blob|data):$/.test(n.protocol))?"no-referrer":(n.username="",n.password="",n.hash="",r&&(n.pathname="",n.search=""),n)}var Ki=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),Zi="strict-origin-when-cross-origin";function Ji(n){if(!Ki.has(n))throw new TypeError(`Invalid referrerPolicy: ${n}`);return n}function Yu(n){if(/^(http|ws)s:$/.test(n.protocol))return!0;let r=n.host.replace(/(^\[)|(]$)/g,""),o=(0,Xi.isIP)(r);return o===4&&/^127\./.test(r)||o===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(r)?!0:/^(.+\.)*localhost$/.test(n.host)?!1:n.protocol==="file:"}function at(n){return/^about:(blank|srcdoc)$/.test(n)||n.protocol==="data:"||/^(blob|filesystem):$/.test(n.protocol)?!0:Yu(n)}function ea(n,{referrerURLCallback:r,referrerOriginCallback:o}={}){if(n.referrer==="no-referrer"||n.referrerPolicy==="")return null;let a=n.referrerPolicy;if(n.referrer==="about:client")return"no-referrer";let s=n.referrer,u=Qi(s),f=Qi(s,!0);u.toString().length>4096&&(u=f),r&&(u=r(u)),o&&(f=o(f));let p=new URL(n.url);switch(a){case"no-referrer":return"no-referrer";case"origin":return f;case"unsafe-url":return u;case"strict-origin":return at(u)&&!at(p)?"no-referrer":f.toString();case"strict-origin-when-cross-origin":return u.origin===p.origin?u:at(u)&&!at(p)?"no-referrer":f;case"same-origin":return u.origin===p.origin?u:"no-referrer";case"origin-when-cross-origin":return u.origin===p.origin?u:f;case"no-referrer-when-downgrade":return at(u)&&!at(p)?"no-referrer":u;default:throw new TypeError(`Invalid referrerPolicy: ${a}`)}}function ta(n){let r=(n.get("referrer-policy")||"").split(/[,\s]+/),o="";for(let a of r)a&&Ki.has(a)&&(o=a);return o}var j=Symbol("Request internals"),xr=n=>typeof n=="object"&&typeof n[j]=="object",Qu=(0,na.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),xe=class extends we{constructor(r,o={}){let a;if(xr(r)?a=new URL(r.url):(a=new URL(r),r={}),a.username!==""||a.password!=="")throw new TypeError(`${a} is an url with embedded credentails.`);let s=o.method||r.method||"GET";if(s=s.toUpperCase(),"data"in o&&Qu(),(o.body!=null||xr(r)&&r.body!==null)&&(s==="GET"||s==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let u=o.body?o.body:xr(r)&&r.body!==null?it(r):null;super(u,{size:o.size||r.size||0});let f=new ee(o.headers||r.headers||{});if(u!==null&&!f.has("Content-Type")){let b=Br(u,this);b&&f.set("Content-Type",b)}let p=xr(r)?r.signal:null;if("signal"in o&&(p=o.signal),p!=null&&!Di(p))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let m=o.referrer==null?r.referrer:o.referrer;if(m==="")m="no-referrer";else if(m){let b=new URL(m);m=/^about:(\/\/)?client$/.test(b)?"client":b}else m=void 0;this[j]={method:s,redirect:o.redirect||r.redirect||"follow",headers:f,parsedURL:a,signal:p,referrer:m},this.follow=o.follow===void 0?r.follow===void 0?20:r.follow:o.follow,this.compress=o.compress===void 0?r.compress===void 0?!0:r.compress:o.compress,this.counter=o.counter||r.counter||0,this.agent=o.agent||r.agent,this.highWaterMark=o.highWaterMark||r.highWaterMark||16384,this.insecureHTTPParser=o.insecureHTTPParser||r.insecureHTTPParser||!1,this.referrerPolicy=o.referrerPolicy||r.referrerPolicy||""}get method(){return this[j].method}get url(){return(0,ra.format)(this[j].parsedURL)}get headers(){return this[j].headers}get redirect(){return this[j].redirect}get signal(){return this[j].signal}get referrer(){if(this[j].referrer==="no-referrer")return"";if(this[j].referrer==="client")return"about:client";if(this[j].referrer)return this[j].referrer.toString()}get referrerPolicy(){return this[j].referrerPolicy}set referrerPolicy(r){this[j].referrerPolicy=Ji(r)}clone(){return new xe(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(xe.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var oa=n=>{let{parsedURL:r}=n[j],o=new ee(n[j].headers);o.has("Accept")||o.set("Accept","*/*");let a=null;if(n.body===null&&/^(post|put)$/i.test(n.method)&&(a="0"),n.body!==null){let p=Hi(n);typeof p=="number"&&!Number.isNaN(p)&&(a=String(p))}a&&o.set("Content-Length",a),n.referrerPolicy===""&&(n.referrerPolicy=Zi),n.referrer&&n.referrer!=="no-referrer"?n[j].referrer=ea(n):n[j].referrer="no-referrer",n[j].referrer instanceof URL&&o.set("Referer",n.referrer),o.has("User-Agent")||o.set("User-Agent","node-fetch"),n.compress&&!o.has("Accept-Encoding")&&o.set("Accept-Encoding","gzip,deflate,br");let{agent:s}=n;typeof s=="function"&&(s=s(r)),!o.has("Connection")&&!s&&o.set("Connection","close");let u=Yi(r),f={path:r.pathname+u,method:n.method,headers:o[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:n.insecureHTTPParser,agent:s};return{parsedURL:r,options:f}};var Wn=class extends ke{constructor(r,o="aborted"){super(r,o)}};Er();xn();var Xu=new Set(["data:","http:","https:"]);async function Or(n,r){return new Promise((o,a)=>{let s=new xe(n,r),{parsedURL:u,options:f}=oa(s);if(!Xu.has(u.protocol))throw new TypeError(`node-fetch cannot load ${n}. URL scheme "${u.protocol.replace(/:$/,"")}" is not supported.`);if(u.protocol==="data:"){let y=Ai(s.url),C=new V(y,{headers:{"Content-Type":y.typeFull}});o(C);return}let p=(u.protocol==="https:"?aa.default:ia.default).request,{signal:m}=s,b=null,_=()=>{let y=new Wn("The operation was aborted.");a(y),s.body&&s.body instanceof te.default.Readable&&s.body.destroy(y),!(!b||!b.body)&&b.body.emit("error",y)};if(m&&m.aborted){_();return}let T=()=>{_(),g()},S=p(u.toString(),f);m&&m.addEventListener("abort",T);let g=()=>{S.abort(),m&&m.removeEventListener("abort",T)};S.on("error",y=>{a(new Z(`request to ${s.url} failed, reason: ${y.message}`,"system",y)),g()}),Ku(S,y=>{b.body.destroy(y)}),process.version<"v14"&&S.on("socket",y=>{let C;y.prependListener("end",()=>{C=y._eventsCount}),y.prependListener("close",P=>{if(b&&C<y._eventsCount&&!P){let v=new Error("Premature close");v.code="ERR_STREAM_PREMATURE_CLOSE",b.body.emit("error",v)}})}),S.on("response",y=>{S.setTimeout(0);let C=Vi(y.rawHeaders);if(Ir(y.statusCode)){let k=C.get("Location"),z=null;try{z=k===null?null:new URL(k,s.url)}catch{if(s.redirect!=="manual"){a(new Z(`uri requested responds with an invalid redirect URL: ${k}`,"invalid-redirect")),g();return}}switch(s.redirect){case"error":a(new Z(`uri requested responds with a redirect, redirect mode is set to error: ${s.url}`,"no-redirect")),g();return;case"manual":break;case"follow":{if(z===null)break;if(s.counter>=s.follow){a(new Z(`maximum redirect reached at: ${s.url}`,"max-redirect")),g();return}let x={headers:new ee(s.headers),follow:s.follow,counter:s.counter+1,agent:s.agent,compress:s.compress,method:s.method,body:it(s),signal:s.signal,size:s.size,referrer:s.referrer,referrerPolicy:s.referrerPolicy};if(!Fi(s.url,z))for(let X of["authorization","www-authenticate","cookie","cookie2"])x.headers.delete(X);if(y.statusCode!==303&&s.body&&r.body instanceof te.default.Readable){a(new Z("Cannot follow redirect with body being a readable stream","unsupported-redirect")),g();return}(y.statusCode===303||(y.statusCode===301||y.statusCode===302)&&s.method==="POST")&&(x.method="GET",x.body=void 0,x.headers.delete("content-length"));let oe=ta(C);oe&&(x.referrerPolicy=oe),o(Or(new xe(z,x))),g();return}default:return a(new TypeError(`Redirect option '${s.redirect}' is not a valid value of RequestRedirect`))}}m&&y.once("end",()=>{m.removeEventListener("abort",T)});let P=(0,te.pipeline)(y,new te.PassThrough,k=>{k&&a(k)});process.version<"v12.10"&&y.on("aborted",T);let v={url:s.url,status:y.statusCode,statusText:y.statusMessage,headers:C,size:s.size,counter:s.counter,highWaterMark:s.highWaterMark},W=C.get("Content-Encoding");if(!s.compress||s.method==="HEAD"||W===null||y.statusCode===204||y.statusCode===304){b=new V(P,v),o(b);return}let U={flush:Ne.default.Z_SYNC_FLUSH,finishFlush:Ne.default.Z_SYNC_FLUSH};if(W==="gzip"||W==="x-gzip"){P=(0,te.pipeline)(P,Ne.default.createGunzip(U),k=>{k&&a(k)}),b=new V(P,v),o(b);return}if(W==="deflate"||W==="x-deflate"){let k=(0,te.pipeline)(y,new te.PassThrough,z=>{z&&a(z)});k.once("data",z=>{(z[0]&15)===8?P=(0,te.pipeline)(P,Ne.default.createInflate(),x=>{x&&a(x)}):P=(0,te.pipeline)(P,Ne.default.createInflateRaw(),x=>{x&&a(x)}),b=new V(P,v),o(b)}),k.once("end",()=>{b||(b=new V(P,v),o(b))});return}if(W==="br"){P=(0,te.pipeline)(P,Ne.default.createBrotliDecompress(),k=>{k&&a(k)}),b=new V(P,v),o(b);return}b=new V(P,v),o(b)}),Gi(S,s).catch(a)})}function Ku(n,r){let o=zt.Buffer.from(`0\r
\r
`),a=!1,s=!1,u;n.on("response",f=>{let{headers:p}=f;a=p["transfer-encoding"]==="chunked"&&!p["content-length"]}),n.on("socket",f=>{let p=()=>{if(a&&!s){let m=new Error("Premature close");m.code="ERR_STREAM_PREMATURE_CLOSE",r(m)}};f.prependListener("close",p),n.on("abort",()=>{f.removeListener("close",p)}),f.on("data",m=>{s=zt.Buffer.compare(m.slice(-5),o)===0,!s&&u&&(s=zt.Buffer.compare(u.slice(-3),o.slice(0,3))===0&&zt.Buffer.compare(m.slice(-2),o.slice(3))===0),u=m})})}var H=require("@raycast/api");var Us=fe(require("node:process"),1),Hs=fe(Ns(),1);async function Gs(n){if(Us.default.platform!=="darwin")throw new Error("macOS only");let{stdout:r}=await(0,Hs.default)("osascript",["-e",n]);return r}var no=require("fs");var ro=require("@raycast/api"),Vs=require("path"),Ys=require("os"),Mm=(0,ro.getPreferenceValues)();var Qs=n=>n[0]==="~"?(0,Vs.join)((0,Ys.homedir)(),n.slice(1)):n;var Gf=async({url:n,id:r,useHud:o=!1,isBackground:a=!1})=>{let{downloadSize:s,applyTo:u,wallpaperPath:f}=(0,H.getPreferenceValues)(),p=Qs(f||H.environment.supportPath),m;if((0,no.existsSync)(p)){let _="Downloading and setting wallpaper...";o?!a&&await(0,H.showHUD)(_):m=await(0,H.showToast)(H.Toast.Style.Animated,_)}else{let _="The selected path does not exist. Please select a valid path.";await(o?(0,H.showHUD)(_):(0,H.showToast)(H.Toast.Style.Animated,_));return}let b=p.endsWith("/")?`${p}${r}-${s}.jpg`:`${p}/${r}-${s}.jpg`;try{let _=b,T=(0,no.existsSync)(_)?"":`set cmd to "curl -o " & q_temp_folder & " " & "${n}"
        do shell script cmd`;if(await Gs(`
      set temp_folder to (POSIX path of "${_}")
      set q_temp_folder to quoted form of temp_folder

      ${T}

      set x to alias (POSIX file temp_folder)

      try
        tell application "System Events"
          tell ${u} desktop
            set picture to (x as text)
            return "ok"
          end tell
        end tell
      on error
        set dialogTitle to "Error Setting Wallpaper"
        set dialogText to "Please make sure you have given Raycast the required permission. To make sure, click the button below and grant Raycast the 'System Events' permission."

        display alert dialogTitle message dialogText buttons {"Cancel", "Open Preferences"} default button 2 as informational
          if button returned of result is "Open Preferences" then
            do shell script "open 'x-apple.systempreferences:com.apple.preference.security?Privacy_Automation'"
          end if

        return "error"
      end try
    `)!=="ok")throw new Error("Error setting wallpaper.");return o?!a&&await(0,H.showHUD)("Wallpaper set!"):m&&(m.style=H.Toast.Style.Success,m.title="Wallpaper set!"),!0}catch(_){return console.error(_),m&&(m.style=H.Toast.Style.Failure,m.title="Something went wrong.",m.message="Try with another image or check your internet connection."),!1}},Xs=Gf;var oo=async n=>{let{accessKey:r,collections:o,includeDefaults:a}=(0,Gr.getPreferenceValues)(),s=o?.split(", "),u=["4324303","8647859","298137","2476111","1065976","3430431","1114848","2063295","9389477","932210"],f=a==="yes"&&s?[...u,...s]:s||u,p=await Or(`https://api.unsplash.com/photos/random?orientation=landscape&collections=${encodeURIComponent(f.join(","))}`,{headers:{Authorization:`Client-ID ${r}`}}).then(async S=>await S.json());if(p.errors){(0,Gr.showHUD)(p.errors[0]);return}let{urls:m,id:b}=p,_=m?.raw||m?.full||m?.regular;await Xs({url:_,id:String(b),useHud:!0,isBackground:pt.environment.launchType===pt.LaunchType.Background})&&await pt.LocalStorage.setItem("last-time",n)};var Oe=require("@raycast/api"),Vf=async()=>{let n=new Date,{updateTime:r}=(0,Oe.getPreferenceValues)(),o=await Oe.LocalStorage.getItem("last-time");if(Oe.environment.launchType===Oe.LaunchType.Background){if(r!=="none"&&o!==void 0){let a=new Date(o),s=r.split(" ");switch(s[1]){case"minute":a.setMinutes(a.getMinutes()+Number(s[0]));break;case"hour":a.setHours(a.getHours()+Number(s[0]));break;case"day":a.setDate(a.getDate()+Number(s[0]));break}a.setSeconds(a.getSeconds()-10),a<=n&&await oo(n.getTime())}}else await oo(n.getTime())},Yf=Vf;module.exports=Bu(Qf);0&&(module.exports={});
/*! fetch-blob. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */
/*! formdata-polyfill. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */
/*! node-domexception. MIT License. Jimmy Wrting <https://jimmy.warting.se/opensource> */
