#!/bin/zsh
brew bundle --file $HOME/Brewfile
$(brew --prefix)/opt/fzf/install

{{ if eq .chezmoi.os "darwin" -}}
  echo "MacOS detected"
{{ else if eq .chezmoi.os "linux" -}}
  echo "Installing $PACKAGES"
  curl -fsSL https://raw.githubusercontent.com/nodenv/nodenv-installer/master/bin/nodenv-installer | bash
  {{ if eq .chezmoi.osRelease.id "ubuntu" -}}
    echo "Ubuntu detected. Skipping GUI specific packages"
    sudo apt-get install -y build-essential
    sudo apt-get install -y neovim fzf fzy ripgrep htop fd-find bat xclip openssh keychain util-linux efitools binutils
    {{else}}
    echo "Arch Linux detected"
    sudo pacman -S --noconfirm base-devel
    echo "Installing LINUX_GUI_PACKAGES"
    sudo pacman -S --noconfirm neovim fzf fzy ripgrep htop nodenv fd fd-find bat xclip openssh keychain util-linux efitools binutils ttf-google-fonts-git ttf-jetbrains-mono ttc-iosevka ttf-hack ttf-fira-mono ttf-fira-code ttf-ms-fonts ttf-vista-fonts noto-fonts nerd-fonts-jetbrains-mono kitty sbctl
    {{ end -}}
{{ end -}}
